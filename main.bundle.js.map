{"version":3,"sources":["webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src async","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/app.component.css","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/app.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/app.component.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/app.module.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/base/base.component.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/address-dlg.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/addresslist-dlg.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/loading-diag.component.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-admin.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-admin.component.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-edit-dlg.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-returnconfirmdlg.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-share-dlg.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-share.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-share.component.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map.component.css","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map.component.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map.module.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map.service.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/mapslist.component.css","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/mapslist.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/mapslist.component.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/marker-cluster.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/markerclusterer.js","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/windowref.service.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/routing/routing.module.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/home.component.css","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/home.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/home.component.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/login.component.css","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/login.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/login.component.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/main-ui.module.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/notify-dlg.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/user-admin-createuser.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/user-admin-selectuser.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/user-admin.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/user-admin.component.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/user.component.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/user.module.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/userinfo.component.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/userinfo.component.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/version-info.html","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/environments/environment.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/src/main.ts","webpack:///C:/Users/dilue/PhpstormProjects/toowong-maps/~/moment-es6/~/moment/locale ^\\.\\/.*$"],"names":[],"mappings":"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AAY;8DAAM;AAO5C;IAAR,2EAAK,EAAE;;2DAAyB;AAKxB;IAAR,2EAAK,EAAE;;qDAON;AAEO;IAAR,2EAAK,EAAE;;uDAKN;AAEO;IAAR,2EAAK,EAAE;;kEAAgC;AAnC7B,sBAAsB;IAHlC,+EAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;KAC3B,CAAC;yDAsC8B,uEAAoB,oBAApB,uEAAoB;GArCvC,sBAAsB,CA8LlC;AA9LkC;;;;;;;;;ACbnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,4BAA4B;AACvC;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;;AAGA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,qBAAqB;AAC9C;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAa,2BAA2B;AACxC;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,2BAA2B;AACvC,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,wBAAwB;AACpC;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,2BAA2B;AACtC,WAAW,SAAS;AACpB;AACA;AACA,yBAAyB,qBAAqB;AAC9C;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,sBAAsB,sBAAsB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,2BAA2B;AACtC,WAAW,SAAS;AACpB;AACA;AACA;;AAEA,yBAAyB,qBAAqB;AAC9C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,yBAAyB;AACpC,YAAY,yBAAyB;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,yBAAyB;AACpC,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA,0BAA0B,6BAA6B;AACvD;AACA;;AAEA;AACA,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,0BAA0B;AACtD;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,mBAAmB;AAC9B,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,0BAA0B,6BAA6B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,6BAA6B;AACvD;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,6BAA6B;AACvD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,GAAG;AACH,sBAAsB,sBAAsB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,yBAAyB;AACrC;AACA;AACA;AACA;AACA,yBAAyB,qBAAqB;AAC9C;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,2BAA2B;AACvC;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,mBAAmB;AAC/B;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,uBAAuB;AAClC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,YAAY,kBAAkB;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,YAAY,OAAO;AACnB;AACA;AACA;AACA,sDAAsD;AACtD;AACA,6DAA6D;;AAE7D;AACA;AACA;AACA;AACA,cAAc,uCAAuC;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CAAC;IAC3B,oFAAc,EAAE,CAAC;AACnB,CAAC;AAED,wHAAsB,EAAE,CAAC,eAAe,CAAC,kEAAS,CAAC,CAAC;;;;;;;;ACVpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6F","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"../../../../../src async recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src async\n// module id = ../../../../../src async recursive\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\r\\n  font-family: 'Roboto', sans-serif;\\r\\n}\\r\\n.mat-dialog-container {\\r\\n  max-height: 70vh !important;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = 1","module.exports = \"<!--The whole content below can be removed with the new code.-->\\r\\n<div mat-app-background>\\r\\n  <router-outlet></router-outlet>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = 1","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { BrowserAnimationsModule} from '@angular/platform-browser/animations';\r\nimport { RoutingModule } from './routing/routing.module';\r\nimport 'hammerjs';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { MainUIModule } from './ui/main-ui.module';\r\nimport { MATERIAL_COMPATIBILITY_MODE } from '@angular/material';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    MainUIModule,\r\n    RoutingModule\r\n  ],\r\n  providers: [{provide: MATERIAL_COMPATIBILITY_MODE, useValue: true}],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/app.module.ts","import { Component, Input, ViewChild, EventEmitter, OnInit, OnDestroy } from '@angular/core';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { environment } from '../../environments/environment';\r\nimport { MatDialog, MatDialogRef } from '@angular/material';\r\nimport { LoadingDialog } from '../map/loading-diag.component';\r\nimport * as _ from 'lodash';\r\nimport { AuthService, MapsUser } from '../user/user.component';\r\nimport { LoginComponent } from '../ui/login.component';\r\n\r\nexport class BaseComponent implements OnInit, OnDestroy {\r\n  protected loadingDialog: any;\r\n  protected subs: any[] = [];\r\n  protected dialog: MatDialog;\r\n  protected fireAuth: AuthService;\r\n  protected loginDiag: MatDialogRef<any>;\r\n  public errorMsg: string;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  showLoadingDialog() {\r\n    this.loadingDialog = this.dialog.open(LoadingDialog, {disableClose:true});\r\n  }\r\n\r\n  hideLoadingDialog() {\r\n    if (this.loadingDialog) {\r\n      this.loadingDialog.close();\r\n      this.loadingDialog = null;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.unsubscribeAll();\r\n  }\r\n\r\n  unsubscribeAll() {\r\n    _.forEach(this.subs, sub => {\r\n      sub.unsubscribe();\r\n    });\r\n  }\r\n\r\n  requireLogin() {\r\n    this.subs.push(this.fireAuth.getUserObs().subscribe(user => {\r\n      if (user) {\r\n        if (this.loginDiag) {\r\n          this.loginDiag.close();\r\n        }\r\n        if (this.fireAuth.currentUser) {\r\n          this.postLoginSetup();\r\n        } else {\r\n          this.fireAuth.getAllUserInfo();\r\n          this.subs.push(this.fireAuth.onCurrentUserInfo.subscribe(user => {\r\n            this.postLoginSetup();\r\n          }));\r\n        }\r\n      } else {\r\n        this.loginDiag = this.dialog.open(LoginComponent, {data: {consumer: this}, disableClose: true});\r\n      }\r\n    }));\r\n  }\r\n\r\n  postLoginSetup() {\r\n    console.log(`BaseComponent post login, doing nothing.`);\r\n  }\r\n\r\n  login(creds) {\r\n    this.errorMsg = \"\";\r\n    console.log(`BaseComponent logging in: `);\r\n    console.log(creds);\r\n    this.showLoadingDialog();\r\n    this.fireAuth.login(creds.email, creds.password).then(user => {\r\n      this.hideLoadingDialog();\r\n    }).catch(error => {\r\n      this.hideLoadingDialog();\r\n      // Handle Errors here.\r\n      console.log(error);\r\n      const errorMessage = error.message;\r\n      this.errorMsg = errorMessage;\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    // this.mapComp.clearMaps();\r\n    this.fireAuth.logout();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/base/base.component.ts","module.exports = \"<form name='addrForm' #addrForm=\\\"ngForm\\\">\\r\\n  <div mat-dialog-content>\\r\\n    <!-- Normal dialog -->\\r\\n    <ng-container *ngIf=\\\"data.consumer.isEditStatus()\\\">\\r\\n      <div flex=\\\"\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\" style=\\\"margin-top:5px;\\\">\\r\\n        <button *ngIf=\\\"data.consumer.currentGmapUrl && data.consumer.mapStarted\\\" mat-fab (click)=\\\"data.consumer.saveStatus()\\\" style=\\\"margin-right:5px;\\\"><mat-icon>save</mat-icon></button>\\r\\n        <a *ngIf=\\\"data.consumer.currentGmapUrl\\\" target=\\\"_blank\\\" href=\\\"{{ data.consumer.currentGmapUrl }}\\\" mat-fab style=\\\"margin-right:5px;\\\"><mat-icon svgIcon=\\\"google-map\\\"></mat-icon></a>\\r\\n        <a *ngIf=\\\"!data.consumer.hasMultiAdds() && !data.consumer.isUpdater()\\\" href=\\\"{{ data.consumer.currentFeedbackUrl }}\\\" target=\\\"_blank\\\" mat-fab style=\\\"margin-right:5px;\\\"><mat-icon svgIcon=\\\"edit-address\\\"></mat-icon></a>\\r\\n        <button *ngIf=\\\"data.consumer.isUpdater() && !data.consumer.hasMultiAdds()\\\" (click)=\\\"data.consumer.setEditingAddress();data.consumer.enableEditAddress()\\\" mat-fab style=\\\"margin-right:5px;\\\"><mat-icon svgIcon=\\\"edit-address\\\"></mat-icon></button>\\r\\n        <button mat-fab (click)=\\\"data.consumer.cancelAddrDlg()\\\"><mat-icon>cancel</mat-icon></button>\\r\\n      </div>\\r\\n      <mat-card *ngIf=\\\"data.consumer.mapStarted\\\">\\r\\n        <mat-card-content>\\r\\n          <div><h3>{{ data.consumer.currentAddrTitle }} </h3></div>\\r\\n          <div *ngIf=\\\"data.consumer.isNotAtHome() && data.consumer.hasDetail()\\\"><h4>Last Visited: {{ data.consumer.getLastVisited() | date:'EEE, hh:mm a, dd MMM y' }} </h4></div>\\r\\n          <div *ngIf=\\\"data.consumer.isUpdater() && data.consumer.currentAddr.addObj.tel\\\"><h5>PH: {{ data.consumer.currentAddr.addObj.tel }}</h5></div>\\r\\n          <mat-radio-group *ngIf=\\\"!data.consumer.hasMultiAdds() && data.consumer.selectedAddObj\\\" class=\\\"addrstat-radio-group\\\" name=\\\"stat\\\" [(ngModel)]=\\\"data.consumer.selectedAddObj.status\\\">\\r\\n            <mat-radio-button class=\\\"addrstat-radio-button\\\" *ngFor=\\\"let stat of data.consumer.addrStatuses\\\" [value]=\\\"stat.val\\\">\\r\\n              {{ stat.label }}\\r\\n            </mat-radio-button>\\r\\n          </mat-radio-group>\\r\\n          <mat-list *ngIf=\\\"data.consumer.hasMultiAdds()\\\">\\r\\n            <mat-list-item *ngFor=\\\"let addObj of data.consumer.currentAddr.addObj\\\">\\r\\n              <button mat-raised-button color=\\\"accent\\\" (click)=\\\"data.consumer.selectAdd(addObj)\\\"> {{ data.consumer.getAddressTitle(addObj) }} </button>\\r\\n            </mat-list-item>\\r\\n          </mat-list>\\r\\n        </mat-card-content>\\r\\n      </mat-card>\\r\\n      <mat-card *ngIf=\\\"!data.consumer.mapStarted\\\">\\r\\n        <mat-card-content>\\r\\n          <span><h3>{{ data.consumer.currentAddrTitle }} </h3></span>\\r\\n          <div>\\r\\n              If you are expecting to work on this map, please ask any map updaters to assign this map to an owner.\\r\\n          </div>\\r\\n        </mat-card-content>\\r\\n      </mat-card>\\r\\n    </ng-container>\\r\\n    <!-- Admin Edit address mode version -->\\r\\n    <ng-container *ngIf=\\\"data.consumer.isEditModeAddress()\\\">\\r\\n      <div flex=\\\"\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\" style=\\\"margin-top:5px;\\\">\\r\\n        <button mat-fab [disabled]=\\\"!addrForm.valid\\\" (click)=\\\"data.consumer.saveAddressEdit()\\\" style=\\\"margin-right:5px;\\\"><mat-icon>save</mat-icon></button>\\r\\n        <button mat-fab (click)=\\\"data.consumer.cancelAddrDlg()\\\"><mat-icon>cancel</mat-icon></button>\\r\\n      </div>\\r\\n      <mat-card>\\r\\n        <mat-card-content>\\r\\n          <mat-list *ngIf=\\\"data.consumer.hasMultiAdds()\\\">\\r\\n            <mat-list-item *ngFor=\\\"let addObj of data.consumer.currentAddr.addObj\\\">\\r\\n              <button mat-raised-button color=\\\"accent\\\" (click)=\\\"data.consumer.selectAdd(addObj)\\\"> {{ data.consumer.getAddressTitle(addObj) }} </button>\\r\\n            </mat-list-item>\\r\\n          </mat-list>\\r\\n          <!-- Address edit mode -->\\r\\n          <div class=\\\"address-edit-container\\\" *ngIf=\\\"!data.consumer.hasMultiAdds() && data.consumer.selectedAddObj\\\">\\r\\n            <ng-container *ngFor=\\\"let addObj of data.consumer.selectedAddObj\\\">\\r\\n              <span><h3><a href=\\\"/map/{{addObj.mapId}}\\\" target=\\\"_blank\\\">{{ data.consumer.getAddressTitle(addObj) }}</a></h3></span>\\r\\n              <mat-form-field>\\r\\n                <input matInput placeholder=\\\"Unit\\\" name=\\\"unit\\\" [(ngModel)]=\\\"addObj.unit\\\">\\r\\n              </mat-form-field>\\r\\n              <mat-form-field>\\r\\n                <input matInput placeholder=\\\"House Number\\\" name=\\\"hnum\\\" [(ngModel)]=\\\"addObj.hnum\\\" required>\\r\\n              </mat-form-field>\\r\\n              <mat-form-field>\\r\\n                <input matInput placeholder=\\\"Street\\\" name=\\\"st\\\" [(ngModel)]=\\\"addObj.st\\\" required>\\r\\n              </mat-form-field>\\r\\n              <mat-form-field>\\r\\n                <input matInput placeholder=\\\"Suburb\\\" name=\\\"burb\\\" [(ngModel)]=\\\"addObj.burb\\\" required>\\r\\n              </mat-form-field>\\r\\n              <mat-form-field>\\r\\n                <input matInput placeholder=\\\"Zipcode\\\" name=\\\"pcode\\\" [(ngModel)]=\\\"addObj.pcode\\\" required>\\r\\n              </mat-form-field>\\r\\n              <mat-form-field>\\r\\n                <input matInput placeholder=\\\"Latitude\\\" name=\\\"clat\\\" [(ngModel)]=\\\"addObj.clat\\\" required>\\r\\n              </mat-form-field>\\r\\n              <mat-form-field>\\r\\n                <input matInput placeholder=\\\"Longitude\\\" name=\\\"clong\\\" [(ngModel)]=\\\"addObj.clong\\\" required>\\r\\n              </mat-form-field>\\r\\n              <mat-form-field>\\r\\n                <input matInput placeholder=\\\"Phone\\\" name=\\\"tel\\\" [(ngModel)]=\\\"addObj.tel\\\">\\r\\n              </mat-form-field>\\r\\n              <mat-divider></mat-divider>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n        </mat-card-content>\\r\\n      </mat-card>\\r\\n    </ng-container>\\r\\n    <!-- Move Address -->\\r\\n  </div>\\r\\n</form>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/address-dlg.component.html\n// module id = ../../../../../src/app/map/address-dlg.component.html\n// module chunks = 1","module.exports = \"<div mat-dialog-content>\\r\\n\\r\\n      <span><h3>{{ data.consumer.title }} </h3></span>\\r\\n      <table width=\\\"100%\\\">\\r\\n        <tr>\\r\\n            <td><strong>Address</strong></td>\\r\\n            <td width=\\\"110px;\\\"><strong>Status</strong></td>\\r\\n        </tr>\\r\\n        <tr *ngFor=\\\"let addObj of data.consumer.currentAddrList\\\">\\r\\n          <td >\\r\\n            <a target=\\\"_blank\\\" href=\\\"{{ data.consumer.getGmapUrl(addObj) }}\\\" >\\r\\n              {{ data.consumer.getAddressTitle(addObj) }}\\r\\n            </a>\\r\\n          </td>\\r\\n          <td >\\r\\n            <mat-select [(ngModel)]=\\\"addObj.status\\\" [style.font-weight]=\\\"'bold'\\\" [style.background-color]=\\\"data.consumer.getStatusBgColor(addObj)\\\">\\r\\n              <ng-container *ngFor=\\\"let stat of data.consumer.addrStatuses\\\">\\r\\n                <mat-option [value]=\\\"stat.val\\\" >{{stat.label}}</mat-option>\\r\\n              </ng-container>\\r\\n            </mat-select>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n      <br/>\\r\\n      <button mat-fab *ngIf=\\\"data.consumer.mapStarted\\\" (click)=\\\"data.consumer.saveStatuses()\\\" ><mat-icon>save</mat-icon></button>\\r\\n      <button mat-fab (click)=\\\"data.consumer.closeAddrListDlg()\\\"><mat-icon>cancel</mat-icon></button>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/addresslist-dlg.component.html\n// module id = ../../../../../src/app/map/addresslist-dlg.component.html\n// module chunks = 1","import { MatDialog, MatDialogRef } from '@angular/material';\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n selector: 'loading-dialog',\r\n template: `\r\n            <div mat-dialog-content>\r\n              <div class=\"flex-container\"\r\n               fxLayout=\"column\"\r\n               fxLayout.xs=\"column\"\r\n               fxLayoutAlign=\"center center\"\r\n               fxLayoutAlign.xs=\"start\">\r\n                  <img src=\"/assets/images/pie-loader.svg\">\r\n               </div>\r\n            </div>\r\n            `\r\n})\r\nexport class LoadingDialog {\r\n constructor(public dialogRef: MatDialogRef<any>) {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/loading-diag.component.ts","module.exports = \"<div style=\\\"text-align:center\\\">\\r\\n  <h2>\\r\\n    {{ appTitle }}\\r\\n  </h2>\\r\\n</div>\\r\\n<div>\\r\\n   <mat-toolbar [ngClass]=\\\"'bgc-blue-grey-900 whiteText marginTopBottom-2'\\\">\\r\\n      <userinfo></userinfo>\\r\\n      <span class=\\\"fill-remaining-space\\\"></span>\\r\\n      <span><a style=\\\"margin-right: 5px;\\\" mat-mini-fab [routerLink]=\\\"['/home']\\\" ><mat-icon >home</mat-icon></a></span>\\r\\n      <user-admin></user-admin>\\r\\n   </mat-toolbar>\\r\\n</div>\\r\\n<mat-tab-group >\\r\\n  <!-- <mat-tab label=\\\"Search\\\">\\r\\n    <map-search></map-search>\\r\\n  </mat-tab> -->\\r\\n  <mat-tab label=\\\"Add Data\\\">\\r\\n    <mat-radio-group class=\\\"radio-group\\\" [(ngModel)]=\\\"newDataType\\\" >\\r\\n      <mat-radio-button value=\\\"fsg\\\" class=\\\"radio-button\\\">FSG</mat-radio-button>\\r\\n      <mat-radio-button value=\\\"map\\\" class=\\\"radio-button\\\">Map</mat-radio-button>\\r\\n      <!-- <mat-radio-button value=\\\"[(ngModel)]=\\\"newDataType\\\" address\\\" class=\\\"radio-button\\\">Address</mat-radio-button> -->\\r\\n    </mat-radio-group>\\r\\n    <!-- -->\\r\\n    <div *ngIf=\\\"newDataType == 'fsg'\\\" style=\\\"padding: 10px;\\\">\\r\\n      <mat-form-field >\\r\\n        <input matInput placeholder=\\\"New FSG name\\\" [(ngModel)]=\\\"fsgName\\\">\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"newDataType == 'map'\\\" style=\\\"padding: 10px;\\\">\\r\\n      <mat-form-field >\\r\\n        <input matInput placeholder=\\\"New Map Name\\\" [(ngModel)]=\\\"mapName\\\">\\r\\n      </mat-form-field>\\r\\n      <mat-form-field>\\r\\n        <mat-select placeholder=\\\"FSG\\\" [(value)]=\\\"fsgName\\\">\\r\\n            <mat-option *ngFor=\\\"let fsg of fsgs\\\" [value]=\\\"fsg\\\">\\r\\n              {{fsg}}\\r\\n            </mat-option>\\r\\n        </mat-select>\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n\\r\\n    <div  style=\\\"padding: 10px;\\\">\\r\\n      <button mat-raised-button color=\\\"primary\\\" *ngIf=\\\"newDataType != null\\\" (click)=\\\"saveNewData()\\\">Save</button>\\r\\n      <div *ngIf=\\\"msg\\\">{{ msg }}</div>\\r\\n    </div>\\r\\n  </mat-tab>\\r\\n\\r\\n  <mat-tab label=\\\"Search Address\\\">\\r\\n    <form (ngSubmit)=\\\"searchData()\\\">\\r\\n      <!-- <mat-radio-group class=\\\"radio-group\\\" [(ngModel)]=\\\"searchDataType\\\" >\\r\\n        <mat-radio-button value=\\\"address\\\" class=\\\"radio-button\\\">Address</mat-radio-button>\\r\\n      </mat-radio-group> -->\\r\\n\\r\\n      <div *ngIf=\\\"searchDataType == 'address'\\\" style=\\\"padding: 10px; width:100%\\\">\\r\\n        <mat-form-field style=\\\"width: 400px;\\\">\\r\\n          <input matInput placeholder=\\\"Street Name (first few letters)\\\" [(ngModel)]=\\\"stName\\\" [ngModelOptions]=\\\"{standalone: true}\\\" [disabled]=\\\"isBusy\\\">\\r\\n        </mat-form-field>\\r\\n        <button type=\\\"submit\\\" mat-raised-button color=\\\"primary\\\" *ngIf=\\\"searchDataType != null\\\" (click)=\\\"searchData()\\\" [disabled]=\\\"isBusy\\\" >Search</button>\\r\\n      </div>\\r\\n\\r\\n      <div  style=\\\"padding: 10px;\\\">\\r\\n        <div *ngIf=\\\"msg\\\">{{ msg }}</div>\\r\\n      </div>\\r\\n\\r\\n      <table *ngIf=\\\"searchRes && searchRes.length > 0\\\" >\\r\\n        <thead>\\r\\n          <tr>\\r\\n            <td> Address </td>\\r\\n            <td> Suburb </td>\\r\\n            <td> Map </td>\\r\\n            <td> FSG </td>\\r\\n          </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n          <tr *ngFor=\\\"let elem of searchRes\\\">\\r\\n            <td> {{ elem.fullSt }} </td>\\r\\n            <td> {{ elem.burb }} </td>\\r\\n            <td> <a [routerLink]=\\\"['/map', elem.mapId]\\\" target=\\\"_blank\\\"> {{ elem.map }} </a> </td>\\r\\n            <td> {{ elem.fsg }} </td>\\r\\n          </tr>\\r\\n        </tbody>\\r\\n      </table>\\r\\n\\r\\n      <!-- <table mat-table [dataSource]=\\\"searchRes\\\" class=\\\"mat-elevation-z8\\\">\\r\\n        <ng-container matColumnDef=\\\"fullSt\\\">\\r\\n          <th mat-header-cell *matHeaderCellDef> Address </th>\\r\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.fullSt }} </td>\\r\\n        </ng-container>\\r\\n        <ng-container matColumnDef=\\\"burb\\\">\\r\\n          <th mat-header-cell *matHeaderCellDef> Suburb </th>\\r\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.burb }} </td>\\r\\n        </ng-container>\\r\\n        <ng-container matColumnDef=\\\"map\\\">\\r\\n          <th mat-header-cell *matHeaderCellDef> Map </th>\\r\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.map }} </td>\\r\\n        </ng-container>\\r\\n        <ng-container matColumnDef=\\\"fsg\\\">\\r\\n          <th mat-header-cell *matHeaderCellDef> FSG </th>\\r\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.fsg }} </td>\\r\\n        </ng-container>\\r\\n\\r\\n        <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\r\\n        <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\r\\n      </table> -->\\r\\n    </form>\\r\\n  </mat-tab>\\r\\n\\r\\n</mat-tab-group>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-admin.component.html\n// module id = ../../../../../src/app/map/map-admin.component.html\n// module chunks = 1","import { Component, Input, ViewChild, EventEmitter, Inject} from '@angular/core';\r\nimport { MapService } from './map.service';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { environment } from '../../environments/environment';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA, MatIconRegistry } from '@angular/material';\r\nimport { LoadingDialog } from './loading-diag.component';\r\nimport * as _ from 'lodash';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { WindowRef } from './windowref.service';\r\nimport { BaseComponent } from '../base/base.component';\r\nimport { AuthService } from '../user/user.component';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { NotifyDlgComponent } from '../ui/home.component';\r\n\r\n@Component({\r\n  selector: 'map-admin-component',\r\n  templateUrl: './map-admin.component.html'\r\n})\r\nexport class MapAdminComponent extends BaseComponent {\r\n  appTitle: string = environment.app.title;\r\n  newDataType: string = null;\r\n  searchDataType: string = 'address';\r\n  isBusy: boolean = false;\r\n  searchRes: any;\r\n  displayedColumns = [\"fullSt\", \"burb\", \"map\", \"fsg\"];\r\n\r\n  fsgName: string;\r\n  mapName: string;\r\n  stName: string;\r\n\r\n  msg: string;\r\n\r\n  mapBin: any = {};\r\n  mapIds: any = [];\r\n  fsgs: any;\r\n\r\n  constructor(dialog: MatDialog, fireAuth: AuthService, protected mapService: MapService, private winRef: WindowRef) {\r\n    super();\r\n    this.dialog = dialog;\r\n    this.fireAuth = fireAuth;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.mapService.getAllFsgMaps(this.mapBin)\r\n    .flatMap((mapId:any) => {\r\n      return Observable.of(null);\r\n    })\r\n    .debounce(() => {\r\n      return Observable.interval(1000)\r\n    })\r\n    .subscribe(() => {\r\n      _.forOwn(this.mapBin, (mapVal, mapId) => {\r\n        this.mapIds.push(mapVal);\r\n      });\r\n      this.fsgs = _.uniq(_.map(this.mapIds, (mapId) => { return mapId.fsgName }));\r\n    });\r\n    this.mapService.getMetadata().subscribe(meta => {\r\n\r\n    });\r\n  }\r\n\r\n  saveNewData() {\r\n    const that = this;\r\n    if (this.newDataType == \"fsg\") {\r\n      if (_.find(this.fsgs, (fsg) => { return fsg == this.fsgName; })) {\r\n        this.msg = \"Name already exists.\";\r\n        return;\r\n      }\r\n      this.isBusy = true;\r\n      this.mapService.addNewFsg(this.fsgName, () => {\r\n        that.msg = \"FSG Successfully Added!\"\r\n        that.isBusy = false;\r\n      });\r\n    }\r\n    if (this.newDataType == \"map\") {\r\n      this.isBusy = true;\r\n      this.mapService.addNewMap(this.fsgName, this.mapName, false, () => {\r\n        that.msg = \"Map Successfully Added!\"\r\n        that.isBusy = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  searchData() {\r\n    this.isBusy = true;\r\n    this.showLoadingDialog();\r\n    const that = this;\r\n    if (this.searchDataType == \"address\") {\r\n      console.log(`Finding: ${this.stName}`);\r\n      this.mapService.findByStreet(this.stName, (searchRes) => {\r\n        console.log(searchRes);\r\n        this.isBusy = false;\r\n        const sRes = []\r\n        _.forOwn(searchRes, (addObj, addId)=>{\r\n          addObj['addId'] = addId;\r\n          addObj['fullSt'] = `${addObj.unit && addObj.unit != -9 ? `${addObj.unit}/` : ''} ${addObj.hnum} ${addObj.st}`\r\n          sRes.push(addObj)\r\n        });\r\n        this.searchRes = sRes;\r\n        this.hideLoadingDialog();\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-admin.component.ts","module.exports = \"<div mat-dialog-content>\\r\\n      <span><h3> Edit Map </h3></span>\\r\\n        <mat-card>\\r\\n          <mat-card-content>\\r\\n            <div>\\r\\n              <mat-form-field style=\\\"width: 300px;\\\">\\r\\n                <input matInput placeholder=\\\"Map Name\\\" [(ngModel)]=\\\"data.consumer.mapName\\\" [ngModelOptions]=\\\"{standalone: true}\\\" >\\r\\n              </mat-form-field>\\r\\n            </div>\\r\\n            <div>\\r\\n              <mat-form-field>\\r\\n                <mat-select placeholder=\\\"FSG\\\" [(value)]=\\\"data.consumer.fsgName\\\">\\r\\n                    <mat-option *ngFor=\\\"let fsg of data.consumer.fsgs\\\" [value]=\\\"fsg\\\">\\r\\n                      {{fsg}}\\r\\n                    </mat-option>\\r\\n                </mat-select>\\r\\n              </mat-form-field>\\r\\n            </div>\\r\\n          </mat-card-content>\\r\\n          <mat-card-actions>\\r\\n            <button mat-fab (click)=\\\"data.consumer.saveMapEdit()\\\" ><mat-icon>save</mat-icon></button>\\r\\n            <button mat-fab (click)=\\\"data.consumer.closeMapEditDlg()\\\"><mat-icon>cancel</mat-icon></button>\\r\\n          </mat-card-actions>\\r\\n        </mat-card>\\r\\n\\r\\n      <mat-dialog-actions>\\r\\n      </mat-dialog-actions>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-edit-dlg.component.html\n// module id = ../../../../../src/app/map/map-edit-dlg.component.html\n// module chunks = 1","module.exports = \"<div mat-dialog-content>\\r\\n  <mat-card>\\r\\n    <mat-card-title>\\r\\n      <h4>Are you sure want to return this map?</h4>\\r\\n    </mat-card-title>\\r\\n    <mat-card-subtitle>If you are Field Service Group overseer or you are assigned to take a group, consider reusing this map.</mat-card-subtitle>\\r\\n    <mat-card-actions>\\r\\n      <button mat-raised-button color=\\\"accent\\\" (click)=\\\"data.consumer.returnMap()\\\">Yes</button>\\r\\n      <button mat-raised-button color=\\\"accent\\\" (click)=\\\"data.consumer.closeConfirmDlg()\\\">No</button>\\r\\n    </mat-card-actions>\\r\\n  </mat-card>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-returnconfirmdlg.component.html\n// module id = ../../../../../src/app/map/map-returnconfirmdlg.component.html\n// module chunks = 1","module.exports = \"<div mat-dialog-content>\\r\\n  <form name='shareForm'>\\r\\n    <mat-card *ngIf=\\\"data.consumer.ownerMode\\\">\\r\\n      <mat-card-header>\\r\\n        <mat-card-title>\\r\\n          <h4>{{data.consumer.ownerCardTitle}}</h4>\\r\\n        </mat-card-title>\\r\\n        <mat-card-subtitle>{{ data.consumer.ownerCardDesc }}</mat-card-subtitle>\\r\\n      </mat-card-header>\\r\\n      <mat-card-content>\\r\\n        <mat-checkbox [(ngModel)]=\\\"data.consumer.isPersonal\\\" name=\\\"isPersonal\\\" (click)=\\\"data.consumer.togglePersonal()\\\">Personal Territory</mat-checkbox>\\r\\n        <tag-input [(ngModel)]=\\\"data.consumer.userList\\\" name=\\\"ownerDlg\\\"\\r\\n           [editable]=\\\"true\\\" [identifyBy]=\\\"'id'\\\" [displayBy]=\\\"'name'\\\"\\r\\n           [maxItems]=\\\"1\\\" [onlyFromAutocomplete]=\\\"true\\\" [placeholder]=\\\"data.consumer.placeHolderTxt\\\" [secondaryPlaceholder]=\\\"data.consumer.placeHolderTxt\\\">\\r\\n           <tag-input-dropdown [appendToBody]=\\\"false\\\" [autocompleteItems]='data.consumer.mapUsers' [identifyBy]=\\\"'$key'\\\" [displayBy]=\\\"'name'\\\"></tag-input-dropdown>\\r\\n        </tag-input>\\r\\n        <mat-form-field>\\r\\n          <textarea matInput placeholder=\\\"Additional notes\\\" matTextareaAutosize matAutosizeMinRows=\\\"1\\\"\\r\\n           matAutosizeMaxRows=\\\"10\\\" [(ngModel)]=\\\"data.consumer.notes\\\" name=\\\"notes\\\"></textarea>\\r\\n        </mat-form-field>\\r\\n        <!-- <mat-form-field>\\r\\n           <input type=\\\"text\\\" matInput name=\\\"selUser\\\" [(ngModel)]=\\\"data.consumer.selUser\\\"  [matAutocomplete]=\\\"autoPub\\\">\\r\\n        </mat-form-field>\\r\\n        <mat-autocomplete #autoPub=\\\"matAutocomplete\\\" [displayWith]=\\\"displayFn\\\">\\r\\n           <mat-option *ngFor=\\\"let mapUser of data.consumer.mapUsers\\\" [value]=\\\"mapUser\\\">\\r\\n             {{ mapUser.userInfoObj.name }}\\r\\n           </mat-option>\\r\\n        </mat-autocomplete> -->\\r\\n        <!-- <button mat-mini-fab (click)=\\\"data.consumer.done()\\\"><mat-icon>person_add</mat-icon></button> -->\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n    <mat-card *ngIf=\\\"!data.consumer.ownerMode\\\">\\r\\n      <mat-card-header>\\r\\n        <mat-card-title>\\r\\n          <h4>{{data.consumer.shareCardTitle}}</h4>\\r\\n        </mat-card-title>\\r\\n        <mat-card-subtitle>{{ data.consumer.shareCardDesc }}</mat-card-subtitle>\\r\\n      </mat-card-header>\\r\\n      <mat-card-content>\\r\\n        <tag-input [(ngModel)]=\\\"data.consumer.userList\\\" name=\\\"ownerDlg\\\"\\r\\n           [editable]=\\\"true\\\" [identifyBy]=\\\"'id'\\\" [displayBy]=\\\"'name'\\\" (onAdd)=\\\"data.consumer.onItemAdded($event)\\\" (onRemove)=\\\"data.consumer.onItemRemove($event)\\\"\\r\\n           [onlyFromAutocomplete]=\\\"true\\\" [placeholder]=\\\"data.consumer.placeHolderTxt\\\" [secondaryPlaceholder]=\\\"data.consumer.placeHolderTxt\\\">\\r\\n           <tag-input-dropdown [appendToBody]=\\\"false\\\" [autocompleteItems]='data.consumer.mapUsers' [identifyBy]=\\\"'$key'\\\" [displayBy]=\\\"'name'\\\"></tag-input-dropdown>\\r\\n        </tag-input>\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n  </form>\\r\\n  <mat-dialog-actions>\\r\\n    <button mat-mini-fab (click)=\\\"data.consumer.done()\\\"><mat-icon>save</mat-icon></button>\\r\\n    <button mat-mini-fab (click)=\\\"data.consumer.cancel()\\\"><mat-icon>cancel</mat-icon></button>\\r\\n  </mat-dialog-actions>\\r\\n  <div>\\r\\n    {{data.consumer.errorMsg}}\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-share-dlg.component.html\n// module id = ../../../../../src/app/map/map-share-dlg.component.html\n// module chunks = 1","module.exports = \"<button mat-mini-fab (click)=\\\"showShareDlg(true)\\\" *ngIf=\\\"canAssignOwner()\\\"><mat-icon>assignment_ind</mat-icon></button>\\r\\n<button mat-mini-fab (click)=\\\"showShareDlg(false)\\\" *ngIf=\\\"canShare()\\\"><mat-icon>share</mat-icon></button>\\r\\n<button mat-mini-fab (click)=\\\"confirmReturnDlg()\\\" *ngIf=\\\"canReturn()\\\"><mat-icon>assignment_return</mat-icon></button>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-share.component.html\n// module id = ../../../../../src/app/map/map-share.component.html\n// module chunks = 1","import { Component, Input, ViewChild, EventEmitter, Output, Inject } from '@angular/core';\r\nimport { MapService, Fsg, Map } from './map.service';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { LoadingDialog } from './loading-diag.component';\r\nimport { BaseComponent } from '../base/base.component';\r\nimport { AuthService, MapsUser } from '../user/user.component';\r\nimport { WindowRef } from './windowref.service';\r\nimport moment from 'moment-es6';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n  selector: 'mapshare',\r\n  templateUrl: './map-share.component.html'\r\n})\r\nexport class MapShareComponent extends BaseComponent {\r\n  @Input() map: Map;\r\n  @Input() campaignMode: boolean = false;\r\n  mapUsers: any[] = [];\r\n  errorMsg: string;\r\n  shareDlg: MatDialogRef<any>;\r\n  userList:any;\r\n  isPersonal: boolean;\r\n  newUsersList: any[] = [];\r\n  removeUsersList: any[] = [];\r\n  curOwner: any = null;\r\n  placeHolderTxt: string = 'Type and select name';\r\n  ownerCardTitle: string = 'Map Owner';\r\n  ownershipPersonalDuration = '3 months';\r\n  ownershipDuration = '2 weeks';\r\n  ownerCardDesc: string = `An owner can use/share the map within ${this.ownershipDuration} from the time of assignment. After this time, the map will be removed from the owner's assignment list. Please reassign ownership if needed. A map can only have one owner. Removing an owner, will remove all users.`;\r\n  defaultOwnerCardDesc: string = this.ownerCardDesc;\r\n  ownershipPersonalDesc: string = `Please consult the Service Overseer when assigning personal territories. An owner can use/share the map within ${this.ownershipPersonalDuration} from the time of assignment. After this time, the map will be removed from the owner's assignment list. Please reassign ownership if needed. A map can only have one owner. Removing an owner, will remove all users.`;\r\n  shareCardTitle: string = 'Map Users';\r\n  shareCardDesc: string = `A user will have access to the map within the day of the assignment. After this time, the map will be removed from the user's list. Please reshare again if needed.`;\r\n  ownerMode: boolean = false; // whether to set owners or sharers\r\n  confirmDlg: MatDialogRef<any>;\r\n  notes: any;\r\n\r\n  constructor(dialog: MatDialog, fireAuth: AuthService, protected mapService: MapService, private winRef: WindowRef) {\r\n    super();\r\n    this.dialog = dialog;\r\n    this.fireAuth = fireAuth;\r\n  }\r\n\r\n  public showShareDlg(ownerMode:boolean = true) {\r\n    this.ownerMode = ownerMode;\r\n    this.subs.push(this.fireAuth.getAllUsersList().subscribe(userList => {\r\n      this.mapUsers = userList;\r\n      this.isPersonal = this.map.assgnObj.isPersonal;\r\n      this.notes = this.map.assgnObj.notes;\r\n      if (this.ownerMode && this.map.hasOwner()) {\r\n        this.curOwner = this.map.getOwner();\r\n        this.userList = [this.curOwner];\r\n      } else {\r\n        this.userList = this.map.getUsersList();\r\n      }\r\n      if (!this.shareDlg) {\r\n        this.shareDlg = this.dialog.open(MapShareDlgComponent, {\r\n          data: {consumer: this},\r\n          disableClose: true\r\n        });\r\n      }\r\n    }));\r\n  }\r\n\r\n  done() {\r\n    this.showLoadingDialog();\r\n    if (this.ownerMode) {\r\n      if (_.isEmpty(this.userList)) {\r\n        this.mapService.removeOwner(this.map, this.curOwner, this.notes);\r\n        this.mapService.removeUsers(this.map, this.map.getUsersList());\r\n      } else {\r\n        if (this.isPersonal) {\r\n          // set to 3 months from now...\r\n          this.userList[0].expiry = moment().hour(18).minute(0).second(0).add(3, 'months').toDate(); // set to expire at 8 pm eery time..\r\n        } else {\r\n          // set to 2 weeks from now...\r\n          this.userList[0].expiry = moment().hour(18).minute(0).second(0).add(16, 'days').toDate(); // set to expire at 8 pm eery time..\r\n        }\r\n        this.mapService.updateOwner(this.map, this.userList[0], this.curOwner, this.isPersonal, this.notes);\r\n      }\r\n    } else {\r\n      if (_.isEmpty(this.userList)) {\r\n        console.log(`Remove userslist`);\r\n        console.log(this.removeUsersList);\r\n        this.mapService.removeUsers(this.map, this.removeUsersList);\r\n      } else {\r\n        // set to 1 day for all new items...\r\n        _.forEach(this.newUsersList, (entry) => {\r\n          entry.expiry = moment().hour(20).minute(0).second(0).add(1, 'day').toDate(); // 8 pm too\r\n        });\r\n        this.mapService.removeUsers(this.map, this.removeUsersList);\r\n        this.mapService.updateUsers(this.map, this.userList);\r\n      }\r\n    }\r\n    this.closeShareDialog();\r\n    this.hideLoadingDialog();\r\n  }\r\n\r\n  cancel() {\r\n    this.closeShareDialog();\r\n  }\r\n\r\n  closeShareDialog() {\r\n    this.shareDlg.close();\r\n    this.shareDlg = null;\r\n  }\r\n\r\n  canAssignOwner() {\r\n    if (this.map.mapObj.fsg == 'Queue') {\r\n      return false;\r\n    }\r\n    let doneCtr = this.map.mapObj.doneCtr;\r\n    if (this.campaignMode) {\r\n      doneCtr = this.map.mapObj.campaignCtr;\r\n    }\r\n    if (doneCtr > 0 && (!this.fireAuth.currentUser.isAdmin() && !this.map.hasOwner())) {\r\n      return false;\r\n    }\r\n    return this.fireAuth.currentUser.isAdmin() || this.fireAuth.currentUser.isUpdater();\r\n  }\r\n\r\n  canShare() {\r\n    return this.map.hasOwner() ; //&& (this.fireAuth.currentUser.isAdmin() || this.fireAuth.currentUser.userInfoObj.$key == this.map.getOwner().id);\r\n  }\r\n\r\n  canReturn() {\r\n    return this.map.hasOwner() && this.map.isOwner(this.fireAuth.currentUser);\r\n  }\r\n\r\n  confirmReturnDlg() {\r\n    this.confirmDlg = this.dialog.open(MapReturnConfirmDlgComponent, {\r\n      data: {consumer: this},\r\n      disableClose: true\r\n    });\r\n  }\r\n\r\n  closeConfirmDlg() {\r\n    this.confirmDlg.close();\r\n    this.confirmDlg = null;\r\n  }\r\n\r\n  returnMap() {\r\n    if (this.fireAuth.currentUser.isAdmin()) {\r\n      this.mapService.removeUsers(this.map, this.map.getUsersList());\r\n      this.mapService.updateUsers(this.map, []);\r\n      this.mapService.removeOwner(this.map, this.map.getOwner());\r\n    } else {\r\n      if (this.map.isOwner(this.fireAuth.currentUser)) {\r\n        this.mapService.removeUsers(this.map, this.map.getUsersList());\r\n        this.mapService.updateUsers(this.map, []);\r\n        this.mapService.removeOwner(this.map, this.map.getOwner());\r\n      }\r\n    }\r\n    this.closeConfirmDlg();\r\n  }\r\n\r\n  onItemAdded(item) {\r\n    this.newUsersList.push(item);\r\n    _.remove(this.removeUsersList, (entry) => {\r\n      return entry.id == item.id;\r\n    });\r\n  }\r\n\r\n  onItemRemove(item) {\r\n    console.log(item);\r\n    _.remove(this.newUsersList, (entry) => {\r\n      return entry.id == item.id;\r\n    });\r\n    this.removeUsersList.push(item);\r\n  }\r\n\r\n  togglePersonal() {\r\n    if (this.isPersonal) {\r\n      this.ownerCardDesc = this.ownershipPersonalDesc;\r\n    } else {\r\n      this.ownerCardDesc = this.defaultOwnerCardDesc;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n@Component({\r\n  selector: 'share-dlg',\r\n  templateUrl: './map-share-dlg.component.html'\r\n})\r\nexport class MapShareDlgComponent {\r\n\r\n  constructor(public dialogRef: MatDialogRef<any>, @Inject(MAT_DIALOG_DATA) public data: any) {\r\n  }\r\n\r\n  displayFn(mapUser: MapsUser):string {\r\n    return mapUser ? mapUser.userInfoObj.name : \"\";\r\n  }\r\n\r\n}\r\n\r\n@Component({\r\n  selector: 'share-dlg',\r\n  templateUrl: './map-returnconfirmdlg.component.html'\r\n})\r\nexport class MapReturnConfirmDlgComponent {\r\n  constructor(public dialogRef: MatDialogRef<any>, @Inject(MAT_DIALOG_DATA) public data: any) {\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map-share.component.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map.component.css\n// module id = ../../../../../src/app/map/map.component.css\n// module chunks = 1","module.exports = \"<mat-toolbar [ngClass]=\\\"'bgc-blue-grey-900 whiteText marginTopBottom-2'\\\">\\r\\n  <span><h3>{{title}}</h3></span>\\r\\n  <span class=\\\"fill-remaining-space\\\"></span>\\r\\n  <!-- <span><button mat-mini-fab (click)=\\\"startMap()\\\" *ngIf=\\\"currentMap\\\" style=\\\"margin-right: 10px;\\\"><mat-icon>play_arrow</mat-icon></button></span> -->\\r\\n  <span>\\r\\n    <button *ngIf=\\\"mapId != 'all' && isUpdater() && !isEditModeMoveAddress()\\\" mat-mini-fab (click)=\\\"addNewAddressMode()\\\" style=\\\"margin-right: 5px;\\\" >\\r\\n      <mat-icon>add_location</mat-icon>\\r\\n    </button>\\r\\n    <button *ngIf=\\\"mapId != 'all' && isUpdater() && !isEditModeMoveAddress() && !mapStarted\\\" mat-mini-fab (click)=\\\"startMoveAddressMode()\\\" style=\\\"margin-right: 5px;\\\" >\\r\\n      <mat-icon>transform</mat-icon>\\r\\n    </button>\\r\\n    <button *ngIf=\\\"isUpdater() && isEditModeMoveAddress()\\\" mat-mini-fab (click)=\\\"stopMoveAddressMode()\\\" style=\\\"margin-right: 5px;\\\" >\\r\\n      <mat-icon>cancel</mat-icon>\\r\\n    </button>\\r\\n    <button mat-mini-fab (click)=\\\"toggleShowLocation()\\\" style=\\\"margin-right: 5px;\\\" >\\r\\n      <mat-icon *ngIf=\\\"!showLocation\\\">location_disabled</mat-icon>\\r\\n      <mat-icon *ngIf=\\\"showLocation && !locationSearching\\\">my_location</mat-icon>\\r\\n      <mat-icon *ngIf=\\\"showLocation && locationSearching\\\">location_searching</mat-icon>\\r\\n    </button>\\r\\n  </span>\\r\\n  <span><button mat-mini-fab (click)=\\\"fitMap()\\\" ><mat-icon svgIcon=\\\"fit-map\\\"></mat-icon></button></span>\\r\\n  <button mat-icon-button [matMenuTriggerFor]=\\\"menu\\\" >\\r\\n    <mat-icon>more_vert</mat-icon>\\r\\n  </button>\\r\\n  <mat-menu #menu=\\\"matMenu\\\" >\\r\\n    <button mat-menu-item (click)=\\\"viewList()\\\">\\r\\n      <mat-icon>view_list</mat-icon>\\r\\n      <span>List View</span>\\r\\n    </button>\\r\\n    <a href=\\\"{{ addUrl }}\\\" target=\\\"_blank\\\" mat-menu-item>\\r\\n      <mat-icon svgIcon=\\\"add-address\\\"></mat-icon>\\r\\n      <span>New Address</span>\\r\\n    </a>\\r\\n    <button mat-menu-item (click)=\\\"editMap()\\\" *ngIf=\\\"isUpdater() && this.mapId != 'all'\\\">\\r\\n      <mat-icon>edit</mat-icon>\\r\\n      <span>Edit Map</span>\\r\\n    </button>\\r\\n    <a mat-menu-item [routerLink]=\\\"['/home']\\\" >\\r\\n      <mat-icon>home</mat-icon>\\r\\n      <span>Home</span>\\r\\n    </a>\\r\\n  </mat-menu>\\r\\n</mat-toolbar>\\r\\n<mat-card *ngIf=\\\"isEditModeMoveAddress() && this.selectedAddresses.length > 0\\\">\\r\\n  <mat-card-title>Move Address(es)</mat-card-title>\\r\\n  <mat-card-content>\\r\\n    <p>\\r\\n      <mat-chip-list selectable=\\\"false\\\">\\r\\n        <mat-chip *ngFor=\\\"let addr of selectedAddresses\\\">{{ getAddressTitle(addr) }} </mat-chip>\\r\\n      </mat-chip-list>\\r\\n    </p>\\r\\n    <p>\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Move to Map ID\\\" name=\\\"findMapId\\\" [(ngModel)]=\\\"findMapId\\\" required>\\r\\n      </mat-form-field>\\r\\n      <button mat-mini-fab (click)=\\\"findTargetMap()\\\" style=\\\"margin-right: 5px;\\\">\\r\\n        <mat-icon>search</mat-icon>\\r\\n      </button>\\r\\n    </p>\\r\\n    <p>\\r\\n      <span *ngIf=\\\"targetMapObj\\\"> Moving to map: {{ targetMapObj.terId }} - {{ targetMapObj.name }} </span>\\r\\n    </p>\\r\\n  </mat-card-content>\\r\\n  <mat-card-actions>\\r\\n    <button [disabled]=\\\"!targetMapObj\\\" mat-mini-fab (click)=\\\"moveSelectedAddresses()\\\" style=\\\"margin-right: 5px;\\\" >\\r\\n      <mat-icon>save</mat-icon>\\r\\n    </button>\\r\\n    <button mat-mini-fab (click)=\\\"stopMoveAddressMode()\\\" style=\\\"margin-right: 5px;\\\" >\\r\\n      <mat-icon>cancel</mat-icon>\\r\\n    </button>\\r\\n  </mat-card-actions>\\r\\n</mat-card>\\r\\n<!-- <mat-toolbar [ngClass]=\\\"'bgc-yellow-100 marginTopBottom-2'\\\" *ngIf=\\\"isAdmin()\\\">\\r\\n  <span><mat-button-toggle style=\\\"margin-right: 10px;\\\" (change)=\\\"toggleShowInfo($event)\\\"><mat-icon>info</mat-icon></mat-button-toggle></span>\\r\\n  <span class=\\\"fill-remaining-space\\\"></span>\\r\\n</mat-toolbar> -->\\r\\n<agm-map [latitude]=\\\"centerLat\\\" [longitude]=\\\"centerLng\\\" [zoom]=\\\"zoom\\\" [ngStyle]=\\\"{'height': height}\\\">\\r\\n  <marker-cluster #markerCluster [onAddLocMarker]=\\\"onAddLocMarker\\\" [onFit]=\\\"onFit\\\" [minimumClusterSize]=\\\"minimumClusterSize\\\" [onAddressClick]=\\\"onAddressClick\\\" [onUpdate]=\\\"mapService.onUpdate\\\" [onSetShowClusterInfo]=\\\"onToggleShowInfo\\\" [points]=\\\"points\\\" ></marker-cluster>\\r\\n</agm-map>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map.component.html\n// module id = ../../../../../src/app/map/map.component.html\n// module chunks = 1","import { Component, Input, ViewChild, EventEmitter, Inject, ElementRef} from '@angular/core';\r\nimport { MapService } from './map.service';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { environment } from '../../environments/environment';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA, MatIconRegistry } from '@angular/material';\r\nimport { LoadingDialog } from './loading-diag.component';\r\nimport * as _ from 'lodash';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { WindowRef } from './windowref.service';\r\nimport { BaseComponent } from '../base/base.component';\r\nimport { AuthService } from '../user/user.component';\r\nimport {DomSanitizer} from '@angular/platform-browser';\r\nimport { NotifyDlgComponent } from '../ui/home.component';\r\nimport moment from 'moment-es6';\r\n\r\n@Component({\r\n  selector: 'map-component',\r\n  templateUrl: './map.component.html',\r\n  styleUrls: ['./map.component.css']\r\n})\r\nexport class MapComponent extends BaseComponent {\r\n  @ViewChild('markerCluster') public markerClusterRef: ElementRef;\r\n\r\n  currentLocation: any = {\r\n    addObj: {clat: null, clang:null},\r\n    // iconUrl: '/assets/images/ic_my_location_red_24px.svg',\r\n    iconUrl: '/assets/images/my_location_1.svg',\r\n    pushed: false\r\n  };\r\n  public points: any = [\r\n  ];\r\n  centerLat: number = -27.5518075;\r\n  centerLng: number = 153.0807544;\r\n  zoom: number = 13;\r\n  height: string = '700px';\r\n  numHeight: number;\r\n  heightPadding: number = 50;\r\n\r\n  maxWaitTries: number = 20;\r\n  maxWaitCtr: number = 0;\r\n  curPointsCtr: number;\r\n  sameCtr: number = 0;\r\n  sameMax: number = 10;\r\n  checkInterval: number = 1000;\r\n  loadingDialog: any;\r\n  showInfo: boolean = false;\r\n  onToggleShowInfo = new EventEmitter<boolean>();\r\n  onComplete = new EventEmitter<any>();\r\n  onAddressClick = new EventEmitter<any>();\r\n  onAddLocMarker = new EventEmitter<any>();\r\n  onPosMarker = new EventEmitter<any>();\r\n  onFit = new EventEmitter<any>();\r\n\r\n  minimumClusterSize: number = 2;\r\n  mapId: string;\r\n  title: string;\r\n  shortenTitleWidth:number = 1024;\r\n  triggerUpdate: boolean = false;\r\n\r\n  addrDlg: MatDialogRef<any>;\r\n  addrListDlg: MatDialogRef<any>;\r\n\r\n  currentAddr: any;\r\n  currentAddrTitle: string;\r\n  currentGmapUrl: string;\r\n  mapStarted: boolean = false;\r\n  currentMap: any;\r\n  showLocation: boolean = false;\r\n  selectedAddObj: any;\r\n  addrStatuses: any;\r\n  locationSearching: boolean = false;\r\n  locationWatch: any;\r\n  currentFeedbackUrl: string;\r\n  currentAddrList: any;\r\n\r\n  addUrl: string;\r\n  notifyDlg: any;\r\n  editMode: string;\r\n  EDIT_MODE_STATUS: string = 'editStatus';\r\n  EDIT_MODE_ADDRESS:string = 'editAddress';\r\n  EDIT_MODE_MOVE_ADDRESS: string = 'moveAddress';\r\n  statusCache:any[] = [];\r\n  ADDRESS_UNSELECTED_ICON: string = '/assets/images/place-markers/home-unselected.svg';\r\n  ADDRESS_SELECTED_ICON: string = '/assets/images/place-markers/home-selected.svg';\r\n  selectedAddrMarkers:any[] = [];\r\n  selectedAddresses:any[] = [];\r\n  lastSelectedAddress: any = null;\r\n  findMapId: any = null;\r\n  targetMapId: any = null;\r\n  targetMapObj: any = null;\r\n\r\n  mapName: string;\r\n  fsgName: string;\r\n  fsgs: string[];\r\n  mapEditDlg: any;\r\n  mapKey: any;\r\n  mapBin = {};\r\n  mapIds = [];\r\n\r\n  constructor(public mapService: MapService, dialog: MatDialog, fireAuth: AuthService, private route: ActivatedRoute, public winRef: WindowRef, iconRegistry: MatIconRegistry, sanitizer: DomSanitizer) {\r\n    super();\r\n    this.dialog = dialog;\r\n    this.fireAuth = fireAuth;\r\n    winRef.redirHttps();\r\n    this.requireLogin();\r\n    iconRegistry.addSvgIcon('fit-map',\r\n        sanitizer.bypassSecurityTrustResourceUrl('/assets/images/fitmap.svg'));\r\n    iconRegistry.addSvgIcon('add-address',\r\n        sanitizer.bypassSecurityTrustResourceUrl('/assets/images/add_address.svg'));\r\n    this.editMode = this.EDIT_MODE_STATUS;\r\n  }\r\n\r\n  setEditingAddress() {\r\n    this.editMode = this.EDIT_MODE_ADDRESS;\r\n  }\r\n\r\n  isEditModeAddress() {\r\n    return this.editMode == this.EDIT_MODE_ADDRESS;\r\n  }\r\n\r\n  setEditModeMoveAddress() {\r\n    this.editMode = this.EDIT_MODE_MOVE_ADDRESS;\r\n  }\r\n\r\n  isEditModeMoveAddress() {\r\n    return this.editMode == this.EDIT_MODE_MOVE_ADDRESS;\r\n  }\r\n\r\n  setEditingStatus() {\r\n    this.editMode = this.EDIT_MODE_STATUS;\r\n  }\r\n\r\n  isEditStatus() {\r\n    return this.editMode == this.EDIT_MODE_STATUS;\r\n  }\r\n\r\n  adjustHeight() {\r\n    this.numHeight = (this.winRef.nativeWindow.innerHeight-this.heightPadding);\r\n    this.height = this.numHeight + 'px';\r\n  }\r\n\r\n  postLoginSetup() {\r\n    // check the route...\r\n    console.log(this.winRef.nativeWindow.innerHeight);\r\n    this.adjustHeight();\r\n    if (!this.mapId) {\r\n      this.title = 'Loading...';\r\n      this.subs.push(this.route.params.subscribe(params => {\r\n        this.mapId = params['id'];\r\n        this.mapService.getMetadata().subscribe(meta => {\r\n          this.loadMaps();\r\n          this.loadPreferences();\r\n        });\r\n      }));\r\n    } else {\r\n      console.log(`Post login set up triggered, already loaded, doing nothing.`);\r\n    }\r\n  }\r\n\r\n  loadPreferences() {\r\n    this.fireAuth.getUserInfo(this.fireAuth.currentUser).subscribe(user => {\r\n      if (user.userInfoObj.geo) {\r\n        const geoLocEmitter = new EventEmitter<any>();\r\n        let lastSaved = null;\r\n        geoLocEmitter.subscribe(pos => {\r\n          const now = moment();\r\n          if (lastSaved != null && now.isBefore(lastSaved.add(1, 'minute'))) {\r\n            return;\r\n          }\r\n          lastSaved = now;\r\n          this.fireAuth.saveLoc(this.fireAuth.currentUser.userObj.uid, pos);\r\n        });\r\n        this.mapService.enableGeolocation(geoLocEmitter);\r\n      }\r\n      this.fireAuth.saveOnlineStat(this.fireAuth.currentUser);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.clearMaps();\r\n    this.unsubscribeAll();\r\n  }\r\n\r\n  toggleShowInfo() {\r\n    this.showInfo = !this.showInfo;\r\n    console.log(`Emitting: ${this.showInfo}`);\r\n    this.onToggleShowInfo.emit(this.showInfo);\r\n  }\r\n\r\n  toggleShowLocation() {\r\n    this.showLocation = !this.showLocation;\r\n    if (this.showLocation) {\r\n      this.showCurrentLoc();\r\n    } else {\r\n      this.mapService.disableGeolocation(this.onPosMarker);\r\n    }\r\n  }\r\n\r\n  fitMap() {\r\n    this.onFit.emit({});\r\n  }\r\n\r\n  accessDenied() {\r\n    this.title = \"Access Denied\";\r\n    this.hideLoadingDialog();\r\n    this.notifyDlg = this.dialog.open(NotifyDlgComponent, {\r\n      data: {consumer: this, title: \"Access denied\", subtitle: \"You don't have privileges to access this page. If you think you should have access, please contact the administrator.\", confirmText: \"Go Home\"},\r\n      disableClose: true\r\n    });\r\n  }\r\n\r\n  confirmNotification() {\r\n    this.notifyDlg.close();\r\n    this.winRef.location('/home');\r\n  }\r\n\r\n  saveAddressEdit() {\r\n    this.mapService.saveAddr(this.selectedAddObj, this.mapId == 'all' ? null : this.currentMap, null, ()=> {\r\n      this.selectedAddObj = null;\r\n      this.closeAddrDlg();\r\n      this.resetEditMode();\r\n    });\r\n  }\r\n\r\n  startMoveAddressMode() {\r\n    this.setEditModeMoveAddress();\r\n    _.each(this.points, (point)=> {\r\n      this.statusCache.push(point.marker.icon.url);\r\n      point.marker.icon.url = this.ADDRESS_UNSELECTED_ICON;\r\n    });\r\n    this.mapService.triggerUpdate();\r\n  }\r\n\r\n  stopMoveAddressMode() {\r\n    this.resetEditMode();\r\n    _.each(this.points, (point, idx) => {\r\n      point.marker.icon.url = this.statusCache[idx];\r\n    });\r\n    this.statusCache = [];\r\n    this.selectedAddresses = [];\r\n    this.selectedAddrMarkers = [];\r\n    this.mapService.triggerUpdate();\r\n  }\r\n\r\n  addNewAddressMode() {\r\n    this.selectedAddObj = [{\r\n        unit: '',\r\n        hnum: '',\r\n        st: '',\r\n        burb: '',\r\n        clat: '',\r\n        clong: '',\r\n        pcode: '',\r\n        tel: ''\r\n    }];\r\n    this.setEditingAddress();\r\n    this.showAddrDlg();\r\n  }\r\n\r\n  enableEditAddress() {\r\n    if (this.isEditModeAddress()) {\r\n      if (this.hasMultiAdds()) {\r\n        this.selectedAddObj = _.map(this.currentAddr.addObj, (addObj) => {\r\n          const clone = _.clone(addObj);\r\n          clone.addId = addObj.$key;\r\n          if (_.isUndefined(clone.unit) || clone.unit == -9) {\r\n            clone.unit = '';\r\n          }\r\n        });\r\n      } else {\r\n        const clone = _.clone(this.currentAddr.addObj);\r\n        clone.addId = this.currentAddr.addObj.$key;\r\n        if (_.isUndefined(clone.unit) || clone.unit == -9) {\r\n          clone.unit = '';\r\n        }\r\n        this.selectedAddObj = [clone];\r\n      }\r\n    }\r\n\r\n    console.log(this.selectedAddObj);\r\n    this.showAddrDlg();\r\n  }\r\n\r\n  loadMaps() {\r\n    if (!_.isEmpty(this.points)) {\r\n      console.log(`Maps already loaded`);\r\n      return;\r\n    }\r\n    const mapBase = environment.app.mapBase;\r\n    // this.showCurrentLoc();\r\n    this.showLoadingDialog();\r\n    if (this.mapId == 'all') {\r\n      this.setEditingAddress();\r\n      if (this.fireAuth.currentUser.isAdmin() || this.fireAuth.currentUser.isUpdater()) {\r\n        this.mapService.loadAllMapsWithMarkers(mapBase);\r\n        // // listen for onClick events for 'all maps'\r\n        // this.subs.push(this.onAddressClick.subscribe(data => {\r\n        //   console.log(data);\r\n        //   this.currentAddr = data.addrMarker;\r\n        //   this.enableEditAddress();\r\n        // }));\r\n      } else {\r\n        this.accessDenied();\r\n        return;\r\n      }\r\n    } else {\r\n      // this.mapService.loadMapMarkers(mapBase, this.mapId, true);\r\n      this.loadSingleMap(mapBase);\r\n      return;\r\n    }\r\n\r\n    const subs = Observable.interval(this.checkInterval).subscribe(n=>{\r\n      if (this.mapService.mapMarkers.length != this.curPointsCtr) {\r\n        this.curPointsCtr = this.mapService.mapMarkers.length;\r\n        this.sameCtr = 0;\r\n      } else {\r\n        this.maxWaitCtr++;\r\n        this.sameCtr++;\r\n        if (this.maxWaitCtr > this.maxWaitTries || this.sameCtr > this.sameMax) {\r\n          console.log(`Got all addresses, rendering...`);\r\n          console.log(`Total no. maps: ${this.mapService.maps.length}`);\r\n          console.log(`Total no. of addresses: ${this.mapService.mapMarkers.length}`);\r\n          this.points = this.mapService.mapMarkers;\r\n          subs.unsubscribe();\r\n          this.hideLoadingDialog();\r\n          this.mapService.trackUpdates = true;\r\n          this.onComplete.emit({});\r\n          if (this.triggerUpdate)\r\n            this.mapService.triggerUpdate();\r\n          if (this.mapService.maps.length > 1) {\r\n            if (this.mapId == 'all') {\r\n              this.title = 'All Maps';\r\n            } else {\r\n              // TODO: decide what the title\r\n            }\r\n          } else {\r\n            this.title = `${this.mapService.maps[0].terId} - ${this.mapService.maps[0].name} ${this.mapService.isNormalMode() ? '' : '::Campaign'}`;\r\n            if (this.winRef.nativeWindow.innerWidth <= this.shortenTitleWidth) {\r\n              this.title = `Map ${this.mapService.maps[0].terId}${this.mapService.isNormalMode() ? '' : '::Campaign'}`;\r\n            }\r\n          }\r\n          this.subs.push(this.onAddressClick.subscribe(data => {\r\n            console.log(data);\r\n            this.currentAddr = data.addrMarker;\r\n            this.handleAddressClick();\r\n          }));\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  canOpenMap(map) {\r\n    // if (this.fireAuth.currentUser) {\r\n    //   console.log(map.isUser(this.fireAuth.currentUser) || this.fireAuth.currentUser.isAdmin() || this.fireAuth.currentUser.isUpdater());\r\n    // }\r\n    return this.fireAuth.currentUser && (map.isUser(this.fireAuth.currentUser) || this.fireAuth.currentUser.isAdmin() || this.fireAuth.currentUser.isUpdater());\r\n  }\r\n\r\n  loadSingleMap(mapBase) {\r\n    this.minimumClusterSize = 200;\r\n    this.subs.push(this.mapService.loadMapMarkersObs(mapBase, this.mapId).subscribe(map => {\r\n      console.log(`Map: `);\r\n      console.log(map);\r\n      if (!this.canOpenMap(map)) {\r\n        this.accessDenied();\r\n        return;\r\n      }\r\n      this.mapStarted = map.assgnObj.$exists() && !_.isEmpty(map.assgnObj.started);\r\n      // TODO: Check if there are any addresses that are empty\r\n      // sort the addresses\r\n      map.addresses = _.sortBy(map.addresses,\r\n      [(addr) => {\r\n        return (_.isUndefined(addr.lSt) || _.isNull(addr.lSt) ? _.toLower(addr.st) : addr.lSt  );\r\n      }, (addr) => {\r\n        return _.toSafeInteger(addr.hnum);\r\n      }, (addr) => {\r\n        return !addr.unit || addr.unit == -9 ? 0 : _.toSafeInteger(addr.unit);\r\n      }]);\r\n\r\n      this.currentMap = map;\r\n      if (this.currentAddrList) {\r\n        this.currentAddrList = _.cloneDeep(this.currentMap.addresses);\r\n      }\r\n\r\n      this.mapService.createMarkersWithStatus(map);\r\n      this.points = this.mapService.mapMarkers;\r\n      this.mapService.trackUpdates = true;\r\n\r\n      this.onComplete.emit({});\r\n\r\n      if (this.triggerUpdate) {\r\n        this.mapService.triggerUpdate();\r\n      }\r\n\r\n      this.title = `${this.mapService.maps[0].terId} - ${this.mapService.maps[0].name} ${this.mapService.isNormalMode() ? '' : '::Campaign'}`;\r\n      if (this.winRef.nativeWindow.innerWidth <= this.shortenTitleWidth) {\r\n        this.title = `Map ${this.mapService.maps[0].terId} ${this.mapService.isNormalMode() ? '' : '::Campaign'}`;\r\n      }\r\n      const fullName = (this.fireAuth.currentUser && this.fireAuth.currentUser.userInfoObj) ? this.fireAuth.currentUser.userInfoObj.name : '';\r\n      const terId = this.mapService.maps[0].terId;\r\n      this.addUrl =  `https://docs.google.com/forms/d/e/1FAIpQLSdZYe2BmeJ_DLwW1lbvu9bcLWe7_wZ3Rs5fdaw-q4g9zfys3g/viewform?usp=pp_url&entry.1810388592=Yes&entry.1189370340=&entry.45257833&entry.681741514=${terId}&entry.1482719893=${fullName}&entry.1683213160=%E6%98%AF&entry.293956968=&entry.602343366&entry.2071713990=${terId}&entry.138422963=${fullName}&entry.1018422546&entry.2060338072&entry.1052547294&entry.365006055&entry.1323592748=${terId}&entry.1534052334=${fullName}&entry.1011916189&entry.1303192619&entry.825337910&entry.1931492709&entry.2023645450=${terId}&entry.913416032=${fullName}`;\r\n      // this.addUrl =  `https://docs.google.com/forms/d/e/1FAIpQLScYHfYNwnSIWAL9RAH3rEPC74WfkFT0FgcvaJKx1nAIROXS6A/viewform?usp=pp_url&entry.1810388592=Yes&entry.1189370340=&entry.45257833&entry.681741514=${terId}&entry.1482719893=${fullName}&entry.1683213160=%E6%98%AF&entry.293956968=&entry.602343366&entry.2071713990=${terId}&entry.138422963=${fullName}&entry.1018422546&entry.2060338072&entry.1052547294&entry.365006055&entry.1323592748=${terId}&entry.1534052334=${fullName}&entry.1011916189&entry.1303192619&entry.825337910&entry.1931492709&entry.2023645450=${terId}&entry.913416032=${fullName}`;\r\n      // this.addUrl = `https://docs.google.com/forms/d/e/1FAIpQLScYHfYNwnSIWAL9RAH3rEPC74WfkFT0FgcvaJKx1nAIROXS6A/viewform?usp=pp_url&entry.1810388592=Yes&entry.1189370340&entry.45257833&entry.681741514&entry.1482719893&entry.1018422546&entry.2060338072&entry.1052547294&entry.365006055&entry.1323592748=${this.mapService.maps[0].terId}&entry.1534052334=${fullName}`;\r\n      this.hideLoadingDialog();\r\n      this.triggerUpdate = true;\r\n      this.subs.push(this.onAddressClick.subscribe(data => {\r\n        console.log(data);\r\n        this.currentAddr = data.addrMarker;\r\n        this.handleAddressClick();\r\n      }));\r\n    }));\r\n  }\r\n\r\n  handleAddressClick() {\r\n    if (this.isEditModeAddress() || this.isEditStatus()) {\r\n      // need to show the address dialog\r\n      if (this.addrDlg) {\r\n        // dialog already open, ignore...\r\n        return;\r\n      }\r\n      if (this.hasMultiAdds()) {\r\n        this.currentAddrTitle = \"Multiple addresses, select one below.\";\r\n        this.currentGmapUrl = null;\r\n        this.selectedAddObj = null;\r\n      } else {\r\n        this.currentAddrTitle = this.getAddressTitle(this.currentAddr.addObj);\r\n        this.currentGmapUrl = this.getGmapUrl(this.currentAddr.addObj);\r\n        this.selectedAddObj = this.currentAddr.addObj;\r\n        if (_.isUndefined(this.selectedAddObj.status)) {\r\n          this.selectedAddObj.status = 0;\r\n        }\r\n        this.buildFeedbackUrl();\r\n      }\r\n      this.showAddrDlg();\r\n    } else if (this.isEditModeMoveAddress()) {\r\n      // TODO: determine why there are 2 click events!!!! For now just cache and clear\r\n      // So catch the last one and just ignore the second click event\r\n      if (this.lastSelectedAddress == this.currentAddr) {\r\n        this.lastSelectedAddress = null;\r\n        return;\r\n      } else {\r\n        this.lastSelectedAddress = this.currentAddr;\r\n      }\r\n      if (this.currentAddr.marker.icon.url == this.ADDRESS_SELECTED_ICON) {\r\n        this.currentAddr.marker.icon.url = this.ADDRESS_UNSELECTED_ICON;\r\n        _.remove(this.selectedAddrMarkers, (item) => { return _.isEqual(item, this.currentAddr)});\r\n      } else {\r\n        this.currentAddr.marker.icon.url = this.ADDRESS_SELECTED_ICON;\r\n        this.selectedAddrMarkers.push(this.currentAddr);\r\n        this.lastSelectedAddress = null;\r\n      }\r\n\r\n      this.selectedAddresses = [];\r\n      _.each(this.selectedAddrMarkers, addrMarker => {\r\n        if (_.isArray(addrMarker.addObj)) {\r\n          _.each(addrMarker.addObj, addObj => {\r\n            this.selectedAddresses.push(addObj);\r\n          });\r\n        } else {\r\n          this.selectedAddresses.push(addrMarker.addObj);\r\n        }\r\n      });\r\n      this.mapService.triggerUpdate();\r\n      this.adjustHeight();\r\n      console.log(this.selectedAddresses);\r\n    }\r\n  }\r\n\r\n  findTargetMap() {\r\n    this.mapService.findByTerId(this.findMapId, (mapObj) => {\r\n      if (mapObj) {\r\n        _.forOwn(mapObj, (map, mapId) => {\r\n          this.targetMapId = mapId;\r\n          this.targetMapObj = map;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  moveSelectedAddresses() {\r\n    console.log(`Moving to ${this.targetMapId}`);\r\n    console.log(this.targetMapObj);\r\n    this.mapService.moveAddress(this.mapId, this.targetMapId, this.targetMapObj.terId, this.targetMapObj.name, this.targetMapObj.fsg, this.selectedAddresses,\r\n    () => {\r\n      const curMarkers = this.selectedAddrMarkers;\r\n      this.stopMoveAddressMode();\r\n      // update the markers...\r\n      console.log(`Removing...`);\r\n      console.log(curMarkers);\r\n      console.log(this.points);\r\n      _.remove(this.points, (point)=> { return _.includes(curMarkers, point)});\r\n      console.log(this.points);\r\n      this.mapService.triggerUpdate();\r\n    });\r\n  }\r\n\r\n  startMap(mapObj: any) {\r\n\r\n  }\r\n\r\n  isNotAtHome() {\r\n    return this.currentAddr && this.currentAddr.map.getStatus(this.currentAddr.addId) == 3;\r\n  }\r\n\r\n  hasDetail() {\r\n    return this.currentAddr && this.currentAddr.map.getStatusDetail(this.currentAddr.addId);\r\n  }\r\n\r\n  getLastVisited() {\r\n    const detail = this.currentAddr.map.getStatusDetail(this.currentAddr.addId);\r\n    if (detail) {\r\n      return detail.nh_when;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getAddressTitle(addrObj: any) {\r\n    if (_.isUndefined(addrObj.st) || _.isEmpty(addrObj.st)) {\r\n      return '';\r\n    }\r\n    let unit = addrObj.unit;\r\n    if (_.isUndefined(unit) || !unit || '-9' == `${unit}`) {\r\n      unit = ''\r\n    } else {\r\n      unit = `${unit}/`;\r\n    }\r\n    return `${unit}${addrObj.hnum} ${addrObj.st}, ${addrObj.burb}`;\r\n  }\r\n\r\n  getGmapUrl(addrObj: any) {\r\n    return `https://www.google.com/maps/dir/?api=1&destination=${addrObj.hnum} ${addrObj.st}, ${addrObj.burb}&travelmode=driving`;\r\n  }\r\n\r\n  getStatuses() {\r\n    if (!this.addrStatuses) {\r\n      this.addrStatuses = this.currentMap.getAddrStatuses(this.fireAuth.currentUser, this.mapService);\r\n    }\r\n  }\r\n\r\n  showAddrDlg(){\r\n    console.log(this.points);\r\n    if (this.mapId != 'all') {\r\n      this.getStatuses();\r\n    }\r\n\r\n    console.log(`Opening dialog...`);\r\n    if (this.addrDlg) {\r\n      this.closeAddrDlg();\r\n    }\r\n    this.addrDlg = this.dialog.open(AddressDlgComponent, {\r\n      data: {consumer: this},\r\n      disableClose: true\r\n    });\r\n  }\r\n\r\n  closeAddrDlg() {\r\n    console.log(`Closing dialog...`);\r\n    // this.addrDlg.close();\r\n    this.dialog.closeAll();\r\n    this.addrDlg = null;\r\n  }\r\n\r\n  resetEditMode() {\r\n    if (this.mapId == 'all') {\r\n      this.setEditingAddress();\r\n    } else {\r\n      this.setEditingStatus();\r\n    }\r\n  }\r\n\r\n  cancelAddrDlg() {\r\n    this.selectedAddObj = null;\r\n    this.closeAddrDlg();\r\n    this.resetEditMode();\r\n  }\r\n\r\n  showCurrentLoc() {\r\n    this.onPosMarker.subscribe(pos => {\r\n      if (this.locationSearching) {\r\n        this.locationSearching = false;\r\n      }\r\n      if (pos) {\r\n        this.onAddLocMarker.emit({\r\n          position: pos.position,\r\n          iconUrl: this.currentLocation.iconUrl\r\n        });\r\n        this.fireAuth.saveLoc(this.fireAuth.currentUser.userObj.uid, pos);\r\n      } else {\r\n        this.onAddLocMarker.emit(null);\r\n      }\r\n    });\r\n    this.mapService.enableGeolocation(this.onPosMarker);\r\n  }\r\n\r\n  clearMaps() {\r\n    this.mapService.clearAllMarkers();\r\n    this.currentLocation.pushed = false;\r\n  }\r\n\r\n  showMarker() {\r\n    this.clearMaps();\r\n  }\r\n\r\n  logout() {\r\n    this.clearMaps();\r\n    super.logout();\r\n    this.triggerUpdate = true;\r\n  }\r\n\r\n  isAdmin() {\r\n    return this.fireAuth.currentUser && this.fireAuth.currentUser.isAdmin();\r\n  }\r\n\r\n  isUpdater() {\r\n    return this.fireAuth.currentUser && (this.fireAuth.currentUser.isAdmin() || this.fireAuth.currentUser.isUpdater() );\r\n  }\r\n\r\n  onStatusChange(item) {\r\n\r\n  }\r\n\r\n  saveStatus() {\r\n    const mapId = this.currentAddr.mapObj.$key;\r\n    const addId = this.selectedAddObj.$key;\r\n    const status = this.selectedAddObj.status;\r\n    const ctr = this.selectedAddObj\r\n    this.closeAddrDlg();\r\n    this.showLoadingDialog();\r\n    console.log(`Status: ${status}`);\r\n    this.mapService.updateAddrStat(mapId, addId, status, this.fireAuth.currentUser, (addId, status, nhData) => {\r\n      console.log(`Manulaly setting Status: ${status}`);\r\n      this.currentAddr.map.setStatus(addId, status);\r\n      this.currentAddr.map.setStatusDetail(addId, nhData);\r\n      this.selectedAddObj = null;\r\n    });\r\n  }\r\n\r\n  saveStatuses() {\r\n    this.currentMap.addresses = this.currentAddrList;\r\n    this.closeAddrListDlg();\r\n    this.showLoadingDialog();\r\n    this.mapService.updateAddrStats(this.currentMap, this.fireAuth.currentUser, (map) => {\r\n      _.each(map.addresses, (addObj)=>{\r\n        const status = addObj.status;\r\n        const addId = addObj.$key;\r\n\r\n        this.currentMap.setStatus(addId, status);\r\n        // this.currentMap.setStatusDetail(addId, nhData);\r\n      });\r\n      this.hideLoadingDialog();\r\n    });\r\n  }\r\n\r\n  hasMultiAdds() {\r\n    return this.currentAddr && _.isArray(this.currentAddr.addObj) && !this.selectedAddObj;\r\n  }\r\n\r\n  selectAdd(addObj) {\r\n    this.currentAddrTitle = this.getAddressTitle(addObj);\r\n    this.currentGmapUrl = this.getGmapUrl(addObj);\r\n    this.selectedAddObj = addObj;\r\n    this.buildFeedbackUrl();\r\n  }\r\n\r\n  buildFeedbackUrl() {\r\n    const fullName = (this.fireAuth.currentUser && this.fireAuth.currentUser.userInfoObj) ? this.fireAuth.currentUser.userInfoObj.name : '';\r\n    const terId = this.mapService.maps[0].terId;\r\n    this.currentFeedbackUrl = `https://docs.google.com/forms/d/e/1FAIpQLSdZYe2BmeJ_DLwW1lbvu9bcLWe7_wZ3Rs5fdaw-q4g9zfys3g/viewform?usp=pp_url&entry.1810388592=No&entry.1189370340=${this.currentAddrTitle}&entry.45257833&entry.681741514=${terId}&entry.1482719893=${fullName}&entry.1683213160=%E4%B8%8D%E6%98%AF&entry.293956968=${this.currentAddrTitle}&entry.602343366&entry.2071713990=${terId}&entry.138422963=${fullName}&entry.1018422546&entry.2060338072&entry.1052547294&entry.365006055&entry.1323592748=${terId}&entry.1534052334=${fullName}&entry.1011916189&entry.1303192619&entry.825337910&entry.1931492709&entry.2023645450=${terId}&entry.913416032=${fullName}`;\r\n    // this.currentFeedbackUrl = `https://docs.google.com/forms/d/e/1FAIpQLScYHfYNwnSIWAL9RAH3rEPC74WfkFT0FgcvaJKx1nAIROXS6A/viewform?usp=pp_url&entry.1810388592=No&entry.1189370340=${this.currentAddrTitle}&entry.45257833&entry.681741514=${terId}&entry.1482719893=${fullName}&entry.1683213160=%E4%B8%8D%E6%98%AF&entry.293956968=${this.currentAddrTitle}&entry.602343366&entry.2071713990=${terId}&entry.138422963=${fullName}&entry.1018422546&entry.2060338072&entry.1052547294&entry.365006055&entry.1323592748=${terId}&entry.1534052334=${fullName}&entry.1011916189&entry.1303192619&entry.825337910&entry.1931492709&entry.2023645450=${terId}&entry.913416032=${fullName}`;\r\n    // this.currentFeedbackUrl = `https://docs.google.com/forms/d/e/1FAIpQLScYHfYNwnSIWAL9RAH3rEPC74WfkFT0FgcvaJKx1nAIROXS6A/viewform?usp=pp_url&entry.1810388592=No&entry.1189370340=${this.currentAddrTitle}&entry.45257833&entry.681741514=${this.mapService.maps[0].terId}&entry.1482719893=${fullName}&entry.1018422546&entry.2060338072&entry.1052547294&entry.365006055&entry.1323592748&entry.1534052334`\r\n  }\r\n\r\n  viewList() {\r\n    this.getStatuses();\r\n    // make a copy of the address list to we can cancel\r\n    this.currentAddrList = _.cloneDeep(this.currentMap.addresses);\r\n    this.addrListDlg = this.dialog.open(AddressListDlgComponent, {\r\n      data: {consumer: this},\r\n      disableClose: true\r\n    });\r\n  }\r\n\r\n  closeAddrListDlg() {\r\n    this.addrListDlg.close();\r\n    this.currentAddrList = null;\r\n    // this.addrListDlg = null;\r\n  }\r\n\r\n  getAddressTitleWithStatus(addObj) {\r\n    let title = this.getAddressTitle(addObj);\r\n    if (addObj.status) {\r\n      title = `${this.getStatusLabel(addObj.status)} - ${title}`\r\n    }\r\n    return title;\r\n  }\r\n\r\n  getStatusLabel(addObj) {\r\n    let label = 'Not Done';\r\n    if (!_.isUndefined(addObj.status)) {\r\n      _.forEach(this.addrStatuses, stat => {\r\n        if (addObj.status == stat.val) {\r\n          label = stat.label;\r\n        }\r\n      });\r\n    }\r\n    return label;\r\n  }\r\n\r\n  getStatus(addObj) {\r\n    if (_.isUndefined(addObj.status) || _.isNull(addObj.status)) {\r\n      addObj.status = 0;\r\n    }\r\n    return addObj;\r\n  }\r\n\r\n  getStatusBgColor(addObj, stat=null) {\r\n    let bg = \"#960202\";\r\n    const status = addObj ? addObj.status : stat;\r\n    if (!_.isUndefined(status)) {\r\n      switch(status) {\r\n        case 1:\r\n        case 9:\r\n          bg = \"#428214\";\r\n          break;\r\n        case 2:\r\n          bg = \"#401804\";\r\n          break;\r\n        case 3:\r\n          bg = \"#e88017\";\r\n          break;\r\n        case 4:\r\n          bg = \"#8d57c2\";\r\n          break;\r\n        case 5:\r\n          bg = \"#4a5963\";\r\n          break;\r\n        case 7:\r\n          bg = \"#227874\";\r\n          break;\r\n        case 8:\r\n          bg = \"#227874\";\r\n          break;\r\n        case 10:\r\n          bg = \"#f2046f\";\r\n          break;\r\n      }\r\n    }\r\n    return bg;\r\n  }\r\n\r\n  editMap() {\r\n    if (_.isUndefined(this.fsgs)) {\r\n      this.showLoadingDialog();\r\n      const sub = this.mapService.getAllFsgMaps(this.mapBin)\r\n      .flatMap((mapId:any) => {\r\n        return Observable.of(null);\r\n      })\r\n      .debounce(() => {\r\n        return Observable.interval(1000)\r\n      })\r\n      .subscribe(() => {\r\n        sub.unsubscribe();\r\n        _.forOwn(this.mapBin, (mapVal, mapId) => {\r\n          this.mapIds.push(mapVal);\r\n        });\r\n        this.fsgs = _.uniq(_.map(this.mapIds, (mapId) => {\r\n          return mapId.fsgName\r\n        }));\r\n        this.mapName = this.currentMap.mapObj.name;\r\n        this.fsgName = this.currentMap.mapObj.fsg;\r\n        this.mapKey = this.mapBin[this.mapId].mapKey;\r\n        this.hideLoadingDialog();\r\n        this.mapEditDlg = this.dialog.open(MapEditDlgComponent, {\r\n          data: {consumer: this},\r\n          disableClose: true\r\n        });\r\n      });\r\n    } else {\r\n      this.mapName = this.currentMap.mapObj.name;\r\n      this.fsgName = this.currentMap.mapObj.fsg;\r\n      this.mapKey = this.mapBin[this.mapId].mapKey;\r\n      this.mapEditDlg = this.dialog.open(MapEditDlgComponent, {\r\n        data: {consumer: this},\r\n        disableClose: true\r\n      });\r\n    }\r\n  }\r\n\r\n  saveMapEdit() {\r\n    this.closeMapEditDlg();\r\n    this.showLoadingDialog();\r\n    this.mapService.moveMap(this.mapId, this.mapKey, this.mapName, this.currentMap.mapObj.fsg, this.fsgName, () => {\r\n      this.currentMap.mapObj.fsg = this.fsgName;\r\n      this.currentMap.mapObj.name = this.mapName;\r\n      this.mapBin[this.mapId].mapKey = this.mapId;\r\n      this.title = `${this.currentMap.mapObj.terId} - ${this.currentMap.mapObj.name} ${this.mapService.isNormalMode() ? '' : '::Campaign'}`;\r\n      this.hideLoadingDialog();\r\n    });\r\n  }\r\n\r\n  closeMapEditDlg() {\r\n    this.mapEditDlg.close();\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'map-edit-component',\r\n  templateUrl: './map-edit-dlg.component.html'\r\n})\r\nexport class MapEditDlgComponent {\r\n\r\n  constructor(public dialogRef: MatDialogRef<any>, @Inject(MAT_DIALOG_DATA) public data: any, iconRegistry: MatIconRegistry, sanitizer: DomSanitizer) {\r\n    iconRegistry.addSvgIcon('google-map',\r\n        sanitizer.bypassSecurityTrustResourceUrl('/assets/images/google-maps.svg'));\r\n    iconRegistry.addSvgIcon('edit-address',\r\n        sanitizer.bypassSecurityTrustResourceUrl('/assets/images/edit_address.svg'));\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'addr-component',\r\n  templateUrl: './address-dlg.component.html'\r\n})\r\nexport class AddressDlgComponent {\r\n\r\n  constructor(public dialogRef: MatDialogRef<any>, @Inject(MAT_DIALOG_DATA) public data: any, iconRegistry: MatIconRegistry, sanitizer: DomSanitizer) {\r\n    iconRegistry.addSvgIcon('google-map',\r\n        sanitizer.bypassSecurityTrustResourceUrl('/assets/images/google-maps.svg'));\r\n    iconRegistry.addSvgIcon('edit-address',\r\n        sanitizer.bypassSecurityTrustResourceUrl('/assets/images/edit_address.svg'));\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'addrlist-component',\r\n  templateUrl: './addresslist-dlg.component.html'\r\n})\r\nexport class AddressListDlgComponent {\r\n\r\n  constructor(public dialogRef: MatDialogRef<any>, @Inject(MAT_DIALOG_DATA) public data: any, iconRegistry: MatIconRegistry, sanitizer: DomSanitizer) {\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map.component.ts","import { NgModule } from '@angular/core';\r\nimport { AgmCoreModule } from '@agm/core';\r\nimport { MapComponent, AddressDlgComponent, AddressListDlgComponent, MapEditDlgComponent } from './map.component';\r\nimport { MapsListComponent } from './mapslist.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MapService } from './map.service';\r\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\r\nimport { LoadingDialog } from './loading-diag.component';\r\nimport { MarkerClusterDirective } from './marker-cluster';\r\nimport { MatCheckboxModule, MatTabsModule, MatMenuModule, MatProgressBarModule, MatRadioModule, MatInputModule, MatAutocompleteModule, MatDialogModule, MatListModule, MatSlideToggleModule, MatCardModule, MatChipsModule, MatButtonModule, MatToolbarModule, MatIconModule, MatButtonToggleModule, MatSelectModule, MatTableModule } from '@angular/material';\r\nimport { CovalentExpansionPanelModule, CovalentMessageModule } from '@covalent/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthModule } from '../user/user.module';\r\nimport { WindowRef } from './windowref.service';\r\nimport { MapShareComponent, MapShareDlgComponent, MapReturnConfirmDlgComponent } from './map-share.component';\r\nimport { TagInputModule } from 'ngx-chips';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { HttpModule } from '@angular/http';\r\nimport { MapAdminComponent } from './map-admin.component';\r\nimport { environment } from '../../environments/environment'\r\n\r\n@NgModule({\r\n  imports:      [\r\n    CommonModule,\r\n    FormsModule,\r\n    BrowserAnimationsModule,\r\n    TagInputModule,\r\n    AgmCoreModule.forRoot({apiKey:environment.agm.api}),\r\n    AngularFireDatabaseModule,\r\n    MatDialogModule,\r\n    MatSlideToggleModule,\r\n    MatListModule,\r\n    MatCardModule,\r\n    MatChipsModule,\r\n    MatButtonModule,\r\n    MatToolbarModule,\r\n    MatButtonToggleModule,\r\n    MatIconModule,\r\n    MatSelectModule,\r\n    MatAutocompleteModule,\r\n    MatInputModule,\r\n    MatRadioModule,\r\n    MatProgressBarModule,\r\n    MatMenuModule,\r\n    HttpModule,\r\n    RouterModule,\r\n    CovalentExpansionPanelModule,\r\n    CovalentMessageModule,\r\n    AuthModule,\r\n    MatTabsModule,\r\n    MatCheckboxModule,\r\n    MatTableModule\r\n   ],\r\n  declarations: [ MapComponent, MapsListComponent, MarkerClusterDirective, LoadingDialog, MapShareComponent, MapShareDlgComponent, AddressDlgComponent, AddressListDlgComponent, MapReturnConfirmDlgComponent, MapAdminComponent, MapEditDlgComponent],\r\n  exports:      [ MapComponent, MapsListComponent, MapShareComponent, MapShareDlgComponent, AddressDlgComponent, AddressListDlgComponent, MapReturnConfirmDlgComponent, MarkerClusterDirective, MapAdminComponent, MapEditDlgComponent ],\r\n  providers:    [ MapService, WindowRef ],\r\n  entryComponents: [ LoadingDialog, MapShareDlgComponent, AddressDlgComponent, AddressListDlgComponent, MapReturnConfirmDlgComponent, MapAdminComponent, MapEditDlgComponent ]\r\n})\r\nexport class MapModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map.module.ts","import { Injectable, Inject, Output, EventEmitter } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs/Rx';\r\nimport * as _ from 'lodash';\r\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport { MapsUser } from '../user/user.component';\r\nimport moment from 'moment-es6';\r\n\r\ndeclare const google;\r\n\r\nexport class Map {\r\n  mapObj: any;\r\n  assgnObj: any;\r\n  addresses: any;\r\n  addressCount: number;\r\n  id: string;\r\n\r\n  constructor(mapId: string, mapObj:any, assgnObj: any) {\r\n    this.id = mapId;\r\n    this.mapObj = mapObj;\r\n    this.assgnObj = assgnObj;\r\n    this.addressCount = _.isEmpty(mapObj.addresses) ? 0 : _.size(mapObj.addresses);\r\n  }\r\n\r\n  get isAssigned() {\r\n    return this.assgnObj.$exists();\r\n  }\r\n\r\n  hasOwner(): boolean {\r\n    // if (this.id == \"zhacW\") {\r\n    //   console.log(this.assgnObj);\r\n    //   console.log(this.assgnObj && this.assgnObj.$exists() && !_.isEmpty(this.assgnObj.owner));\r\n    // }\r\n    return this.assgnObj && this.assgnObj.$exists() && !_.isEmpty(this.assgnObj.owner);\r\n  }\r\n\r\n  get ownerInfo(): any {\r\n    return this.assgnObj.owner;\r\n  }\r\n\r\n  getOwner() {\r\n    return this.assgnObj.owner;\r\n  }\r\n\r\n  setOwner(userObj) {\r\n    if (_.isFunction(this.assgnObj.$exists) || !this.assgnObj.$exists()) {\r\n      this.assgnObj = {};\r\n    }\r\n    if (!this.assgnObj.owner) {\r\n      this.assgnObj.owner = {};\r\n    }\r\n    this.assgnObj.owner.id = userObj.$key;\r\n    this.assgnObj.owner.name = userObj.name;\r\n  }\r\n\r\n  getUsersList() {\r\n    const list = [];\r\n    _.forOwn(this.assgnObj.users, (val, key)=>{\r\n      list.push({name: val.name, id: key, expiry: val.expiry});\r\n    });\r\n    return list;\r\n  }\r\n\r\n  hasUsers() {\r\n    return !_.isEmpty(this.getUsersList());\r\n  }\r\n\r\n  isOwner(user: MapsUser) {\r\n    return user.userInfoObj.$key == this.assgnObj.owner.id;\r\n  }\r\n\r\n  isUser(user: MapsUser) {\r\n    const inUserList = _.find(this.getUsersList(), (u)=> {return u.id == user.userInfoObj.$key}) != null;\r\n    return (this.hasOwner() &&  this.isOwner(user)) || (this.hasUsers() && inUserList);\r\n  }\r\n\r\n  getStatus(addId: string) {\r\n    return _.get(this.assgnObj, `address.${addId}`);\r\n  }\r\n\r\n  // only for manually setting the status, does not synch or save to backend!\r\n  setStatus(addId: string, status: any) {\r\n    if (_.isUndefined(this.assgnObj.address)) {\r\n      this.assgnObj.address = {};\r\n    }\r\n    this.assgnObj.address[addId] = status;\r\n  }\r\n\r\n  getStatusDetail(addId: string) {\r\n    return _.get(this.assgnObj, `det.${addId}`);\r\n  }\r\n\r\n  setStatusDetail(addId: string, detailData: any) {\r\n    if (_.isUndefined(this.assgnObj.det)) {\r\n      this.assgnObj.det = {};\r\n    }\r\n    this.assgnObj.det[addId] = detailData;\r\n  }\r\n\r\n  getAddrStatuses(currentUser, mapService) {\r\n    let addrStatuses = [];\r\n    if (currentUser.isAdmin() || currentUser.isUpdater()) {\r\n      if (this.mapObj.search) {\r\n        // this.addrStatuses = this.mapService.addrStatuses;\r\n        addrStatuses = _.filter(mapService.addrStatuses, (stat:any) => {\r\n          if (stat.val != 10 && stat.val != 4) {\r\n            if (stat.val == 3) {\r\n              stat.label = \"Not at Home\";\r\n            }\r\n            return stat;\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      } else {\r\n        addrStatuses = _.filter(mapService.addrStatuses, (stat:any) => {\r\n          if (mapService.isNormalMode()) {\r\n            return stat.val != 10 ? stat : false;\r\n          } else {\r\n            if (mapService.isCampaignVisitOnce()) {\r\n              return (stat.val != 3 && stat.val != 4 && stat.val != 10) ? stat : false;\r\n            } else {\r\n              return (stat.val != 10) ? stat : false;\r\n            }\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      if (mapService.isNormalMode()) {\r\n        _.forEach(mapService.addrStatuses, stat => {\r\n         if (stat.val != 5 && stat.val != 7) {\r\n           // skip not at home 2 and not at home 3 for search maps\r\n           if (this.mapObj.search && (stat.val == 10 || stat.val == 4) ) {\r\n              return true;\r\n           } else\r\n           if (stat.val == 3 && this.mapObj.search) {\r\n             stat.label = \"Not at Home\";\r\n           } else\r\n           if (stat.val == 10) {\r\n             return true;\r\n           }\r\n           addrStatuses.push(stat);\r\n         }\r\n       });\r\n     } else {\r\n       // when on campaign mode remove the not-at-home\r\n       _.forEach(mapService.addrStatuses, stat => {\r\n        if (stat.val != 5 && stat.val != 7 && stat.val != 10) {\r\n          if (mapService.isCampaignVisitOnce() && (stat.val == 3 || stat.val == 4)) {\r\n            return true;\r\n          }\r\n          addrStatuses.push(stat);\r\n        }\r\n      });\r\n     }\r\n    }\r\n    return addrStatuses;\r\n  }\r\n}\r\n\r\nexport class Fsg {\r\n  fsgName: string;\r\n  maps: Map[];\r\n  completedMapsCtr: number;\r\n  completionRate: number;\r\n  metadata: any;\r\n\r\n  constructor(fsgName:string, maps:Map[], meta:any = null) {\r\n    this.fsgName = fsgName;\r\n    this.maps = maps;\r\n    this.completedMapsCtr = 0;\r\n    this.completionRate = 0;\r\n    this.metadata = meta;\r\n  }\r\n\r\n  getCompletionPercent() {\r\n    return this.completionRate;\r\n  }\r\n\r\n  computeCompleted() {\r\n    _.each(this.maps, (map) => {\r\n      if (this.metadata.mode.campaign) {\r\n        if (map.mapObj.campaignCtr > 0) {\r\n          this.completedMapsCtr++;\r\n        }\r\n      } else {\r\n        if (map.mapObj.doneCtr > 0) {\r\n          this.completedMapsCtr++;\r\n        }\r\n      }\r\n    });\r\n    this.completionRate = this.completedMapsCtr == 0 ? 0 : Math.floor(((this.completedMapsCtr / this.maps.length) * 100));\r\n  }\r\n}\r\n\r\nexport class AddressMarker {\r\n  map: Map;\r\n  addObj: any;\r\n  mapObj: any;\r\n  lat: number;\r\n  long: number;\r\n  url: string;\r\n  infoWindowStr: string;\r\n  markerIdx: any;\r\n  addId: any;\r\n  useMainMarker: boolean;\r\n  modalMode: boolean;\r\n  clickEmitter: any;\r\n  marker: any;\r\n}\r\n\r\n@Injectable()\r\nexport class MapService {\r\n  @Output() onUpdate = new EventEmitter<any>();\r\n  mapMarkers: AddressMarker[] = [];\r\n  markerIdx: number = 0;\r\n  trackUpdates: boolean = false;\r\n  updatePipe = new Subject<any>();\r\n  maps: any[];\r\n  subs: any[] = [];\r\n  fsgs: Fsg[] = [];\r\n  addrStatuses = [\r\n    { val: 0, label: \"Not Done\" },\r\n    { val: 1, label: \"Done - Mandarin\" },\r\n    { val: 9, label: \"Done - Cantonese\" },\r\n    { val: 2, label: \"Not Chinese\" },\r\n    { val: 3, label: \"Not at Home - 1\"},\r\n    { val: 4, label: \"Not at Home - 2\" },\r\n    { val: 10, label: \"Not at Home - 3\" },\r\n    { val: 5, label: \"Do Not Call\" },\r\n    { val: 7, label: \"Phone Witnessing\" },\r\n    { val: 8, label: \"Reported Issue\" },\r\n  ];\r\n  metadata: any;\r\n  currentActiveMapRoot = '/assignedMaps/active/';\r\n  locationWatch: any;\r\n  preferences: any;\r\n\r\n  constructor(protected db: AngularFireDatabase) {\r\n    this.maps = [];\r\n    this.updatePipe.debounceTime(5000).subscribe(data=>{\r\n      this.onUpdate.emit(data);\r\n    });\r\n  }\r\n\r\n  public getMetadata() {\r\n    if (this.metadata) {\r\n      return Observable.of(this.metadata);\r\n    } else {\r\n      return this.db.object(`/metadata`).flatMap(meta => {\r\n        this.metadata = meta;\r\n        if (this.metadata.mode.campaign) {\r\n          this.currentActiveMapRoot = '/assignedMaps/campaign/';\r\n        }\r\n        return Observable.of(this.metadata);\r\n      });\r\n    }\r\n  }\r\n\r\n  public triggerUpdate() {\r\n    this.onUpdate.emit({});\r\n  }\r\n\r\n  /**\r\n  Loads address markers, will not load all\r\n  */\r\n  loadMapMarkersObs(mapBaseUrl, mapId: string): Observable<any> {\r\n    const mapBin: any = {};\r\n    return this.db.object(`/maps/${mapId}`)\r\n    .flatMap(mapObj=> {\r\n      if (mapObj.addresses) {\r\n        if (this.trackUpdates) {\r\n          this.updatePipe.next({});\r\n        } else {\r\n          this.maps.push(mapObj);\r\n          mapBin.mapObj = mapObj;\r\n          return Observable.of(mapObj);\r\n        }\r\n      }\r\n      return Observable.of(null);\r\n    })\r\n    .filter(mapObj => mapObj != null )\r\n    .flatMap(mapObj => {\r\n      return this.db.object(`${this.currentActiveMapRoot}${mapId}`).flatMap(assgnObj => {\r\n        console.log(`Got assigned maps object...`);\r\n        // console.log(assgnObj);\r\n        mapBin.assgnObj = assgnObj;\r\n        return Observable.of(mapObj);\r\n      });\r\n    })\r\n    .flatMap(mapObj => {\r\n      return this.db.list(`/maps/${mapId}/addresses`).flatMap(addressesObj => {\r\n        return Observable.from(addressesObj);\r\n      });\r\n    })\r\n    .filter(addIdObj => addIdObj != null )\r\n    .flatMap((addIdObj: any) => {\r\n      return this.db.object(`/addresses/${addIdObj.$value}`);\r\n    })\r\n    .filter(addObj => addObj != null)\r\n    .flatMap((addObj: any) => {\r\n      if (!mapBin.addresses) {\r\n        mapBin.addresses = [];\r\n      }\r\n      _.remove(mapBin.addresses, add => {\r\n        return add.$key == addObj.$key;\r\n      });\r\n      addObj.addId = addObj.$key;\r\n      mapBin.addresses.push(addObj);\r\n      return Observable.of(addObj);\r\n    })\r\n    .flatMap(whatever => {\r\n      return Observable.of(mapBin);\r\n    })\r\n    .debounce(() => {\r\n      return Observable.interval(1000)\r\n    })\r\n    .flatMap(whatever => {\r\n      const map = new Map(mapId, mapBin.mapObj, mapBin.assgnObj);\r\n      _.forEach(mapBin.addresses, add => {\r\n        _.forOwn(mapBin.assgnObj.address, (val, key) => {\r\n          if (key == add.$key) {\r\n            add.status = _.toNumber(val);\r\n          }\r\n        });\r\n        if (_.isUndefined(add.status) || _.isNull(add.status)) {\r\n          add.status = 0;\r\n        }\r\n      });\r\n      map.addresses = mapBin.addresses;\r\n      return Observable.of(map);\r\n    });\r\n  }\r\n\r\n  protected createStatusMarkerIconConfig(size, statusVal) {\r\n    return {scaledSize: size, url: `/assets/images/place-markers/status-${statusVal}.svg`};\r\n  }\r\n\r\n  createMarkersWithStatus(map: Map) {\r\n    const scaledMarkerSize = new google.maps.Size(35, 35);\r\n    // create icons...\r\n    const markerIcons = {};\r\n    const defaultMarkerIcon = this.createStatusMarkerIconConfig(scaledMarkerSize, 403);\r\n    _.forEach(this.addrStatuses, stat => {\r\n      if (_.isEmpty(stat)) {\r\n        stat = 0;\r\n      }\r\n      markerIcons[stat.val] = this.createStatusMarkerIconConfig(scaledMarkerSize, stat.val);\r\n    });\r\n    // console.log(this.mapMarkers);\r\n    _.forEach(map.addresses, addObj => {\r\n      let marker = null;\r\n      const addId = addObj.$key;\r\n      // console.log(`Add id is: ${addId}`);\r\n\r\n      if (this.trackUpdates) {\r\n        marker = _.find(this.mapMarkers, mrk => {\r\n          return _.find(mrk.addId, mrkId => {\r\n            return mrkId == addId;\r\n          });\r\n        });\r\n        // console.log(`Marker is:`);\r\n        // console.log(marker);\r\n      } else {\r\n        marker = new AddressMarker();\r\n        marker.addId = [addId];\r\n        marker.map = map;\r\n      }\r\n      addObj.clat = _.toNumber(addObj.clat);\r\n      addObj.clong = _.toNumber(addObj.clong);\r\n      // check if this lat and long already on the list...\r\n      const multiMarker = _.find(this.mapMarkers, mrk => {\r\n        if (_.isArray(mrk.addObj)) {\r\n          return _.find(mrk.addObj, mrkAddObj => {\r\n            return mrkAddObj.clat == addObj.clat && mrkAddObj.clong == addObj.clong && mrkAddObj.$key != addId;\r\n          });\r\n        } else {\r\n          return mrk.addObj.clat == addObj.clat && mrk.addObj.clong == addObj.clong && mrk.addObj.$key != addId;\r\n        }\r\n      });\r\n      if (multiMarker) {\r\n        if (!this.trackUpdates) {\r\n          if (_.isArray(multiMarker.addObj)) {\r\n            multiMarker.addObj.push(addObj);\r\n          } else {\r\n            const newAddObj = [multiMarker.addObj];\r\n            newAddObj.push(addObj);\r\n            multiMarker.addObj = newAddObj;\r\n          }\r\n\r\n          marker = multiMarker;\r\n          marker.addId.push(addId);\r\n        }\r\n      } else {\r\n        marker.addObj = addObj;\r\n      }\r\n      marker.mapObj = map.mapObj;\r\n      marker.modalMode = true;\r\n      // creating icon\r\n      // if icon is multi addresses, then all icon set to be worked on...\r\n      let addObjIcon = defaultMarkerIcon;\r\n      if (multiMarker) {\r\n        if (addObj.status) {\r\n          addObjIcon =  markerIcons[addObj.status];\r\n          const statuses = _.map(multiMarker.addObj, (mulitAddObj:any) => {\r\n            return mulitAddObj.status;\r\n          });\r\n          // revert icon to wip if an address needs a visit\r\n          _.forEach(statuses, status => {\r\n            switch (status) {\r\n                case 0:\r\n                case 3:\r\n                  addObjIcon =  markerIcons[status];\r\n                  // console.log(`Overriding status is: ${status}`);\r\n                  // console.log(addObjIcon);\r\n            }\r\n          });\r\n        } else {\r\n          if (!_.isEmpty(map.assgnObj.started)) {\r\n            addObjIcon = markerIcons[0];\r\n          }\r\n        }\r\n        // console.log(addObjIcon);\r\n        multiMarker.marker = new google.maps.Marker({\r\n          position: new google.maps.LatLng(addObj.clat, addObj.clong),\r\n          icon: addObjIcon,\r\n          label: `${multiMarker.addObj.length}`\r\n        });\r\n      } else {\r\n        // console.log(`Using status: ${addObj.status}`);\r\n        if (addObj.status) {\r\n          addObjIcon =  markerIcons[addObj.status];\r\n        } else {\r\n          if (!_.isEmpty(map.assgnObj.started)) {\r\n            addObjIcon = markerIcons[0];\r\n          }\r\n        }\r\n        // console.log(addObjIcon);\r\n        marker.marker = new google.maps.Marker({\r\n          position: new google.maps.LatLng(addObj.clat, addObj.clong),\r\n          icon: addObjIcon\r\n        });\r\n        if (!this.trackUpdates) {\r\n          this.mapMarkers.push(marker);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  loadMapMarkers(mapBaseUrl:string, mapId: string, modalMode:boolean = false) {\r\n    this.subs.push(this.db.object(`/maps/${mapId}`).subscribe(mapObj=>{\r\n      // console.log(mapObj);\r\n      // if (mapId.$value == \"X1Zce\" || mapId.$value == \"w1V3G\") {\r\n      //   console.log(`Got data:`);\r\n      //   console.log(mapObj);\r\n      // }\r\n      if (mapObj.addresses) {\r\n        if (this.trackUpdates) {\r\n          this.updatePipe.next({});\r\n        } else {\r\n          this.maps.push(mapObj);\r\n        }\r\n\r\n        const idx = this.markerIdx++;\r\n        let addCtr = 0;\r\n        _.forEach(mapObj.addresses, addId => {\r\n          console.log(`/addresses/${addId}`);\r\n          this.subs.push(this.db.object(`/addresses/${addId}`).subscribe(addObj => {\r\n            if (!_.isEmpty(addObj.burb)) {\r\n              addCtr++;\r\n              let marker = null;\r\n              if (this.trackUpdates) {\r\n                marker = _.find(this.mapMarkers, mrk=> {return mrk.addId == addId});\r\n              } else {\r\n                marker = new AddressMarker();\r\n                marker.addId = addId;\r\n              }\r\n              addObj.clat = _.toNumber(addObj.clat);\r\n              addObj.clong = _.toNumber(addObj.clong);\r\n              marker.addObj = addObj;\r\n              marker.mapObj = mapObj;\r\n\r\n              if (modalMode) {\r\n                marker.modalMode = modalMode;\r\n\r\n              } else {\r\n                marker.url = `/map/${mapId}`;\r\n                marker.infoWindowStr = `\r\n                                          <div>Address: ${addObj.unit == -9 || _.isEmpty(addObj.unit) ? '' : 'Unit ' + addObj.unit } ${addObj.hnum} ${addObj.st}, ${addObj.burb}</div>\r\n                                          <div>Map: <a href='${marker.url}' target='_blank'>${mapObj.terId} - ${mapObj.name}</a></div>\r\n                                          <div>FSG: ${mapObj.fsg}</div>\r\n                                        `;\r\n\r\n                marker.markerIdx = idx;\r\n              }\r\n\r\n              if (!this.trackUpdates) {\r\n                this.mapMarkers.push(marker);\r\n              }\r\n            } else {\r\n              console.log(`Address not found: ${addId} in map: ${mapId}`);\r\n            }\r\n          }));\r\n        });\r\n      } else {\r\n        console.log(`Map not found: ${mapId}`);\r\n      }\r\n    }));\r\n  }\r\n\r\n\r\n\r\n  // Asynch call\r\n  loadAllMapsWithMarkers(mapBaseUrl) {\r\n    this.subs.push(this.db.list('/fsg/list').subscribe(fsgList=>{\r\n      fsgList.forEach(fsg => {\r\n        this.subs.push(this.db.list(`/fsg/${fsg.$value}`).subscribe(fsgMaps => {\r\n          fsgMaps.forEach(mapId => {\r\n            this.loadMapMarkers(mapBaseUrl, mapId.$value);\r\n          });\r\n        }));\r\n      });\r\n    }));\r\n  }\r\n\r\n  clearAllMarkers() {\r\n    _.forEach(this.subs, sub => {\r\n      sub.unsubscribe();\r\n    });\r\n    this.subs.length = 0;\r\n    this.maps.length = 0;\r\n    this.mapMarkers.length = 0;\r\n    this.trackUpdates = false;\r\n    this.triggerUpdate();\r\n  }\r\n\r\n  getAllFsgMaps(mapBin: any): Observable<any> {\r\n    this.fsgs.length = 0;\r\n    return this.db.object('/fsg/list').flatMap(fsgObjList=>{\r\n      // console.log(`Got fsg list...`);\r\n      const fsgList = [];\r\n      _.forOwn(fsgObjList, (fsgVal, fsgKey) => {\r\n        fsgList.push({'$key': fsgKey, '$value': fsgVal});\r\n      });\r\n      return Observable.from(fsgList);\r\n    })\r\n    .flatMap((fsgObj:any) => {\r\n      const fsgName = fsgObj.$value;\r\n      // console.log(`Getting FSG: ${fsgName}`);\r\n      return this.db.object(`/fsg/${fsgName}`).flatMap(mapIdObjList => {\r\n        // console.log(`Got map ids...`);\r\n        const mapIdList = [];\r\n        _.forOwn(mapIdObjList, (mapIdVal, mapIdKey) => {\r\n          mapIdList.push({'$key': mapIdKey, '$value': mapIdVal})\r\n        });\r\n        mapIdList.forEach(mapId => {\r\n          mapBin[mapId.$value] = {fsgName: fsgName, mapKey: mapId.$key};\r\n        });\r\n        // console.log(mapBin);\r\n        return Observable.from(mapIdList);\r\n      });\r\n    });\r\n  }\r\n\r\n  getAllFsgMapsList(sortMaps: boolean = false): Observable<Fsg[]> {\r\n    const mapBin = {};\r\n    return this.getAllFsgMaps(mapBin)\r\n    .flatMap((mapId:any) => {\r\n      // console.log(`Getting map...${mapId.$value}`);\r\n      return this.db.object(`/maps/${mapId.$value}`);\r\n    })\r\n    .flatMap(mapObj => {\r\n      // console.log(`Got map....`);\r\n      mapBin[mapObj.$key].mapObj = mapObj;\r\n      // console.log(mapBin[mapObj.$key]);\r\n      return this.db.object(`${this.currentActiveMapRoot}${mapObj.$key}`).flatMap(assgnObj => {\r\n        mapBin[mapObj.$key].assgnObj = assgnObj;\r\n        return Observable.of(mapObj);\r\n      });\r\n    })\r\n    .flatMap(whatever => {\r\n      // console.log(`Populated map bin...`);\r\n      // console.log(mapBin);\r\n      return Observable.of(mapBin);\r\n    })\r\n    .debounce(() => {\r\n      return Observable.interval(1000)\r\n    })\r\n    .flatMap(whatever => {\r\n      // Pivot data into...\r\n      const fsgBin = {};\r\n      _.forOwn(mapBin, (val, key) => {\r\n        let fsg = _.find(this.fsgs, (fsg)=>{return fsg.fsgName == val.fsgName });\r\n        if (!fsg) {\r\n          fsg = new Fsg(val.fsgName, [], this.metadata);\r\n          this.fsgs.push(fsg);\r\n        }\r\n        let map = _.find(fsg.maps, (map) => { return map.id == key });\r\n        if (map) {\r\n          map.mapObj = val.mapObj;\r\n          map.assgnObj = val.assgnObj;\r\n        } else {\r\n          fsg.maps.push(new Map(key, val.mapObj, val.assgnObj));\r\n        }\r\n      });\r\n      if (sortMaps) {\r\n        // Sort maps order:\r\n        // 1. Started date\r\n        // 2. Last completed\r\n        _.each(this.fsgs, (fsg) => {\r\n          const sortedMaps = _.sortBy(fsg.maps,\r\n          [(map) => {\r\n            return map.assgnObj && map.assgnObj.started ? moment(map.assgnObj.started).unix() : null;\r\n          }, (map) => {\r\n            return map.mapObj && map.mapObj.lastCompleted ? moment(map.mapObj.lastCompleted).unix() : 0;\r\n          }]);\r\n          fsg.maps = sortedMaps;\r\n        });\r\n      }\r\n      return Observable.of(this.fsgs);\r\n    });\r\n  }\r\n\r\n  getUserMaps(user: MapsUser): Observable<Fsg[]>  {\r\n    const mapBin = {};\r\n    return this.db.object(this.getUserMapPath(user.userInfoObj.$key)).flatMap(mapListObj=> {\r\n      console.log(`Got user maps list...`);\r\n      this.fsgs = [];\r\n      if (mapListObj.$exists()) {\r\n        const mapIds = [];\r\n        _.forOwn(mapListObj, (val, mapId)=> {\r\n          mapIds.push(mapId);\r\n        });\r\n        return Observable.from(mapIds);\r\n      }\r\n      return Observable.of(null);\r\n    }).flatMap((mapId:any) => {\r\n      console.log(`Got map id....`);\r\n      this.fsgs.length = 0;\r\n      if (mapId) {\r\n        return this.db.object(`/maps/${mapId}`);\r\n      } else {\r\n        return Observable.of(null);\r\n      }\r\n    })\r\n    .flatMap(mapObj => {\r\n      console.log(`Got map obj....`);\r\n      this.fsgs.length = 0;\r\n      if (mapObj) {\r\n        if (_.isEmpty(mapBin[mapObj.$key])) {\r\n          mapBin[mapObj.$key] = {fsgName: \"Your Maps\"};\r\n        }\r\n        mapBin[mapObj.$key].mapObj = mapObj;\r\n        // console.log(mapBin[mapObj.$key]);\r\n        return this.db.object(`${this.currentActiveMapRoot}${mapObj.$key}`).flatMap(assgnObj => {\r\n          mapBin[mapObj.$key].assgnObj = assgnObj;\r\n          return Observable.of(mapObj);\r\n        });\r\n      }\r\n      return Observable.of(null);\r\n    })\r\n    .flatMap(whatever => {\r\n      // console.log(`Populated map bin...`);\r\n      // console.log(mapBin);\r\n      return Observable.of(mapBin);\r\n    })\r\n    .debounce(() => {\r\n      return Observable.interval(1000)\r\n    })\r\n    .flatMap(whatever => {\r\n      // Pivot data into...\r\n      // console.log(this.fsgs);\r\n      const fsgs = [];\r\n      const fsgBin = {};\r\n      _.forOwn(mapBin, (val, key) => {\r\n        // let fsg = _.find(this.fsgs, (fsg)=>{return fsg.fsgName == val.fsgName });\r\n        // if (!fsg) {\r\n        //   fsg = new Fsg(val.fsgName, []);\r\n        //   this.fsgs.push(fsg);\r\n        // }\r\n        // let map = _.find(fsg.maps, (map) => { return map.id == key });\r\n        // if (map) {\r\n        //   map.mapObj = val.mapObj;\r\n        //   map.assgnObj = val.assgnObj;\r\n        // } else {\r\n        //   fsg.maps.push(new Map(key, val.mapObj, val.assgnObj));\r\n        // }\r\n        let fsg = _.find(fsgs, (fsg)=>{return fsg.fsgName == val.fsgName });\r\n        if (!fsg) {\r\n          fsg = new Fsg(val.fsgName, []);\r\n          fsgs.push(fsg);\r\n        }\r\n        fsg.maps.push(new Map(key, val.mapObj, val.assgnObj));\r\n      });\r\n\r\n      // return Observable.of(this.fsgs);\r\n      return Observable.of(fsgs);\r\n    });\r\n  }\r\n\r\n  updateLastSaved(map: Map, userInfo: any) {\r\n\r\n  }\r\n\r\n  updateOwner(map: Map, owner: any, prevOwner: any, isPersonal:boolean = false, notes:any = null) {\r\n    const updateObj = {};\r\n\r\n    if (map.assgnObj.address) {\r\n      updateObj[`${this.currentActiveMapRoot}${map.id}/address`] = map.assgnObj.address;\r\n    }\r\n    if (map.assgnObj.users) {\r\n      updateObj[`${this.currentActiveMapRoot}${map.id}/users`] = map.assgnObj.users;\r\n    }\r\n    if (_.isEmpty(map.assgnObj.started)) {\r\n      updateObj[`${this.currentActiveMapRoot}${map.id}/started`] = moment().toDate();\r\n    }\r\n    if (prevOwner && owner.id != prevOwner.id) {\r\n      updateObj[`${this.currentActiveMapRoot}${map.id}/prevOwner`] = prevOwner;\r\n    }\r\n\r\n    if (!_.isNull(notes)) {\r\n      updateObj[`${this.currentActiveMapRoot}${map.id}/notes`] = notes;\r\n    }\r\n    updateObj[`${this.currentActiveMapRoot}${map.id}/owner`] = {id: owner.id, name: owner.name, expiry: owner.expiry};\r\n    updateObj[`${this.currentActiveMapRoot}${map.id}/expiry`] = owner.expiry;\r\n    updateObj[`${this.currentActiveMapRoot}${map.id}/isPersonal`] = isPersonal;\r\n\r\n    updateObj[`${this.getUserMapPath(owner.id, map.id)}/expiry`] = owner.expiry;\r\n    this.db.database.ref().update(updateObj);\r\n  }\r\n\r\n  updateUsers(map: Map, users: any[]) {\r\n    const updateObj = {};\r\n    const userListObj = {};\r\n    _.forEach(users, user => {\r\n      userListObj[user.id] = {name:user.name, expiry: user.expiry};\r\n      updateObj[`${this.getUserMapPath(user.id, map.id)}/expiry`] = user.expiry;\r\n    });\r\n    updateObj[`${this.currentActiveMapRoot}${map.id}/users`] = userListObj;\r\n    console.log(updateObj);\r\n    this.db.database.ref().update(updateObj);\r\n  }\r\n\r\n  removeOwner(map: Map, prevOwner: any, notes:any = null) {\r\n    const updateObj = {};\r\n    if (!_.isNull(notes)) {\r\n      updateObj[`${this.currentActiveMapRoot}${map.id}/notes`] = notes;\r\n    }\r\n    updateObj[`${this.currentActiveMapRoot}${map.id}/owner`] = null;\r\n    updateObj[`${this.currentActiveMapRoot}${map.id}/expiry`] = null;\r\n    updateObj[`${this.getUserMapPath(prevOwner.id, map.id)}`] = null;\r\n    updateObj[`${this.currentActiveMapRoot}${map.id}/prevOwner`] = prevOwner;\r\n    this.db.database.ref().update(updateObj);\r\n  }\r\n\r\n  removeUsers(map: Map, users: any) {\r\n    const updateObj = {};\r\n    _.forEach(users, user => {\r\n      updateObj[`${this.getUserMapPath(user.id, map.id)}`] = null;\r\n      updateObj[`${this.currentActiveMapRoot}${map.id}/users/${user.id}`] = null;\r\n    });\r\n    this.db.database.ref().update(updateObj);\r\n  }\r\n\r\n  saveAddr(addrUpdates:any[], currentMap=null, targetMap=null, cb=null) {\r\n    const updateObj: any = {};\r\n    _.each(addrUpdates, (addrUpdate)=> {\r\n      let key = null;\r\n      if (_.isString(addrUpdate) || _.isNumber(addrUpdate)) {\r\n        if (currentMap && targetMap) {\r\n          const fromMapId = currentMap.id;\r\n          const toMapId = targetMap.id;\r\n          const addrPath = `/addresses/${key}`;\r\n          updateObj[`${addrPath}/terId`] = currentMap.mapObj.terId;\r\n          updateObj[`${addrPath}/mapId`] = toMapId;\r\n          updateObj[`${addrPath}/map`] = targetMap.mapObj.name;\r\n          updateObj[`/maps/${toMapId}/addresses/${key}`] = key;\r\n          updateObj[`/maps/${fromMapId}/addresses/${key}`] = null;\r\n        }\r\n      } else {\r\n        key = addrUpdate.addId;\r\n        if (_.isUndefined(key)) {\r\n          key = this.metadata.ids.addId;\r\n          this.metadata.ids.addId++;\r\n          updateObj[`/metadata/ids/addId`] = this.metadata.ids.addId;\r\n        }\r\n        const addrPath = `/addresses/${key}`;\r\n        updateObj[`${addrPath}/unit`] = this.getValueEmptyIfUndefined(addrUpdate.unit);\r\n        updateObj[`${addrPath}/hnum`] = this.getValueEmptyIfUndefined(addrUpdate.hnum);\r\n        updateObj[`${addrPath}/st`] = this.getValueEmptyIfUndefined(addrUpdate.st);\r\n        updateObj[`${addrPath}/lSt`] = this.getValueEmptyIfUndefined(_.toLower(addrUpdate.st));\r\n        updateObj[`${addrPath}/burb`] = this.getValueEmptyIfUndefined(addrUpdate.burb);\r\n        updateObj[`${addrPath}/pcode`] = this.getValueEmptyIfUndefined(addrUpdate.pcode);\r\n        updateObj[`${addrPath}/tel`] = this.getValueEmptyIfUndefined(addrUpdate.tel);\r\n        updateObj[`${addrPath}/clat`] = this.getValueEmptyIfUndefined(addrUpdate.clat);\r\n        updateObj[`${addrPath}/clong`] = this.getValueEmptyIfUndefined(addrUpdate.clong);\r\n        if (currentMap) {\r\n          const mapId = currentMap.id;\r\n          updateObj[`${addrPath}/terId`] = currentMap.mapObj.terId;\r\n          updateObj[`${addrPath}/mapId`] = mapId;\r\n          updateObj[`${addrPath}/map`] = currentMap.mapObj.name;\r\n          updateObj[`/maps/${mapId}/addresses/${key}`] = key;\r\n        }\r\n      }\r\n    });\r\n    console.log(updateObj);\r\n    this.db.database.ref().update(updateObj).then(()=> {\r\n      if (cb) cb();\r\n    });\r\n  }\r\n\r\n  getValueEmptyIfUndefined(val) {\r\n    return _.isUndefined(val) ? '' : val;\r\n  }\r\n\r\n  updateAddrStat(mapId, addId, status, user, cb=null) {\r\n    const updateObj: any = {};\r\n    const nhData: any = {};\r\n    updateObj[`${this.currentActiveMapRoot}${mapId}/address/${addId}`] = status;\r\n    if (status == 3 || status == 4) {\r\n      // not at home 1 or 2\r\n      nhData.nh_when = moment().toDate();\r\n      nhData.nh_by = user.userInfoObj.name;\r\n      updateObj[`${this.currentActiveMapRoot}${mapId}/det/${addId}/nh_when`] = nhData.nh_when;\r\n      updateObj[`${this.currentActiveMapRoot}${mapId}/det/${addId}/nh_by`] = nhData.nh_by;\r\n    }\r\n    updateObj[`${this.currentActiveMapRoot}${mapId}/lastSaved`] = {id: user.userObj.uid, name: user.userInfoObj.name, when: moment().toDate() };\r\n    this.db.database.ref().update(updateObj).then(()=> {\r\n      if (cb) cb(addId, status, nhData);\r\n    });\r\n  }\r\n\r\n  updateAddrStats(map, user, cb=null) {\r\n    const updateObj: any = {};\r\n    const mapObj = map.mapObj;\r\n    _.each(map.addresses, (addObj) => {\r\n        const nhData: any = {};\r\n        const mapId = mapObj.$key;\r\n        const addId = addObj.addId;\r\n        const status = addObj.status;\r\n        updateObj[`${this.currentActiveMapRoot}${mapId}/address/${addId}`] = status;\r\n        if (status == 3 || status == 4) {\r\n          // not at home 1 or 2\r\n          nhData.nh_when = moment().toDate();\r\n          nhData.nh_by = user.userInfoObj.name;\r\n          updateObj[`${this.currentActiveMapRoot}${mapId}/det/${addId}/nh_when`] = nhData.nh_when;\r\n          updateObj[`${this.currentActiveMapRoot}${mapId}/det/${addId}/nh_by`] = nhData.nh_by;\r\n        }\r\n        updateObj[`${this.currentActiveMapRoot}${mapId}/lastSaved`] = {id: user.userObj.uid, name: user.userInfoObj.name, when: moment().toDate() };\r\n    });\r\n\r\n    // if (cb) cb(map);\r\n    this.db.database.ref().update(updateObj).then(()=> {\r\n      if (cb) cb(mapObj);\r\n    });\r\n  }\r\n\r\n  getCompletionPercentage(map: Map) {\r\n    if (map.mapObj.addresses && map.assgnObj && !_.isUndefined(map.assgnObj.address)) {\r\n      return Math.round((this.getVisitedAddresses(map) / map.addressCount) * 100);\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  getVisitedAddresses(map: Map) {\r\n    let numDone = 0;\r\n    if (map.mapObj.addresses && map.assgnObj && !_.isUndefined(map.assgnObj.address)) {\r\n      _.forOwn(map.mapObj.addresses, (addId, key) => {\r\n        if (!_.isUndefined(map.assgnObj.address[addId])) {\r\n          const status = _.toNumber(map.assgnObj.address[addId]);\r\n          switch (status) {\r\n            case 1:\r\n            case 2:\r\n            case 5:\r\n            case 7:\r\n            case 8:\r\n            case 9:\r\n            case 10:\r\n              numDone++;\r\n              break;\r\n            case 4:\r\n              if (!map.mapObj.search) {\r\n                numDone++;\r\n              }\r\n              break;\r\n          }\r\n        }\r\n      });\r\n      return numDone;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  getRemainingAddresses(map: Map) {\r\n    return map.addressCount - this.getVisitedAddresses(map);\r\n  }\r\n\r\n  getUserMapPath(userId, mapId:any = null) {\r\n    if (this.metadata.mode.campaign) {\r\n      return `/users/${userId}/campaign${_.isNull(mapId) ? '' : `/${mapId}`}`;\r\n    } else {\r\n      return `/users/${userId}/maps${_.isNull(mapId) ? '' : `/${mapId}`}`;\r\n    }\r\n  }\r\n\r\n  getMapsUserUri() {\r\n    if (this.metadata.mode.campaign) {\r\n      return `campaignUsers`;\r\n    } else {\r\n      return `users`;\r\n    }\r\n  }\r\n\r\n  isNormalMode() {\r\n    return !this.metadata.mode.campaign;\r\n  }\r\n\r\n  isCampaignVisitOnce() {\r\n    return this.metadata.mode.campaignVisitOnce;\r\n  }\r\n\r\n  enableGeolocation(onAddLocMarker) {\r\n    if (navigator.geolocation) {\r\n      this.locationWatch = navigator.geolocation.watchPosition( pos => {\r\n        onAddLocMarker.emit({\r\n          position: {lat: pos.coords.latitude, lng: pos.coords.longitude}\r\n        });\r\n      }, error => {\r\n          console.error(error);\r\n      });\r\n    }\r\n  }\r\n\r\n  disableGeolocation(onAddLocMarker) {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.clearWatch(this.locationWatch);\r\n      onAddLocMarker.emit(null);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  findByStreet(stName: string, cb) {\r\n    this.findByTerm('/addresses/', 'lSt', _.toLower(stName), false, cb);\r\n  }\r\n\r\n  findByTerm(path: string, term:any, param:any, isExactSearch:boolean, cb) {\r\n    const ref = this.db.database.ref();\r\n    if (isExactSearch) {\r\n      ref.child(path).orderByChild(term).equalTo(param).on('value', (snap) => {\r\n        if (!snap.val()) {\r\n          // try again...\r\n          ref.child(path).orderByChild(term).equalTo(_.toInteger(param)).on('value', (snap2) => {\r\n            cb(snap2.val());\r\n          });\r\n        } else {\r\n          cb(snap.val());\r\n        }\r\n      });\r\n    } else {\r\n      ref.child(path).orderByChild(term).startAt(param).endAt(`${param}\\uf8ff`).on('value', (snap) => {\r\n        cb(snap.val());\r\n      });\r\n    }\r\n\r\n    // const ref = this.db.database.ref(path);\r\n    // var searchRes = [];\r\n    // const queryObservable = this\r\n    //\r\n    // // subscribe to changes\r\n    // queryObservable.subscribe(queriedItems => {\r\n    //   console.log(queriedItems);\r\n    // });\r\n    //\r\n    // return qSubject.next(param);\r\n  }\r\n\r\n  fsgHasCompletion(fsgName) {\r\n    return fsgName != \"Search\" && fsgName != \"Queue\";\r\n  }\r\n\r\n  addNewFsg(fsgName, cb) {\r\n    const that = this;\r\n    const updateObj = {};\r\n    updateObj[`/fsg/list/${fsgName}`] = fsgName;\r\n    updateObj[`/fsg/${fsgName}`] = 0;\r\n    this.db.database.ref().update(updateObj).then(()=> {\r\n      if (cb) cb();\r\n    });\r\n  }\r\n\r\n  addNewMap(fsgName, mapName, isSearch, cb) {\r\n    const updateObj = {};\r\n    const terId = this.metadata.ids.terId;\r\n    updateObj[`/maps/${terId}`] = {\r\n      name: mapName,\r\n      lname: _.toLower(mapName),\r\n      fsg: fsgName,\r\n      terId: terId\r\n    };\r\n    updateObj[`/fsg/${fsgName}/${terId}`] = terId;\r\n    updateObj[`/metadata/ids/terId`] = terId + 1;\r\n    this.db.database.ref().update(updateObj).then(()=> {\r\n      if (cb) cb();\r\n    });\r\n  }\r\n\r\n  findByTerId(terId, cb) {\r\n    this.findByTerm('/maps/', 'terId', terId, true, cb);\r\n  }\r\n\r\n  moveAddress(fromMapId, toMapId, toTerId, toMapName, fsg, addresses, cb) {\r\n    const updateObj = {};\r\n    _.each(addresses, (addr)=> {\r\n      updateObj[`/maps/${fromMapId}/addresses/${addr.addId}`] = null;\r\n      updateObj[`/maps/${toMapId}/addresses/${addr.addId}`] = addr.addId;\r\n      updateObj[`/addresses/${addr.addId}/mapId`] = toTerId;\r\n      updateObj[`/addresses/${addr.addId}/map`] = toMapName;\r\n      updateObj[`/addresses/${addr.addId}/fsg`] = fsg;\r\n    });\r\n    console.log(updateObj);\r\n    this.db.database.ref().update(updateObj).then(()=> {\r\n      if (cb) cb();\r\n    });\r\n  }\r\n\r\n  moveMap(mapId, mapKey, mapName, fromFsg, toFsg, cb) {\r\n    const updateObj = {};\r\n    updateObj[`/maps/${mapId}/fsg`] = toFsg;\r\n    updateObj[`/maps/${mapId}/name`] = mapName;\r\n    updateObj[`/maps/${mapId}/lName`] = _.toLower(mapName);\r\n    updateObj[`/fsg/${fromFsg}/${mapKey}`] = null;\r\n    updateObj[`/fsg/${toFsg}/${mapId}`] = mapId;\r\n    console.log(updateObj);\r\n    this.db.database.ref().update(updateObj).then(()=> {\r\n      if (cb) cb();\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/map.service.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mapCard {\\r\\n  margin-top: 10px;\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/mapslist.component.css\n// module id = ../../../../../src/app/map/mapslist.component.css\n// module chunks = 1","module.exports = \"\\r\\n<td-message *ngIf=\\\"!hasMaps\\\" label=\\\"Info\\\" sublabel=\\\"You have no maps, please contact the maps team if you are expecting maps.\\\" color=\\\"accent\\\" icon=\\\"info\\\"></td-message>\\r\\n<ng-container *ngFor=\\\"let fsg of fsgMaps; index as i \\\">\\r\\n  <td-expansion-panel #tdPanel (expanded)=\\\"toggleExpand(fsg, true)\\\" (collapsed)=\\\"toggleExpand(fsg, false)\\\" >\\r\\n    {{ addFsgComp(fsg, i, tdPanel) }}\\r\\n    <ng-template td-expansion-panel-header>\\r\\n      <mat-toolbar [ngClass]=\\\"'bgc-blue-grey-600 whiteText marginTopBottom-2'\\\">\\r\\n        <span><h2>{{ getFsgName(fsg) }}</h2> </span>\\r\\n        <span class=\\\"fill-remaining-space\\\"></span>\\r\\n        <span><mat-icon *ngIf=\\\"!fsg.expanded\\\">keyboard_arrow_down</mat-icon><mat-icon *ngIf=\\\"fsg.expanded\\\">keyboard_arrow_up</mat-icon></span>\\r\\n      </mat-toolbar>\\r\\n    </ng-template>\\r\\n    <mat-card class='mapCard' *ngFor=\\\"let map of fsg.maps\\\" [style.background-color]=\\\"getBgMap(map)\\\">\\r\\n      <mat-card-header>\\r\\n        <mat-card-title>\\r\\n          <h3>\\r\\n            <a *ngIf=\\\"canOpenMap(map); else elseBlock\\\" [routerLink]=\\\"['/map', map.id]\\\">\\r\\n              {{map.mapObj.terId}} - {{map.mapObj.name}} {{ isNormalMode() ? '' : '::: Campaign'}}\\r\\n            </a>\\r\\n            <ng-template #elseBlock >\\r\\n              {{map.mapObj.terId}} - {{map.mapObj.name}} {{ isNormalMode() ? '' : '::: Campaign'}}\\r\\n            </ng-template>\\r\\n          </h3>\\r\\n        </mat-card-title>\\r\\n      </mat-card-header>\\r\\n      <mat-card-content>\\r\\n        <mat-progress-bar class=\\\"marginBottom-10\\\" *ngIf=\\\"map.assgnObj && map.assgnObj.started\\\" [value]=\\\"getCompletionPercentage(map)\\\" [color]=\\\"primary\\\"></mat-progress-bar>\\r\\n        <div>\\r\\n          <mat-chip-list selectable=\\\"false\\\">\\r\\n            <mat-chip *ngIf=\\\"map.assgnObj && map.assgnObj.started\\\">Remaining: {{ getRemaining(map) }}</mat-chip>\\r\\n            <mat-chip>Addresses: {{map.addressCount}}</mat-chip>\\r\\n            <mat-chip *ngIf=\\\"map.assgnObj && map.assgnObj.lastSaved\\\">Last used on: {{ map.assgnObj.lastSaved.when  | date:'EEEE, hh:mm a, dd MMM y' }} </mat-chip>\\r\\n            <mat-chip *ngIf=\\\"map.assgnObj && map.assgnObj.lastSaved\\\">Last used by: {{ map.assgnObj.lastSaved.name }}</mat-chip>\\r\\n            <mat-chip *ngIf=\\\"map.hasOwner()\\\">Owner: {{ map.getOwner().name}} </mat-chip>\\r\\n            <mat-chip *ngIf=\\\"map.hasUsers()\\\">Users: {{ getMapUsers(map) }}</mat-chip>\\r\\n            <mat-chip *ngIf=\\\"map.assgnObj && map.assgnObj.started\\\">Started: {{ map.assgnObj.started | date:'dd MMM y'}}</mat-chip>\\r\\n            <mat-chip *ngIf=\\\"map.assgnObj && map.assgnObj.expiry\\\" [style.background-color]=\\\"getBg(map.assgnObj.expiry)\\\" >Expiry: {{ map.assgnObj.expiry | date:'dd MMM y'}}</mat-chip>\\r\\n            <mat-chip *ngIf=\\\"map.mapObj.lastCompleted && isUpdater() && isNormalMode()\\\">Last completed: {{ map.mapObj.lastCompleted | date:'dd MMM y'}}</mat-chip>\\r\\n            <mat-chip *ngIf=\\\"map.assgnObj.prevOwner && isUpdater()\\\" >Last Owner: {{ map.assgnObj.prevOwner.name }}</mat-chip>\\r\\n            <mat-chip *ngIf=\\\"map.assgnObj.isPersonal\\\">Personal Territory</mat-chip>\\r\\n            <mat-chip *ngIf=\\\"map.assgnObj.notes\\\">{{ map.assgnObj.notes }}</mat-chip>\\r\\n          </mat-chip-list>\\r\\n        </div>\\r\\n      </mat-card-content>\\r\\n      <mat-card-actions>\\r\\n        <a *ngIf=\\\"canOpenMap(map)\\\" mat-mini-fab [routerLink]=\\\"['/map', map.id]\\\"><mat-icon>map</mat-icon></a>\\r\\n        <mapshare *ngIf=\\\"canOpenMap(map)\\\" [map]=\\\"map\\\" [campaignMode]=\\\"!isNormalMode()\\\"></mapshare>\\r\\n      </mat-card-actions>\\r\\n    </mat-card>\\r\\n  </td-expansion-panel>\\r\\n</ng-container>\\r\\n<mat-card *ngIf=\\\"metadata\\\">\\r\\n  <mat-card-header>\\r\\n    <mat-card-title>\\r\\n      <h3>\\r\\n        Progress Report\\r\\n      </h3>\\r\\n    </mat-card-title>\\r\\n  </mat-card-header>\\r\\n  <mat-card-content>\\r\\n    <h4 *ngIf=\\\"metadata.mode.campaign\\\">Days left for this campaign: {{ getCompletionReport().daysLeft }} days</h4>\\r\\n    <h4>Current overall map completion: {{ getOverallCompletion() }}% ( {{ getCompletionReport().completedMaps }} of {{ getMapCount() }} maps )</h4>\\r\\n    <h4>Current number addresses visited: {{ getCompletionReport().completionAddr }}% ( {{ getCompletionReport().visitedAddresses }} of {{ getCompletionReport().totalAddresses }} addresses )</h4>\\r\\n  </mat-card-content>\\r\\n</mat-card>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/mapslist.component.html\n// module id = ../../../../../src/app/map/mapslist.component.html\n// module chunks = 1","import { Component, Input, ViewChild, EventEmitter } from '@angular/core';\r\nimport { MapService, Fsg, Map } from './map.service';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { environment } from '../../environments/environment';\r\nimport { MatDialog, MatDialogRef } from '@angular/material';\r\nimport { LoadingDialog } from './loading-diag.component';\r\nimport { BaseComponent } from '../base/base.component';\r\nimport { AuthService, MapsUser } from '../user/user.component';\r\nimport { WindowRef } from './windowref.service';\r\nimport moment from 'moment-es6';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n  selector: 'mapslist-component',\r\n  templateUrl: './mapslist.component.html',\r\n  styleUrls: ['./mapslist.component.css']\r\n})\r\nexport class MapsListComponent extends BaseComponent {\r\n  loadingDialog: any;\r\n  fsgMaps: Fsg[];\r\n  loaded: boolean = false;\r\n  hasMaps: boolean = false;\r\n  oldFsgMaps: Fsg[];\r\n  metadata: any;\r\n  compMap: any;\r\n\r\n  constructor(dialog: MatDialog, fireAuth: AuthService, public mapService: MapService, public winRef: WindowRef) {\r\n    super();\r\n    this.dialog = dialog;\r\n    this.fireAuth = fireAuth;\r\n    winRef.redirHttps();\r\n  }\r\n\r\n  public load() {\r\n    this.showLoadingDialog();\r\n    this.mapService.getMetadata().subscribe(meta => {\r\n      this.metadata = meta;\r\n      if (this.fireAuth.currentUser.isAdmin() || this.fireAuth.currentUser.isUpdater()) {\r\n        // load all if an admin...\r\n        console.log(`Loading current maps...`);\r\n        this.getAllMapsList();\r\n      } else {\r\n        // load all assigned maps...\r\n        if (this.fireAuth.currentUser.isFsgAssistant()) {\r\n          this.getFsgMaps();\r\n        } else {\r\n          this.getAllUserMaps();\r\n        }\r\n      }\r\n      this.loadPreferences();\r\n      // pre-load the user list...\r\n      this.subs.push(this.fireAuth.getAllUsersList().subscribe(userList => {\r\n        console.log(`User list pre-loaded..`);\r\n      }));\r\n    });\r\n  }\r\n\r\n  public getOverallCompletion() {\r\n    if (this.metadata.mode.campaign) {\r\n      return this.metadata.report.campaign.currentCompletion;\r\n    } else {\r\n      return this.metadata.report.regular.currentCompletion;\r\n    }\r\n  }\r\n\r\n  public getMapCount() {\r\n    if (this.metadata.mode.campaign) {\r\n      return this.metadata.report.campaign.mapCount;\r\n    } else {\r\n      return this.metadata.report.regular.mapCount;\r\n    }\r\n  }\r\n\r\n  public getCompletionReport() {\r\n    if (this.metadata.mode.campaign) {\r\n      return this.metadata.report.campaign;\r\n    } else {\r\n      return this.metadata.report.regular;\r\n    }\r\n  }\r\n\r\n  protected getFsgMaps() {\r\n    _.forOwn(this.fireAuth.currentUser.roles.fsg, (flag, fsgName) => {\r\n\r\n    });\r\n  }\r\n\r\n  protected getAllUserMaps() {\r\n    // maps listing depend on roles...\r\n    console.log(`Getting all user maps...`);\r\n    this.subs.push(this.mapService.getUserMaps(this.fireAuth.currentUser).subscribe(fsgMaps => {\r\n      console.log(`Got all user maps...`);\r\n      // remove all maps not shared....\r\n      _.forEach(fsgMaps, (fsg, idx) => {\r\n        _.remove(fsg.maps, map => {\r\n          return !map.isUser(this.fireAuth.currentUser);\r\n        });\r\n        if (fsg.maps.length == 0 && fsgMaps.length > 0) {\r\n          fsgMaps.splice(idx, 1);\r\n        }\r\n        if (this.fsgMaps) {\r\n          const fsgMatch = _.find(this.fsgMaps, fsgM => {\r\n            return fsg.fsgName == fsgM.fsgName;\r\n          });\r\n          if (fsgMatch) {\r\n            console.log(`Match found:::`);\r\n            console.log(fsgMatch);\r\n            console.log(fsg);\r\n            fsgMatch.metadata = fsg.metadata;\r\n            fsgMatch.maps = fsg.maps;\r\n            fsgMatch.completedMapsCtr = fsg.completedMapsCtr;\r\n            fsgMatch.completionRate = fsg.completionRate;\r\n          }\r\n        }\r\n\r\n      });\r\n      this.hasMaps = fsgMaps && fsgMaps.length > 0;\r\n\r\n      // if (!this.hasMaps) {\r\n      //   this.oldFsgMaps = [];\r\n      //   this.fsgMaps = [];\r\n      // }\r\n      // if (this.oldFsgMaps) {\r\n      //   _.forEach(this.oldFsgMaps, (fsgMap) => {\r\n      //     const currentFsg = _.find(this.fsgMaps, (curFsg) => {\r\n      //       return curFsg.fsgName == fsgMap.fsgName\r\n      //     });\r\n      //     if (currentFsg) {\r\n      //       currentFsg.expanded = fsgMap.expanded;\r\n      //     }\r\n      //   });\r\n      // }\r\n      // this.oldFsgMaps = this.fsgMaps;\r\n      if (!this.fsgMaps) {\r\n        this.fsgMaps = fsgMaps;\r\n      }\r\n      _.each(this.fsgMaps, (fsg) => {\r\n        fsg.maps = _.sortBy(fsg.maps, (map) => {\r\n          return _.toInteger(map.mapObj.terId)\r\n        });\r\n      });\r\n      this.hideLoadingDialog();\r\n    }));\r\n  }\r\n\r\n  getFsgName(fsg) {\r\n    if (fsg.fsgName != 'Your Maps') {\r\n      return `${fsg.fsgName} ${ this.mapService.fsgHasCompletion(fsg.fsgName) ? `- ${fsg.getCompletionPercent()}%` : ''}`;\r\n    }\r\n    return fsg.fsgName;\r\n  }\r\n\r\n  protected getAllMapsList() {\r\n    // maps listing depend on roles...\r\n    console.log(`Getting all maps...`);\r\n    this.hasMaps = true;\r\n    if (this.fireAuth.currentUser.isAdmin() || this.fireAuth.currentUser.isUpdater()) {\r\n      this.subs.push(this.mapService.getAllFsgMapsList(true).flatMap(fsgMaps => {\r\n        _.each(fsgMaps, (fsg) => {\r\n          fsg.computeCompleted();\r\n          fsg.expanded = (this.compMap ? this.compMap[fsg.fsgName].fsg.expanded : false);\r\n        });\r\n        this.fsgMaps = fsgMaps;\r\n        console.log(\"All maps:\")\r\n        console.log(fsgMaps);\r\n\r\n        return this.mapService.getUserMaps(this.fireAuth.currentUser);\r\n      })\r\n      .subscribe(userMaps => {\r\n        // console.log(`User maps:`);\r\n        // console.log(userMaps);\r\n\r\n        if (this.fsgMaps.length > 0 && userMaps.length > 0) {\r\n          // check if we need to add the \"Your Maps\"...\r\n          const userFsg = _.find(this.fsgMaps, (curFsg) => {\r\n            return curFsg.fsgName == userMaps[0].fsgName;\r\n          });\r\n          if (!userFsg) {\r\n            this.fsgMaps = userMaps.concat(this.fsgMaps);\r\n          }\r\n        }\r\n\r\n        // if (this.oldFsgMaps) {\r\n        //   // record the last diag open...\r\n        //   _.forEach(this.oldFsgMaps, (fsgMap) => {\r\n        //     // console.log(`Old:`);\r\n        //     // console.log(fsgMap);\r\n        //     const currentFsg = _.find(this.fsgMaps, (curFsg) => {\r\n        //       return curFsg.fsgName == fsgMap.fsgName\r\n        //     });\r\n        //     if (currentFsg) {\r\n        //       // console.log(`Set expanded state.`);\r\n        //       currentFsg.expanded = fsgMap.expanded;\r\n        //     }\r\n        //   });\r\n        // }\r\n        // this.oldFsgMaps = this.fsgMaps;\r\n        this.hideLoadingDialog();\r\n      }));\r\n    }\r\n  }\r\n\r\n  getMapUsers(map: Map) {\r\n    let userList = '';\r\n    _.forEach(map.getUsersList(), entry => {\r\n      userList = `${_.isEmpty(userList) ? userList: userList + ', '}${entry.name}`;\r\n    });\r\n    return userList;\r\n  }\r\n\r\n  public toggleExpand(fsg, expanded) {\r\n    fsg.expanded = expanded;\r\n  }\r\n\r\n  canOpenMap(map) {\r\n    // if (this.fireAuth.currentUser) {\r\n    //   console.log(map.isUser(this.fireAuth.currentUser) || this.fireAuth.currentUser.isAdmin() || this.fireAuth.currentUser.isUpdater());\r\n    // }\r\n    return this.fireAuth.currentUser\r\n      && (map.isUser(this.fireAuth.currentUser) || this.fireAuth.currentUser.isAdmin() || this.fireAuth.currentUser.isUpdater());\r\n  }\r\n\r\n  getCompletionPercentage(map: Map) {\r\n    return this.mapService.getCompletionPercentage(map);\r\n  }\r\n\r\n  getRemaining(map: Map) {\r\n    return this.mapService.getRemainingAddresses(map);\r\n  }\r\n\r\n  isUpdater() {\r\n    return this.fireAuth.currentUser &&  ( this.fireAuth.currentUser.isAdmin() || this.fireAuth.currentUser.isUpdater());\r\n  }\r\n\r\n  getBg(expireDate, isNormalMode) {\r\n    const today = moment();\r\n    const expireMoment = moment(expireDate);\r\n    const criticalMoment = moment().add(3, 'days');\r\n    const soonMoment = moment().add(6, 'days');\r\n    if (today.isSameOrAfter(expireMoment) || today.isBetween(criticalMoment, expireMoment, null, '[]')) {\r\n      return \"pink\";\r\n    }\r\n    if (today.isBetween(soonMoment, expireMoment, null, '[]')) {\r\n      return \"yellow\";\r\n    }\r\n    return \"lightgray\";\r\n  }\r\n\r\n  getBgMap(map) {\r\n    let doneCtr = map.mapObj.doneCtr;\r\n    if (!this.isNormalMode()) {\r\n      doneCtr = map.mapObj.campaignCtr;\r\n    }\r\n    if (doneCtr > 0) {\r\n      return \"lightgray\";\r\n    }\r\n    return \"white\";\r\n  }\r\n\r\n  isNormalMode() {\r\n    return this.mapService.isNormalMode();\r\n  }\r\n\r\n  loadPreferences() {\r\n    this.fireAuth.getUserInfo(this.fireAuth.currentUser).subscribe(user => {\r\n      if (user.userInfoObj.geo) {\r\n        const geoLocEmitter = new EventEmitter<any>();\r\n        let lastSaved = null;\r\n        geoLocEmitter.subscribe(pos => {\r\n          const now = moment();\r\n          if (lastSaved != null && now.isBefore(lastSaved.add(1, 'minute'))) {\r\n            return;\r\n          }\r\n          lastSaved = now;\r\n          this.fireAuth.saveLoc(this.fireAuth.currentUser.userObj.uid, pos);\r\n        });\r\n        this.mapService.enableGeolocation(geoLocEmitter);\r\n      }\r\n      this.fireAuth.saveOnlineStat(this.fireAuth.currentUser);\r\n    });\r\n  }\r\n\r\n  addFsgComp(fsg, i, comp) {\r\n    if (!this.compMap) {\r\n      this.compMap = {};\r\n    }\r\n    if (!this.compMap[fsg.fsgName]) {\r\n      this.compMap[fsg.fsgName] = { comp: comp, fsg: fsg };\r\n      if (fsg.fsgName == 'Your Maps') {\r\n        comp.open();\r\n      }\r\n    }\r\n    \r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/mapslist.component.ts","import { Directive, Input, OnInit, Output, EventEmitter, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { GoogleMapsAPIWrapper } from '@agm/core';\r\nimport { Observable } from 'rxjs';\r\nimport * as _ from \"lodash\";\r\n\r\nimport './markerclusterer.js';\r\n\r\ndeclare const google;\r\ndeclare const MarkerClusterer;\r\n\r\n@Directive({\r\n  selector: 'marker-cluster'\r\n})\r\nexport class MarkerClusterDirective implements OnInit, OnChanges {\r\n  @Input() public points: any[];\r\n  @Input() protected onUpdate: EventEmitter<any>;\r\n  @Input() protected onFit: EventEmitter<any>;\r\n  @Input() protected onSetShowClusterInfo: EventEmitter<boolean>;\r\n  @Input() protected onClear: EventEmitter<boolean>;\r\n  @Input() protected onAddressClick: EventEmitter<any>;\r\n  @Input() protected onAddLocMarker: EventEmitter<any>;\r\n\r\n  public markerCluster: any;\r\n  public markers: any[] = [];\r\n  public scaledMarkerSize;\r\n  maxTypeIdx: number = 3;\r\n  maxColorIdx: number = 3;\r\n  @Input() markerIcons: any[] = [];\r\n  bounds: any;\r\n  locationMarker: any;\r\n  hasLoaded: boolean = false;\r\n\r\n  @Input() style:any = {\r\n    url: '/assets/images/place-markers/cluster.png',\r\n    height: 40,\r\n    width: 40,\r\n    textColor: '#FFF',\r\n    textSize: 11,\r\n    backgroundPosition: 'center center'\r\n  };\r\n\r\n  @Input() options: any = {\r\n    imagePath: '/assets/images/place-markers/cluster',\r\n    gridSize: 20,\r\n    minimumClusterSize: 2,\r\n    styles: [this.style, this.style, this.style]\r\n  };\r\n\r\n  @Input() minimumClusterSize: number = 2;\r\n\r\n  constructor(private gmapsApi: GoogleMapsAPIWrapper) {\r\n  }\r\n\r\n  public ngOnInit() {\r\n\r\n    this.onUpdate.subscribe(data=> {\r\n      this.clearMarkers();\r\n      this.loadPoints();\r\n    });\r\n    this.onSetShowClusterInfo.subscribe(showStat => {\r\n      this.markerCluster.setShowInfo(showStat);\r\n    });\r\n    if (this.onFit) {\r\n      this.onFit.subscribe(trigger => {\r\n        this.fitBounds();\r\n      });\r\n    }\r\n    if (this.onClear) {\r\n      this.onClear.subscribe(trigger => {\r\n        this.clearMarkers();\r\n      });\r\n    }\r\n    if (this.onAddLocMarker) {\r\n      this.onAddLocMarker.subscribe(markerConfig => {\r\n        this.gmapsApi.getNativeMap().then((map) => {\n          this.resetBounds();\r\n          if (!this.locationMarker) {\r\n            this.locationMarker = new google.maps.Marker({\r\n              position: markerConfig.position,\r\n              map: map,\r\n              icon: markerConfig.iconUrl,\r\n              optimized:false\r\n            });\r\n            this.bounds.extend(this.locationMarker.getPosition());\r\n          } else {\r\n            if (markerConfig) {\r\n              var latlng = new google.maps.LatLng(markerConfig.position.lat, markerConfig.position.lng);\r\n              this.locationMarker.setPosition(latlng);\r\n              this.bounds.extend(this.locationMarker.getPosition());\r\n            } else {\r\n              this.locationMarker.setMap(null);\r\n              this.locationMarker = null;\r\n            }\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  public resetBounds() {\r\n    this.bounds = new google.maps.LatLngBounds();\r\n    _.forEach(this.markers, marker => {\r\n      this.bounds.extend(marker.getPosition());\r\n    });\r\n  }\r\n\r\n\r\n  public ngOnChanges(changes: SimpleChanges) {\r\n    this.clearMarkers();\r\n    this.loadPoints();\r\n  }\r\n\r\n  public loadPoints() {\r\n    if (!this.points || this.points.length == 0) {\r\n      console.log(`No points to load...`);\r\n      return;\r\n    }\r\n    this.bounds = new google.maps.LatLngBounds(); // empty bounds object\r\n    this.gmapsApi.getNativeMap().then((map) => {\r\n      if (_.isEmpty(this.markerIcons)) {\r\n        this.scaledMarkerSize = new google.maps.Size(35, 35);\r\n        for (let t = 0; t <= this.maxTypeIdx; t++) {\r\n          for (let c = 0; c <= this.maxColorIdx; c++) {\r\n            const pinUrl = `/assets/images/place-markers/pin-${t}-${c}.svg`;\r\n            this.markerIcons.push({scaledSize: this.scaledMarkerSize, url: pinUrl});\r\n          }\r\n        }\r\n      }\r\n\r\n      Observable\r\n        .interval(500)\r\n        .skipWhile((s) => this.points == null || this.points.length <= 0)\r\n        .take(1)\r\n        .subscribe(() => {\r\n          if (this.points.length > 0) {\r\n            console.log(`Painting markers...`);\r\n            const clickEmitter = this.onAddressClick;\r\n            for (const point of this.points) {\r\n              let marker = new google.maps.Marker({\r\n                position: new google.maps.LatLng(point.addObj.clat, point.addObj.clong),\r\n                icon: this.markerIcons[point.markerIdx % this.markerIcons.length]\r\n              });\r\n              if (point.marker) {\r\n                marker = point.marker;\r\n              }\r\n\r\n              if (point.modalMode) {\r\n                marker.addListener('click', function() {\r\n                  clickEmitter.emit({gmap: map, gmarker: marker, addrMarker: point});\r\n                });\r\n              } else {\r\n                const contentString = `<div id=\"info-window\">${point.infoWindowStr}</div>`;\r\n                marker.infoWindowStr = point.infoWindowStr;\r\n                const infowindow = new google.maps.InfoWindow({\r\n                  content: contentString\r\n                });\r\n\r\n                marker.addListener('click', function() {\r\n                  infowindow.open(map, marker);\r\n                });\r\n                // marker.addListener('click', function() {\r\n                //   clickEmitter.emit({gmap: map, gmarker: marker, addrMarker: point});\r\n                // });\r\n              }\r\n\r\n              // marker.addListener('mouseout', function() {\r\n              //   infowindow.close(map, marker);\r\n              // });\r\n\r\n              this.markers.push(marker);\r\n              this.bounds.extend(marker.getPosition());\r\n            }\r\n          } else {\r\n            this.markers = [];\r\n          }\r\n          this.options.minimumClusterSize = this.minimumClusterSize;\r\n          this.markerCluster = new MarkerClusterer(map, this.markers, this.options);\r\n          // check if we've loaded already, ignore if already loaded...\r\n          if (!this.hasLoaded) {\r\n            this.hasLoaded = true;\r\n            map.setCenter(this.bounds.getCenter());\r\n            map.fitBounds(this.bounds);\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  public clearMarkers() {\r\n    if (this.markerCluster) {\r\n      _.each(this.markers, (marker) => {\r\n        google.maps.event.clearListeners(marker, 'click');\r\n      });\r\n      this.markers = [];\r\n      this.markerCluster.clearMarkers();\r\n    }\r\n  }\r\n\r\n  public fitBounds() {\r\n    this.gmapsApi.getNativeMap().then((map) => {\r\n      map.setCenter(this.bounds.getCenter());\r\n      map.fitBounds(this.bounds);\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/marker-cluster.ts","// ==ClosureCompiler==\r\n// @compilation_level ADVANCED_OPTIMIZATIONS\r\n// @externs_url https://raw.githubusercontent.com/google/closure-compiler/master/contrib/externs/maps/google_maps_api_v3.js\r\n// ==/ClosureCompiler==\r\n\r\n/**\r\n * @name MarkerClusterer for Google Maps v3\r\n * @version version 1.0\r\n * @author Luke Mahe\r\n * @fileoverview\r\n * The library creates and manages per-zoom-level clusters for large amounts of\r\n * markers.\r\n * <br/>\r\n * This is a v3 implementation of the\r\n * <a href=\"http://gmaps-utility-library-dev.googlecode.com/svn/tags/markerclusterer/\"\r\n * >v2 MarkerClusterer</a>.\r\n */\r\n\r\n/**\r\n * @license\r\n * Copyright 2010 Google Inc. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n\r\n/**\r\n * A Marker Clusterer that clusters markers.\r\n *\r\n * @param {google.maps.Map} map The Google map to attach to.\r\n * @param {Array.<google.maps.Marker>=} opt_markers Optional markers to add to\r\n *   the cluster.\r\n * @param {Object=} opt_options support the following options:\r\n *     'gridSize': (number) The grid size of a cluster in pixels.\r\n *     'maxZoom': (number) The maximum zoom level that a marker can be part of a\r\n *                cluster.\r\n *     'zoomOnClick': (boolean) Whether the default behaviour of clicking on a\r\n *                    cluster is to zoom into it.\r\n *     'averageCenter': (boolean) Whether the center of each cluster should be\r\n *                      the average of all markers in the cluster.\r\n *     'minimumClusterSize': (number) The minimum number of markers to be in a\r\n *                           cluster before the markers are hidden and a count\r\n *                           is shown.\r\n *     'styles': (object) An object that has style properties:\r\n *       'url': (string) The image url.\r\n *       'height': (number) The image height.\r\n *       'width': (number) The image width.\r\n *       'anchor': (Array) The anchor position of the label text.\r\n *       'textColor': (string) The text color.\r\n *       'textSize': (number) The text size.\r\n *       'backgroundPosition': (string) The position of the backgound x, y.\r\n *       'iconAnchor': (Array) The anchor position of the icon x, y.\r\n * @constructor\r\n * @extends google.maps.OverlayView\r\n */\r\nfunction MarkerClusterer(map, opt_markers, opt_options) {\r\n  // MarkerClusterer implements google.maps.OverlayView interface. We use the\r\n  // extend function to extend MarkerClusterer with google.maps.OverlayView\r\n  // because it might not always be available when the code is defined so we\r\n  // look for it at the last possible moment. If it doesn't exist now then\r\n  // there is no point going ahead :)\r\n  this.extend(MarkerClusterer, google.maps.OverlayView);\r\n  this.map_ = map;\r\n  this.showInfo = false;\r\n  /**\r\n   * @type {Array.<google.maps.Marker>}\r\n   * @private\r\n   */\r\n  this.markers_ = [];\r\n\r\n  /**\r\n   *  @type {Array.<Cluster>}\r\n   */\r\n  this.clusters_ = [];\r\n\r\n  this.sizes = [53, 56, 66, 78, 90];\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  this.styles_ = [];\r\n\r\n  /**\r\n   * @type {boolean}\r\n   * @private\r\n   */\r\n  this.ready_ = false;\r\n\r\n  var options = opt_options || {};\r\n\r\n  /**\r\n   * @type {number}\r\n   * @private\r\n   */\r\n  this.gridSize_ = options['gridSize'] || 60;\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  this.minClusterSize_ = options['minimumClusterSize'] || 2;\r\n\r\n\r\n  /**\r\n   * @type {?number}\r\n   * @private\r\n   */\r\n  this.maxZoom_ = options['maxZoom'] || null;\r\n\r\n  this.styles_ = options['styles'] || [];\r\n\r\n  /**\r\n   * @type {string}\r\n   * @private\r\n   */\r\n  this.imagePath_ = options['imagePath'] ||\r\n      this.MARKER_CLUSTER_IMAGE_PATH_;\r\n\r\n  /**\r\n   * @type {string}\r\n   * @private\r\n   */\r\n  this.imageExtension_ = options['imageExtension'] ||\r\n      this.MARKER_CLUSTER_IMAGE_EXTENSION_;\r\n\r\n  /**\r\n   * @type {boolean}\r\n   * @private\r\n   */\r\n  this.zoomOnClick_ = true;\r\n\r\n  if (options['zoomOnClick'] != undefined) {\r\n    this.zoomOnClick_ = options['zoomOnClick'];\r\n  }\r\n\r\n  /**\r\n   * @type {boolean}\r\n   * @private\r\n   */\r\n  this.averageCenter_ = false;\r\n\r\n  if (options['averageCenter'] != undefined) {\r\n    this.averageCenter_ = options['averageCenter'];\r\n  }\r\n\r\n  this.setupStyles_();\r\n\r\n  this.setMap(map);\r\n\r\n  /**\r\n   * @type {number}\r\n   * @private\r\n   */\r\n  this.prevZoom_ = this.map_.getZoom();\r\n\r\n  // Add the map event listeners\r\n  var that = this;\r\n  google.maps.event.addListener(this.map_, 'zoom_changed', function () {\r\n    var zoom = that.map_.getZoom();\r\n\r\n    if (that.prevZoom_ != zoom) {\r\n      that.prevZoom_ = zoom;\r\n      that.resetViewport();\r\n    }\r\n  });\r\n\r\n  google.maps.event.addListener(this.map_, 'idle', function () {\r\n    that.redraw();\r\n  });\r\n\r\n  // Finally, add the markers\r\n  if (opt_markers && opt_markers.length) {\r\n    this.addMarkers(opt_markers, false);\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * The marker cluster image path.\r\n *\r\n * @type {string}\r\n * @private\r\n */\r\nMarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_ = '../images/m';\r\n\r\n\r\n/**\r\n * The marker cluster image path.\r\n *\r\n * @type {string}\r\n * @private\r\n */\r\nMarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_ = 'png';\r\n\r\n\r\n/**\r\n * Extends a objects prototype by anothers.\r\n *\r\n * @param {Object} obj1 The object to be extended.\r\n * @param {Object} obj2 The object to extend with.\r\n * @return {Object} The new extended object.\r\n * @ignore\r\n */\r\nMarkerClusterer.prototype.extend = function (obj1, obj2) {\r\n  return (function (object) {\r\n    for (var property in object.prototype) {\r\n      this.prototype[property] = object.prototype[property];\r\n    }\r\n    return this;\r\n  }).apply(obj1, [obj2]);\r\n};\r\n\r\n\r\n/**\r\n * Implementaion of the interface method.\r\n * @ignore\r\n */\r\nMarkerClusterer.prototype.onAdd = function () {\r\n  this.setReady_(true);\r\n};\r\n\r\n/**\r\n * Implementaion of the interface method.\r\n * @ignore\r\n */\r\nMarkerClusterer.prototype.draw = function () { };\r\n\r\n/**\r\n * Sets up the styles object.\r\n *\r\n * @private\r\n */\r\nMarkerClusterer.prototype.setupStyles_ = function () {\r\n  if (this.styles_.length) {\r\n    return;\r\n  }\r\n\r\n  for (var i = 0, size; size = this.sizes[i]; i++) {\r\n    this.styles_.push({\r\n      url: this.imagePath_ + (i + 1) + '.' + this.imageExtension_,\r\n      height: size,\r\n      width: size\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n *  Fit the map to the bounds of the markers in the clusterer.\r\n */\r\nMarkerClusterer.prototype.fitMapToMarkers = function () {\r\n  var markers = this.getMarkers();\r\n  var bounds = new google.maps.LatLngBounds();\r\n  for (var i = 0, marker; marker = markers[i]; i++) {\r\n    bounds.extend(marker.getPosition());\r\n  }\r\n\r\n  this.map_.fitBounds(bounds);\r\n};\r\n\r\n\r\n/**\r\n *  Sets the styles.\r\n *\r\n *  @param {Object} styles The style to set.\r\n */\r\nMarkerClusterer.prototype.setStyles = function (styles) {\r\n  this.styles_ = styles;\r\n};\r\n\r\n\r\n/**\r\n *  Gets the styles.\r\n *\r\n *  @return {Object} The styles object.\r\n */\r\nMarkerClusterer.prototype.getStyles = function () {\r\n  return this.styles_;\r\n};\r\n\r\n\r\n/**\r\n * Whether zoom on click is set.\r\n *\r\n * @return {boolean} True if zoomOnClick_ is set.\r\n */\r\nMarkerClusterer.prototype.isZoomOnClick = function () {\r\n  return this.zoomOnClick_;\r\n};\r\n\r\n/**\r\n * Whether average center is set.\r\n *\r\n * @return {boolean} True if averageCenter_ is set.\r\n */\r\nMarkerClusterer.prototype.isAverageCenter = function () {\r\n  return this.averageCenter_;\r\n};\r\n\r\n\r\n/**\r\n *  Returns the array of markers in the clusterer.\r\n *\r\n *  @return {Array.<google.maps.Marker>} The markers.\r\n */\r\nMarkerClusterer.prototype.getMarkers = function () {\r\n  return this.markers_;\r\n};\r\n\r\n\r\n/**\r\n *  Returns the number of markers in the clusterer\r\n *\r\n *  @return {Number} The number of markers.\r\n */\r\nMarkerClusterer.prototype.getTotalMarkers = function () {\r\n  return this.markers_.length;\r\n};\r\n\r\n\r\n/**\r\n *  Sets the max zoom for the clusterer.\r\n *\r\n *  @param {number} maxZoom The max zoom level.\r\n */\r\nMarkerClusterer.prototype.setMaxZoom = function (maxZoom) {\r\n  this.maxZoom_ = maxZoom;\r\n};\r\n\r\n\r\n/**\r\n *  Gets the max zoom for the clusterer.\r\n *\r\n *  @return {number} The max zoom level.\r\n */\r\nMarkerClusterer.prototype.getMaxZoom = function () {\r\n  return this.maxZoom_;\r\n};\r\n\r\n\r\n/**\r\n *  The function for calculating the cluster icon image.\r\n *\r\n *  @param {Array.<google.maps.Marker>} markers The markers in the clusterer.\r\n *  @param {number} numStyles The number of styles available.\r\n *  @return {Object} A object properties: 'text' (string) and 'index' (number).\r\n *  @private\r\n */\r\nMarkerClusterer.prototype.calculator_ = function (markers, numStyles) {\r\n  var index = 0;\r\n  var count = markers.length;\r\n  var dv = count;\r\n  while (dv !== 0) {\r\n    dv = parseInt(dv / 10, 10);\r\n    index++;\r\n  }\r\n\r\n  index = Math.min(index, numStyles);\r\n  return {\r\n    text: count,\r\n    index: index\r\n  };\r\n};\r\n\r\n\r\n/**\r\n * Set the calculator function.\r\n *\r\n * @param {function(Array, number)} calculator The function to set as the\r\n *     calculator. The function should return a object properties:\r\n *     'text' (string) and 'index' (number).\r\n *\r\n */\r\nMarkerClusterer.prototype.setCalculator = function (calculator) {\r\n  this.calculator_ = calculator;\r\n};\r\n\r\n\r\n/**\r\n * Get the calculator function.\r\n *\r\n * @return {function(Array, number)} the calculator function.\r\n */\r\nMarkerClusterer.prototype.getCalculator = function () {\r\n  return this.calculator_;\r\n};\r\n\r\n\r\n/**\r\n * Add an array of markers to the clusterer.\r\n *\r\n * @param {Array.<google.maps.Marker>} markers The markers to add.\r\n * @param {boolean=} opt_nodraw Whether to redraw the clusters.\r\n */\r\nMarkerClusterer.prototype.addMarkers = function (markers, opt_nodraw) {\r\n  for (var i = 0, marker; marker = markers[i]; i++) {\r\n    this.pushMarkerTo_(marker);\r\n  }\r\n  if (!opt_nodraw) {\r\n    this.redraw();\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Pushes a marker to the clusterer.\r\n *\r\n * @param {google.maps.Marker} marker The marker to add.\r\n * @private\r\n */\r\nMarkerClusterer.prototype.pushMarkerTo_ = function (marker) {\r\n  marker.isAdded = false;\r\n  if (marker['draggable']) {\r\n    // If the marker is draggable add a listener so we update the clusters on\r\n    // the drag end.\r\n    var that = this;\r\n    google.maps.event.addListener(marker, 'dragend', function () {\r\n      marker.isAdded = false;\r\n      that.repaint();\r\n    });\r\n  }\r\n  this.markers_.push(marker);\r\n};\r\n\r\n\r\n/**\r\n * Adds a marker to the clusterer and redraws if needed.\r\n *\r\n * @param {google.maps.Marker} marker The marker to add.\r\n * @param {boolean=} opt_nodraw Whether to redraw the clusters.\r\n */\r\nMarkerClusterer.prototype.addMarker = function (marker, opt_nodraw) {\r\n  this.pushMarkerTo_(marker);\r\n  if (!opt_nodraw) {\r\n    this.redraw();\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Removes a marker and returns true if removed, false if not\r\n *\r\n * @param {google.maps.Marker} marker The marker to remove\r\n * @return {boolean} Whether the marker was removed or not\r\n * @private\r\n */\r\nMarkerClusterer.prototype.removeMarker_ = function (marker) {\r\n  var index = -1;\r\n  if (this.markers_.indexOf) {\r\n    index = this.markers_.indexOf(marker);\r\n  } else {\r\n    for (var i = 0, m; m = this.markers_[i]; i++) {\r\n      if (m == marker) {\r\n        index = i;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (index == -1) {\r\n    // Marker is not in our list of markers.\r\n    return false;\r\n  }\r\n\r\n  marker.setMap(null);\r\n\r\n  this.markers_.splice(index, 1);\r\n\r\n  return true;\r\n};\r\n\r\n\r\n/**\r\n * Remove a marker from the cluster.\r\n *\r\n * @param {google.maps.Marker} marker The marker to remove.\r\n * @param {boolean=} opt_nodraw Optional boolean to force no redraw.\r\n * @return {boolean} True if the marker was removed.\r\n */\r\nMarkerClusterer.prototype.removeMarker = function (marker, opt_nodraw) {\r\n  var removed = this.removeMarker_(marker);\r\n\r\n  if (!opt_nodraw && removed) {\r\n    this.resetViewport();\r\n    this.redraw();\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Removes an array of markers from the cluster.\r\n *\r\n * @param {Array.<google.maps.Marker>} markers The markers to remove.\r\n * @param {boolean=} opt_nodraw Optional boolean to force no redraw.\r\n */\r\nMarkerClusterer.prototype.removeMarkers = function (markers, opt_nodraw) {\r\n  var removed = false;\r\n\r\n  for (var i = 0, marker; marker = markers[i]; i++) {\r\n    var r = this.removeMarker_(marker);\r\n    removed = removed || r;\r\n  }\r\n\r\n  if (!opt_nodraw && removed) {\r\n    this.resetViewport();\r\n    this.redraw();\r\n    return true;\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Sets the clusterer's ready state.\r\n *\r\n * @param {boolean} ready The state.\r\n * @private\r\n */\r\nMarkerClusterer.prototype.setReady_ = function (ready) {\r\n  if (!this.ready_) {\r\n    this.ready_ = ready;\r\n    this.createClusters_();\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Returns the number of clusters in the clusterer.\r\n *\r\n * @return {number} The number of clusters.\r\n */\r\nMarkerClusterer.prototype.getTotalClusters = function () {\r\n  return this.clusters_.length;\r\n};\r\n\r\n\r\n/**\r\n * Returns the google map that the clusterer is associated with.\r\n *\r\n * @return {google.maps.Map} The map.\r\n */\r\nMarkerClusterer.prototype.getMap = function () {\r\n  return this.map_;\r\n};\r\n\r\n\r\n/**\r\n * Sets the google map that the clusterer is associated with.\r\n *\r\n * @param {google.maps.Map} map The map.\r\n */\r\nMarkerClusterer.prototype.setMap = function (map) {\r\n  this.map_ = map;\r\n};\r\n\r\n\r\n/**\r\n * Returns the size of the grid.\r\n *\r\n * @return {number} The grid size.\r\n */\r\nMarkerClusterer.prototype.getGridSize = function () {\r\n  return this.gridSize_;\r\n};\r\n\r\n\r\n/**\r\n * Sets the size of the grid.\r\n *\r\n * @param {number} size The grid size.\r\n */\r\nMarkerClusterer.prototype.setGridSize = function (size) {\r\n  this.gridSize_ = size;\r\n};\r\n\r\n\r\n/**\r\n * Returns the min cluster size.\r\n *\r\n * @return {number} The grid size.\r\n */\r\nMarkerClusterer.prototype.getMinClusterSize = function () {\r\n  return this.minClusterSize_;\r\n};\r\n\r\n/**\r\n * Sets the min cluster size.\r\n *\r\n * @param {number} size The grid size.\r\n */\r\nMarkerClusterer.prototype.setMinClusterSize = function (size) {\r\n  this.minClusterSize_ = size;\r\n};\r\n\r\n\r\n/**\r\n * Extends a bounds object by the grid size.\r\n *\r\n * @param {google.maps.LatLngBounds} bounds The bounds to extend.\r\n * @return {google.maps.LatLngBounds} The extended bounds.\r\n */\r\nMarkerClusterer.prototype.getExtendedBounds = function (bounds) {\r\n  var projection = this.getProjection();\r\n\r\n  // Turn the bounds into latlng.\r\n  var tr = new google.maps.LatLng(bounds.getNorthEast().lat(),\r\n      bounds.getNorthEast().lng());\r\n  var bl = new google.maps.LatLng(bounds.getSouthWest().lat(),\r\n      bounds.getSouthWest().lng());\r\n\r\n  // Convert the points to pixels and the extend out by the grid size.\r\n  var trPix = projection.fromLatLngToDivPixel(tr);\r\n  trPix.x += this.gridSize_;\r\n  trPix.y -= this.gridSize_;\r\n\r\n  var blPix = projection.fromLatLngToDivPixel(bl);\r\n  blPix.x -= this.gridSize_;\r\n  blPix.y += this.gridSize_;\r\n\r\n  // Convert the pixel points back to LatLng\r\n  var ne = projection.fromDivPixelToLatLng(trPix);\r\n  var sw = projection.fromDivPixelToLatLng(blPix);\r\n\r\n  // Extend the bounds to contain the new bounds.\r\n  bounds.extend(ne);\r\n  bounds.extend(sw);\r\n\r\n  return bounds;\r\n};\r\n\r\n\r\n/**\r\n * Determins if a marker is contained in a bounds.\r\n *\r\n * @param {google.maps.Marker} marker The marker to check.\r\n * @param {google.maps.LatLngBounds} bounds The bounds to check against.\r\n * @return {boolean} True if the marker is in the bounds.\r\n * @private\r\n */\r\nMarkerClusterer.prototype.isMarkerInBounds_ = function (marker, bounds) {\r\n  return bounds.contains(marker.getPosition());\r\n};\r\n\r\n\r\n/**\r\n * Clears all clusters and markers from the clusterer.\r\n */\r\nMarkerClusterer.prototype.clearMarkers = function () {\r\n  this.hideAllClusterInfo();\r\n  this.resetViewport(true);\r\n\r\n  // Set the markers a empty array.\r\n  this.markers_ = [];\r\n};\r\n\r\n\r\n/**\r\n * Clears all existing clusters and recreates them.\r\n * @param {boolean} opt_hide To also hide the marker.\r\n */\r\nMarkerClusterer.prototype.resetViewport = function (opt_hide) {\r\n  this.hideAllClusterInfo();\r\n  // Remove all the clusters\r\n  for (var i = 0, cluster; cluster = this.clusters_[i]; i++) {\r\n    cluster.remove();\r\n  }\r\n\r\n  // Reset the markers to not be added and to be invisible.\r\n  for (var i = 0, marker; marker = this.markers_[i]; i++) {\r\n    marker.isAdded = false;\r\n    if (opt_hide) {\r\n      marker.setMap(null);\r\n    }\r\n  }\r\n\r\n  this.clusters_ = [];\r\n};\r\n\r\n/**\r\n *\r\n */\r\nMarkerClusterer.prototype.repaint = function () {\r\n  var oldClusters = this.clusters_.slice();\r\n  this.clusters_.length = 0;\r\n  this.resetViewport();\r\n  this.redraw();\r\n\r\n  // Remove the old clusters.\r\n  // Do it in a timeout so the other clusters have been drawn first.\r\n  window.setTimeout(function () {\r\n    for (var i = 0, cluster; cluster = oldClusters[i]; i++) {\r\n      cluster.remove();\r\n    }\r\n  }, 0);\r\n};\r\n\r\n\r\n/**\r\n * Redraws the clusters.\r\n */\r\nMarkerClusterer.prototype.redraw = function () {\r\n  this.createClusters_();\r\n};\r\n\r\n\r\n/**\r\n * Calculates the distance between two latlng locations in km.\r\n * @see http://www.movable-type.co.uk/scripts/latlong.html\r\n *\r\n * @param {google.maps.LatLng} p1 The first lat lng point.\r\n * @param {google.maps.LatLng} p2 The second lat lng point.\r\n * @return {number} The distance between the two points in km.\r\n * @private\r\n*/\r\nMarkerClusterer.prototype.distanceBetweenPoints_ = function (p1, p2) {\r\n  if (!p1 || !p2) {\r\n    return 0;\r\n  }\r\n\r\n  var R = 6371; // Radius of the Earth in km\r\n  var dLat = (p2.lat() - p1.lat()) * Math.PI / 180;\r\n  var dLon = (p2.lng() - p1.lng()) * Math.PI / 180;\r\n  var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos(p1.lat() * Math.PI / 180) * Math.cos(p2.lat() * Math.PI / 180) *\r\n    Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  var d = R * c;\r\n  return d;\r\n};\r\n\r\n\r\n/**\r\n * Add a marker to a cluster, or creates a new cluster.\r\n *\r\n * @param {google.maps.Marker} marker The marker to add.\r\n * @private\r\n */\r\nMarkerClusterer.prototype.addToClosestCluster_ = function (marker) {\r\n  var distance = 40000; // Some large number\r\n  var clusterToAddTo = null;\r\n  var pos = marker.getPosition();\r\n  for (var i = 0, cluster; cluster = this.clusters_[i]; i++) {\r\n    var center = cluster.getCenter();\r\n    if (center) {\r\n      var d = this.distanceBetweenPoints_(center, marker.getPosition());\r\n      if (d < distance) {\r\n        distance = d;\r\n        clusterToAddTo = cluster;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (clusterToAddTo && clusterToAddTo.isMarkerInClusterBounds(marker)) {\r\n    clusterToAddTo.addMarker(marker);\r\n  } else {\r\n    var cluster = new Cluster(this);\r\n    cluster.setShowInfo(this.showInfo);\r\n    cluster.addMarker(marker);\r\n    this.clusters_.push(cluster);\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Creates the clusters.\r\n *\r\n * @private\r\n */\r\nMarkerClusterer.prototype.createClusters_ = function () {\r\n  if (!this.ready_) {\r\n    return;\r\n  }\r\n\r\n  // Get our current map view bounds.\r\n  // Create a new bounds object so we don't affect the map.\r\n  var mapBounds = new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),\r\n      this.map_.getBounds().getNorthEast());\r\n  var bounds = this.getExtendedBounds(mapBounds);\r\n\r\n  for (var i = 0, marker; marker = this.markers_[i]; i++) {\r\n    if (!marker.isAdded && this.isMarkerInBounds_(marker, bounds)) {\r\n      this.addToClosestCluster_(marker);\r\n    }\r\n  }\r\n};\r\n\r\nMarkerClusterer.prototype.hideAllClusterInfo = function() {\n  for (var i = 0, cluster; cluster = this.clusters_[i]; i++) {\n    cluster.closeAllInfo();\n  }\n};\r\n\r\nMarkerClusterer.prototype.setShowInfo = function(show) {\r\n  this.showInfo = show;\r\n  for (var i = 0, cluster; cluster = this.clusters_[i]; i++) {\r\n    cluster.setShowInfo(show);\r\n    if (!show) {\r\n      cluster.closeAllInfo();\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * A cluster that contains markers.\r\n *\r\n * @param {MarkerClusterer} markerClusterer The markerclusterer that this\r\n *     cluster is associated with.\r\n * @constructor\r\n * @ignore\r\n */\r\nfunction Cluster(markerClusterer) {\r\n  this.markerClusterer_ = markerClusterer;\r\n  this.map_ = markerClusterer.getMap();\r\n  this.gridSize_ = markerClusterer.getGridSize();\r\n  this.minClusterSize_ = markerClusterer.getMinClusterSize();\r\n  this.averageCenter_ = markerClusterer.isAverageCenter();\r\n  this.center_ = null;\r\n  this.markers_ = [];\r\n  this.bounds_ = null;\r\n  this.clusterIcon_ = new ClusterIcon(this, markerClusterer.getStyles(),\r\n      markerClusterer.getGridSize());\r\n  this.infoWindowStr = null;\r\n}\r\n\r\nCluster.prototype.closeAllInfo = function() {\r\n  this.clusterIcon_.closeAllInfo();\r\n};\r\n\r\nCluster.prototype.setShowInfo = function(show) {\r\n  this.clusterIcon_.showInfo = show;\r\n};\r\n/**\r\n * Determins if a marker is already added to the cluster.\r\n *\r\n * @param {google.maps.Marker} marker The marker to check.\r\n * @return {boolean} True if the marker is already added.\r\n */\r\nCluster.prototype.isMarkerAlreadyAdded = function (marker) {\r\n  if (this.markers_.indexOf) {\r\n    return this.markers_.indexOf(marker) != -1;\r\n  } else {\r\n    for (var i = 0, m; m = this.markers_[i]; i++) {\r\n      if (m == marker) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\n\r\n/**\r\n * Add a marker the cluster.\r\n *\r\n * @param {google.maps.Marker} marker The marker to add.\r\n * @return {boolean} True if the marker was added.\r\n */\r\nCluster.prototype.addMarker = function (marker) {\r\n  if (this.isMarkerAlreadyAdded(marker)) {\r\n    return false;\r\n  }\r\n\r\n  if (!this.center_) {\r\n    this.center_ = marker.getPosition();\r\n    this.calculateBounds_();\r\n  } else {\r\n    if (this.averageCenter_) {\r\n      var l = this.markers_.length + 1;\r\n      var lat = (this.center_.lat() * (l - 1) + marker.getPosition().lat()) / l;\r\n      var lng = (this.center_.lng() * (l - 1) + marker.getPosition().lng()) / l;\r\n      this.center_ = new google.maps.LatLng(lat, lng);\r\n      this.calculateBounds_();\r\n    }\r\n  }\r\n\r\n  marker.isAdded = true;\r\n  this.markers_.push(marker);\r\n\r\n  var len = this.markers_.length;\r\n  if (len < this.minClusterSize_ && marker.getMap() != this.map_) {\r\n    // Min cluster size not reached so show the marker.\r\n    marker.setMap(this.map_);\r\n  }\r\n\r\n  if (len == this.minClusterSize_) {\r\n    // Hide the markers that were showing.\r\n    for (var i = 0; i < len; i++) {\r\n      this.markers_[i].setMap(null);\r\n    }\r\n  }\r\n\r\n  if (len >= this.minClusterSize_) {\r\n    marker.setMap(null);\r\n  }\r\n\r\n  this.updateIcon();\r\n  // recreate the info window string\r\n  this.infoWindowStr = (this.infoWindowStr ?  this.infoWindowStr + '<hr>' : \"\") + marker.infoWindowStr;\r\n\r\n  return true;\r\n};\r\n\r\n\r\n/**\r\n * Returns the marker clusterer that the cluster is associated with.\r\n *\r\n * @return {MarkerClusterer} The associated marker clusterer.\r\n */\r\nCluster.prototype.getMarkerClusterer = function () {\r\n  return this.markerClusterer_;\r\n};\r\n\r\n\r\n/**\r\n * Returns the bounds of the cluster.\r\n *\r\n * @return {google.maps.LatLngBounds} the cluster bounds.\r\n */\r\nCluster.prototype.getBounds = function () {\r\n  var bounds = new google.maps.LatLngBounds(this.center_, this.center_);\r\n  var markers = this.getMarkers();\r\n  for (var i = 0, marker; marker = markers[i]; i++) {\r\n    bounds.extend(marker.getPosition());\r\n  }\r\n  return bounds;\r\n};\r\n\r\n\r\n/**\r\n * Removes the cluster\r\n */\r\nCluster.prototype.remove = function () {\r\n  this.clusterIcon_.remove();\r\n  this.markers_.length = 0;\r\n  delete this.markers_;\r\n};\r\n\r\n\r\n/**\r\n * Returns the center of the cluster.\r\n *\r\n * @return {number} The cluster center.\r\n */\r\nCluster.prototype.getSize = function () {\r\n  return this.markers_.length;\r\n};\r\n\r\n\r\n/**\r\n * Returns the center of the cluster.\r\n *\r\n * @return {Array.<google.maps.Marker>} The cluster center.\r\n */\r\nCluster.prototype.getMarkers = function () {\r\n  return this.markers_;\r\n};\r\n\r\n\r\n/**\r\n * Returns the center of the cluster.\r\n *\r\n * @return {google.maps.LatLng} The cluster center.\r\n */\r\nCluster.prototype.getCenter = function () {\r\n  return this.center_;\r\n};\r\n\r\n\r\n/**\r\n * Calculated the extended bounds of the cluster with the grid.\r\n *\r\n * @private\r\n */\r\nCluster.prototype.calculateBounds_ = function () {\r\n  var bounds = new google.maps.LatLngBounds(this.center_, this.center_);\r\n  this.bounds_ = this.markerClusterer_.getExtendedBounds(bounds);\r\n};\r\n\r\n\r\n/**\r\n * Determines if a marker lies in the clusters bounds.\r\n *\r\n * @param {google.maps.Marker} marker The marker to check.\r\n * @return {boolean} True if the marker lies in the bounds.\r\n */\r\nCluster.prototype.isMarkerInClusterBounds = function (marker) {\r\n  return this.bounds_.contains(marker.getPosition());\r\n};\r\n\r\n\r\n/**\r\n * Returns the map that the cluster is associated with.\r\n *\r\n * @return {google.maps.Map} The map.\r\n */\r\nCluster.prototype.getMap = function () {\r\n  return this.map_;\r\n};\r\n\r\n\r\n/**\r\n * Updates the cluster icon\r\n */\r\nCluster.prototype.updateIcon = function () {\r\n  var zoom = this.map_.getZoom();\r\n  var mz = this.markerClusterer_.getMaxZoom();\r\n\r\n  if (mz && zoom > mz) {\r\n    // The zoom is greater than our max zoom so show all the markers in cluster.\r\n    for (var i = 0, marker; marker = this.markers_[i]; i++) {\r\n      marker.setMap(this.map_);\r\n    }\r\n    return;\r\n  }\r\n\r\n  if (this.markers_.length < this.minClusterSize_) {\r\n    // Min cluster size not yet reached.\r\n    this.clusterIcon_.hide();\r\n    return;\r\n  }\r\n\r\n  var numStyles = this.markerClusterer_.getStyles().length;\r\n  var sums = this.markerClusterer_.getCalculator()(this.markers_, numStyles);\r\n  this.clusterIcon_.setCenter(this.center_);\r\n  this.clusterIcon_.setSums(sums);\r\n  this.clusterIcon_.show();\r\n};\r\n\r\n\r\n/**\r\n * A cluster icon\r\n *\r\n * @param {Cluster} cluster The cluster to be associated with.\r\n * @param {Object} styles An object that has style properties:\r\n *     'url': (string) The image url.\r\n *     'height': (number) The image height.\r\n *     'width': (number) The image width.\r\n *     'anchor': (Array) The anchor position of the label text.\r\n *     'textColor': (string) The text color.\r\n *     'textSize': (number) The text size.\r\n *     'backgroundPosition: (string) The background postition x, y.\r\n * @param {number=} opt_padding Optional padding to apply to the cluster icon.\r\n * @constructor\r\n * @extends google.maps.OverlayView\r\n * @ignore\r\n */\r\nfunction ClusterIcon(cluster, styles, opt_padding, showInfo) {\r\n  cluster.getMarkerClusterer().extend(ClusterIcon, google.maps.OverlayView);\r\n\r\n  this.styles_ = styles;\r\n  this.padding_ = opt_padding || 0;\r\n  this.cluster_ = cluster;\r\n  this.center_ = null;\r\n  this.map_ = cluster.getMap();\r\n  this.div_ = null;\r\n  this.sums_ = null;\r\n  this.visible_ = false;\r\n  this.infowindow = null;\r\n  this.showInfo = showInfo;\r\n  this.setMap(this.map_);\r\n}\r\n\r\n\r\n/**\r\n * Triggers the clusterclick event and zoom's if the option is set.\r\n *\r\n * @param {google.maps.MouseEvent} event The event to propagate\r\n */\r\nClusterIcon.prototype.triggerClusterClick = function (event) {\r\n  var markerClusterer = this.cluster_.getMarkerClusterer();\r\n\r\n  // Trigger the clusterclick event.\r\n  google.maps.event.trigger(markerClusterer, 'clusterclick', this.cluster_, event);\r\n\r\n  if (markerClusterer.isZoomOnClick()) {\r\n    // Zoom into the cluster.\r\n    this.map_.fitBounds(this.cluster_.getBounds());\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Adding the cluster icon to the dom.\r\n * @ignore\r\n */\r\nClusterIcon.prototype.onAdd = function () {\r\n  this.div_ = document.createElement('DIV');\r\n\r\n  if (this.visible_) {\n    var pos = this.getPosFromLatLng_(this.center_);\r\n    this.div_.style.cssText = this.createCss(pos);\r\n    this.div_.innerHTML = this.sums_.text;\r\n  }\r\n\r\n  var panes = this.getPanes();\r\n  panes.overlayMouseTarget.appendChild(this.div_);\r\n\r\n  var that = this;\r\n  var isDragging = false;\r\n  google.maps.event.addDomListener(this.div_, 'click', function (event) {\r\n    // Only perform click when not preceded by a drag\r\n    if (!isDragging) {\r\n      that.triggerClusterClick(event);\r\n    }\r\n  });\r\n  google.maps.event.addDomListener(this.div_, 'mousedown', function () {\r\n    isDragging = false;\r\n  });\r\n  google.maps.event.addDomListener(this.div_, 'mousemove', function () {\r\n    isDragging = true;\r\n  });\r\n  this.infowindow = new google.maps.InfoWindow({\r\n    content: \"<div id='info-window'>\"  + this.cluster_.infoWindowStr + '</div>'\r\n  });\r\n  var curMap = this.map_;\r\n  var curCenter = this.center_;\r\n  var infowindow = this.infowindow;\r\n  var showInfo = this.showInfo;\r\n  google.maps.event.addDomListener(this.div_, 'mouseover', function () {\r\n    if (that.showInfo) {\r\n      infowindow.setPosition(curCenter);\r\n      infowindow.open(curMap);\r\n    }\r\n  });\r\n  // google.maps.event.addDomListener(this.div_, 'mouseout', function () {\r\n  //   infowindow.close(curMap);\r\n  // });\r\n};\r\n\r\nClusterIcon.prototype.closeAllInfo = function () {\r\n  if (this.infowindow) {\r\n    this.infowindow.close(this.map_);\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Returns the position to place the div dending on the latlng.\r\n *\r\n * @param {google.maps.LatLng} latlng The position in latlng.\r\n * @return {google.maps.Point} The position in pixels.\r\n * @private\r\n */\r\nClusterIcon.prototype.getPosFromLatLng_ = function (latlng) {\r\n  var pos = this.getProjection().fromLatLngToDivPixel(latlng);\r\n\r\n  if (typeof this.iconAnchor_ === 'object' && this.iconAnchor_.length === 2) {\r\n    pos.x -= this.iconAnchor_[0];\r\n    pos.y -= this.iconAnchor_[1];\r\n  } else {\r\n    pos.x -= parseInt(this.width_ / 2, 10);\r\n    pos.y -= parseInt(this.height_ / 2, 10);\r\n  }\r\n  return pos;\r\n};\r\n\r\n\r\n/**\r\n * Draw the icon.\r\n * @ignore\r\n */\r\nClusterIcon.prototype.draw = function () {\r\n  if (this.visible_) {\r\n    var pos = this.getPosFromLatLng_(this.center_);\r\n    this.div_.style.top = pos.y + 'px';\r\n    this.div_.style.left = pos.x + 'px';\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Hide the icon.\r\n */\r\nClusterIcon.prototype.hide = function () {\r\n  if (this.div_) {\r\n    this.div_.style.display = 'none';\r\n  }\r\n  this.visible_ = false;\r\n};\r\n\r\n\r\n/**\r\n * Position and show the icon.\r\n */\r\nClusterIcon.prototype.show = function () {\r\n  if (this.div_) {\r\n    var pos = this.getPosFromLatLng_(this.center_);\r\n    this.div_.style.cssText = this.createCss(pos);\r\n    this.div_.style.display = '';\r\n  }\r\n  this.visible_ = true;\r\n};\r\n\r\n\r\n/**\r\n * Remove the icon from the map\r\n */\r\nClusterIcon.prototype.remove = function () {\r\n  this.setMap(null);\r\n};\r\n\r\n\r\n/**\r\n * Implementation of the onRemove interface.\r\n * @ignore\r\n */\r\nClusterIcon.prototype.onRemove = function () {\r\n  if (this.div_ && this.div_.parentNode) {\r\n    this.hide();\r\n    this.div_.parentNode.removeChild(this.div_);\r\n    this.div_ = null;\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Set the sums of the icon.\r\n *\r\n * @param {Object} sums The sums containing:\r\n *   'text': (string) The text to display in the icon.\r\n *   'index': (number) The style index of the icon.\r\n */\r\nClusterIcon.prototype.setSums = function (sums) {\r\n  this.sums_ = sums;\r\n  this.text_ = sums.text;\r\n  this.index_ = sums.index;\r\n  if (this.div_) {\r\n    this.div_.innerHTML = sums.text;\r\n  }\r\n\r\n  this.useStyle();\r\n};\r\n\r\n\r\n/**\r\n * Sets the icon to the the styles.\r\n */\r\nClusterIcon.prototype.useStyle = function () {\r\n  var index = Math.max(0, this.sums_.index - 1);\r\n  index = Math.min(this.styles_.length - 1, index);\r\n  var style = this.styles_[index];\r\n  this.url_ = style['url'];\r\n  this.height_ = style['height'];\r\n  this.width_ = style['width'];\r\n  this.textColor_ = style['textColor'];\r\n  this.anchor_ = style['anchor'];\r\n  this.textSize_ = style['textSize'];\r\n  this.backgroundPosition_ = style['backgroundPosition'];\r\n  this.iconAnchor_ = style['iconAnchor'];\r\n};\r\n\r\n\r\n/**\r\n * Sets the center of the icon.\r\n *\r\n * @param {google.maps.LatLng} center The latlng to set as the center.\r\n */\r\nClusterIcon.prototype.setCenter = function (center) {\r\n  this.center_ = center;\r\n};\r\n\r\n\r\n/**\r\n * Create the css text based on the position of the icon.\r\n *\r\n * @param {google.maps.Point} pos The position.\r\n * @return {string} The css style text.\r\n */\r\nClusterIcon.prototype.createCss = function (pos) {\r\n  var style = [];\r\n  style.push('background-image:url(' + this.url_ + ');');\r\n  var backgroundPosition = this.backgroundPosition_ ? this.backgroundPosition_ : '0 0';\r\n  style.push('background-position:' + backgroundPosition + ';');\r\n\r\n  if (typeof this.anchor_ === 'object') {\r\n    if (typeof this.anchor_[0] === 'number' && this.anchor_[0] > 0 &&\r\n        this.anchor_[0] < this.height_) {\r\n      style.push('height:' + (this.height_ - this.anchor_[0]) +\r\n          'px; padding-top:' + this.anchor_[0] + 'px;');\r\n    } else if (typeof this.anchor_[0] === 'number' && this.anchor_[0] < 0 &&\r\n        -this.anchor_[0] < this.height_) {\r\n      style.push('height:' + this.height_ + 'px; line-height:' + (this.height_ + this.anchor_[0]) +\r\n          'px;');\r\n    } else {\r\n      style.push('height:' + this.height_ + 'px; line-height:' + this.height_ +\r\n          'px;');\r\n    }\r\n    if (typeof this.anchor_[1] === 'number' && this.anchor_[1] > 0 &&\r\n        this.anchor_[1] < this.width_) {\r\n      style.push('width:' + (this.width_ - this.anchor_[1]) +\r\n          'px; padding-left:' + this.anchor_[1] + 'px;');\r\n    } else {\r\n      style.push('width:' + this.width_ + 'px; text-align:center;');\r\n    }\r\n  } else {\r\n    style.push('height:' + this.height_ + 'px; line-height:' +\r\n        this.height_ + 'px; width:' + this.width_ + 'px; text-align:center;');\r\n  }\r\n\r\n  var txtColor = this.textColor_ ? this.textColor_ : 'black';\r\n  var txtSize = this.textSize_ ? this.textSize_ : 11;\r\n\r\n  style.push('cursor:pointer; top:' + pos.y + 'px; left:' +\r\n      pos.x + 'px; color:' + txtColor + '; position:absolute; font-size:' +\r\n      txtSize + 'px; font-family:Arial,sans-serif; font-weight:bold');\r\n  return style.join('');\r\n};\r\n\r\n\r\n// Export Symbols for Closure\r\n// If you are not going to compile with closure then you can remove the\r\n// code below.\r\nwindow['MarkerClusterer'] = MarkerClusterer;\r\nMarkerClusterer.prototype['addMarker'] = MarkerClusterer.prototype.addMarker;\r\nMarkerClusterer.prototype['addMarkers'] = MarkerClusterer.prototype.addMarkers;\r\nMarkerClusterer.prototype['clearMarkers'] =\r\n    MarkerClusterer.prototype.clearMarkers;\r\nMarkerClusterer.prototype['fitMapToMarkers'] =\r\n    MarkerClusterer.prototype.fitMapToMarkers;\r\nMarkerClusterer.prototype['getCalculator'] =\r\n    MarkerClusterer.prototype.getCalculator;\r\nMarkerClusterer.prototype['getGridSize'] =\r\n    MarkerClusterer.prototype.getGridSize;\r\nMarkerClusterer.prototype['getExtendedBounds'] =\r\n    MarkerClusterer.prototype.getExtendedBounds;\r\nMarkerClusterer.prototype['getMap'] = MarkerClusterer.prototype.getMap;\r\nMarkerClusterer.prototype['getMarkers'] = MarkerClusterer.prototype.getMarkers;\r\nMarkerClusterer.prototype['getMaxZoom'] = MarkerClusterer.prototype.getMaxZoom;\r\nMarkerClusterer.prototype['getStyles'] = MarkerClusterer.prototype.getStyles;\r\nMarkerClusterer.prototype['getTotalClusters'] =\r\n    MarkerClusterer.prototype.getTotalClusters;\r\nMarkerClusterer.prototype['getTotalMarkers'] =\r\n    MarkerClusterer.prototype.getTotalMarkers;\r\nMarkerClusterer.prototype['redraw'] = MarkerClusterer.prototype.redraw;\r\nMarkerClusterer.prototype['removeMarker'] =\r\n    MarkerClusterer.prototype.removeMarker;\r\nMarkerClusterer.prototype['removeMarkers'] =\r\n    MarkerClusterer.prototype.removeMarkers;\r\nMarkerClusterer.prototype['resetViewport'] =\r\n    MarkerClusterer.prototype.resetViewport;\r\nMarkerClusterer.prototype['repaint'] =\r\n    MarkerClusterer.prototype.repaint;\r\nMarkerClusterer.prototype['setCalculator'] =\r\n    MarkerClusterer.prototype.setCalculator;\r\nMarkerClusterer.prototype['setGridSize'] =\r\n    MarkerClusterer.prototype.setGridSize;\r\nMarkerClusterer.prototype['setMaxZoom'] =\r\n    MarkerClusterer.prototype.setMaxZoom;\r\nMarkerClusterer.prototype['onAdd'] = MarkerClusterer.prototype.onAdd;\r\nMarkerClusterer.prototype['draw'] = MarkerClusterer.prototype.draw;\r\nMarkerClusterer.prototype['hideAllClusterInfo'] = MarkerClusterer.prototype.hideAllClusterInfo;\r\nMarkerClusterer.prototype['setShowInfo'] = MarkerClusterer.prototype.setShowInfo;\r\n\r\nCluster.prototype['getCenter'] = Cluster.prototype.getCenter;\r\nCluster.prototype['getSize'] = Cluster.prototype.getSize;\r\nCluster.prototype['getMarkers'] = Cluster.prototype.getMarkers;\r\nCluster.prototype['closeAllInfo'] = Cluster.prototype.closeAllInfo;\r\nCluster.prototype['setShowInfo'] = Cluster.prototype.setShowInfo;\r\n\r\nClusterIcon.prototype['onAdd'] = ClusterIcon.prototype.onAdd;\r\nClusterIcon.prototype['draw'] = ClusterIcon.prototype.draw;\r\nClusterIcon.prototype['onRemove'] = ClusterIcon.prototype.onRemove;\r\nClusterIcon.prototype['closeAllInfo'] = ClusterIcon.prototype.closeAllInfo;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/markerclusterer.js\n// module id = ../../../../../src/app/map/markerclusterer.js\n// module chunks = 1","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class WindowRef {\r\n   get nativeWindow() : any {\r\n      return window;\r\n   }\r\n\r\n   redirHttps() {\r\n     const window = this.nativeWindow;\r\n     if ((window.location.hostname != 'localhost' && window.location.hostname.indexOf('10.0.0') == -1) && window.location.protocol != 'https:') {\r\n       const url = `https://${window.location.hostname}${window.location.port ? ':' + window.location.port : ''}${window.location.pathname}${window.location.hash}`;\r\n       console.log(url);\r\n       window.location = url;\r\n     } else {\r\n       console.log(`No https redir`);\r\n     }\r\n   }\r\n\r\n   location(url) {\r\n     this.nativeWindow.location = url;\r\n   }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/map/windowref.service.ts","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { HomeComponent } from '../ui/home.component';\r\nimport { MapComponent } from '../map/map.component';\r\nimport { MapAdminComponent } from '../map/map-admin.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', pathMatch: 'full', redirectTo: 'home' },\r\n  { path: 'home', component: HomeComponent },\r\n  { path: 'map/:id', component: MapComponent },\r\n  { path: 'mapadmin', component: MapAdminComponent }\r\n];\r\n\r\n@NgModule({\r\n imports: [RouterModule.forRoot(routes)],\r\n exports: [RouterModule],\r\n})\r\nexport class RoutingModule { }\r\nexport const routingComponents = [HomeComponent, MapComponent, MapAdminComponent];\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/routing/routing.module.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/home.component.css\n// module id = ../../../../../src/app/ui/home.component.css\n// module chunks = 1","module.exports = \"<div style=\\\"text-align:center\\\">\\r\\n  <h2>\\r\\n    {{ appTitle }}\\r\\n  </h2>\\r\\n</div>\\r\\n<div>\\r\\n  <!-- <div class=\\\"flex-container\\\"\\r\\n     fxLayout=\\\"row\\\"\\r\\n     fxLayout.xs=\\\"row\\\"\\r\\n     fxLayoutAlign=\\\"space-around none\\\"\\r\\n     fxLayoutAlign.xs=\\\"start\\\"> -->\\r\\n     <mat-toolbar [ngClass]=\\\"'bgc-blue-grey-900 whiteText marginTopBottom-2'\\\">\\r\\n        <userinfo></userinfo>\\r\\n        <span class=\\\"fill-remaining-space\\\"></span>\\r\\n        <span><a style=\\\"margin-right: 5px;\\\" mat-mini-fab [routerLink]=\\\"['/map/all']\\\" *ngIf=\\\"canViewAllMaps()\\\"><mat-icon >map</mat-icon></a></span>\\r\\n        <span><a style=\\\"margin-right: 5px;\\\" mat-mini-fab [routerLink]=\\\"['/mapadmin']\\\" *ngIf=\\\"canViewAllMaps()\\\"><mat-icon >edit</mat-icon></a></span>\\r\\n        <span><a href=\\\"{{ addUrl }}\\\" target=\\\"_blank\\\" mat-mini-fab style=\\\"margin-right: 5px;\\\"><mat-icon svgIcon=\\\"add-address\\\"></mat-icon></a></span>\\r\\n        <span><a mat-mini-fab target=\\\"_blank\\\" href=\\\"https://docs.google.com/document/d/1sNfzBlGop98HkbRW46PdGk0K2Hg8TLbHLkmysjLExKw/edit?usp=drive_web\\\" ><mat-icon>help</mat-icon></a></span>\\r\\n        <user-admin></user-admin>\\r\\n     </mat-toolbar>\\r\\n   <!-- </div> -->\\r\\n  <mapslist-component #myMapsList></mapslist-component>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/home.component.html\n// module id = ../../../../../src/app/ui/home.component.html\n// module chunks = 1","import { Component,ViewChild, Inject } from '@angular/core';\r\nimport { AuthService, MapsUser } from '../user/user.component';\r\nimport { MapComponent } from '../map/map.component';\r\nimport { MatDialog, MatDialogRef, MatIconRegistry, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { MapsListComponent } from '../map/mapslist.component';\r\nimport { BaseComponent } from '../base/base.component';\r\nimport {DomSanitizer} from '@angular/platform-browser';\r\nimport { environment } from '../../environments/environment';\r\n\r\n@Component({\r\n  selector: 'home-component',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent extends BaseComponent {\r\n  errorMsg: string;\r\n  @ViewChild('myMapsList')\r\n  private mapListComp: MapsListComponent;\r\n  addUrl: string;\r\n  appTitle: string = `${environment.app.title} ${environment.version.current}`;\r\n\r\n  constructor(fireAuth: AuthService, dialog: MatDialog, iconRegistry: MatIconRegistry, sanitizer: DomSanitizer) {\r\n    super();\r\n    this.dialog = dialog;\r\n    this.fireAuth = fireAuth;\r\n    this.errorMsg = this.fireAuth.currentUser ? \"\" : \"Please login.\";\r\n    this.requireLogin();\r\n    iconRegistry.addSvgIcon('add-address',\r\n        sanitizer.bypassSecurityTrustResourceUrl('/assets/images/add_address.svg'));\r\n  }\r\n\r\n  postLoginSetup() {\r\n    console.log(`Home Component Post Login`);\r\n    const fullName = (this.fireAuth.currentUser && this.fireAuth.currentUser.userInfoObj) ? this.fireAuth.currentUser.userInfoObj.name : '';\r\n    this.addUrl = `https://docs.google.com/forms/d/e/1FAIpQLSdZYe2BmeJ_DLwW1lbvu9bcLWe7_wZ3Rs5fdaw-q4g9zfys3g/viewform?usp=pp_url&entry.1810388592=Yes&entry.1189370340=&entry.45257833&entry.681741514=&entry.1482719893=&entry.1683213160=%E6%98%AF&entry.293956968=&entry.602343366&entry.2071713990=&entry.138422963=&entry.1018422546&entry.2060338072&entry.1052547294&entry.365006055&entry.1323592748=&entry.1534052334=${fullName}&entry.1011916189&entry.1303192619&entry.825337910&entry.1931492709&entry.2023645450=&entry.913416032=${fullName}`;\r\n    // this.addUrl = `https://docs.google.com/forms/d/e/1FAIpQLScYHfYNwnSIWAL9RAH3rEPC74WfkFT0FgcvaJKx1nAIROXS6A/viewform?usp=pp_url&entry.1810388592=Yes&entry.1189370340=&entry.45257833&entry.681741514=&entry.1482719893=&entry.1683213160=%E6%98%AF&entry.293956968=&entry.602343366&entry.2071713990=&entry.138422963=&entry.1018422546&entry.2060338072&entry.1052547294&entry.365006055&entry.1323592748=&entry.1534052334=${fullName}&entry.1011916189&entry.1303192619&entry.825337910&entry.1931492709&entry.2023645450=&entry.913416032=${fullName}`;\r\n    // this.addUrl = `https://docs.google.com/forms/d/e/1FAIpQLScYHfYNwnSIWAL9RAH3rEPC74WfkFT0FgcvaJKx1nAIROXS6A/viewform?usp=pp_url&entry.1810388592=Yes&entry.1189370340&entry.45257833&entry.681741514&entry.1482719893&entry.1018422546&entry.2060338072&entry.1052547294&entry.365006055&entry.1323592748=&entry.1534052334=${fullName}`;\r\n    this.mapListComp.load();\r\n  }\r\n\r\n  canViewAllMaps() {\r\n    return this.fireAuth.currentUser && (this.fireAuth.currentUser.isAdmin() || this.fireAuth.currentUser.isUpdater());\r\n  }\r\n\r\n}\r\n\r\n@Component({\r\n  selector: 'notify-dlg',\r\n  templateUrl: './notify-dlg.component.html'\r\n})\r\nexport class NotifyDlgComponent {\r\n  constructor(public dialogRef: MatDialogRef<any>, @Inject(MAT_DIALOG_DATA) public data: any) {\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/home.component.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/login.component.css\n// module id = ../../../../../src/app/ui/login.component.css\n// module chunks = 1","module.exports = \"<div mat-dialog-content>\\r\\n  <form name='loginFrm' (submit)='login($event)'>\\r\\n    <div class=\\\"flex-container\\\"\\r\\n       fxLayout=\\\"column\\\"\\r\\n       fxLayout.xs=\\\"column\\\"\\r\\n       fxLayoutAlign=\\\"center center\\\"\\r\\n       fxLayoutAlign.xs=\\\"start\\\">\\r\\n       <div>\\r\\n        <div>\\r\\n          <mat-form-field>\\r\\n            <label>Email</label>\\r\\n            <input matInput type='email' name=\\\"email\\\" [(ngModel)]=\\\"email\\\" >\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n        <div>\\r\\n          <mat-form-field>\\r\\n            <label>Password</label>\\r\\n            <input matInput type='password' name=\\\"password\\\" [(ngModel)]=\\\"password\\\" >\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n        <mat-dialog-actions>\\r\\n          <button mat-button mat-raised-button type='submit' [disabled]=\\\"isPending || isMaint\\\" >Login</button>\\r\\n        </mat-dialog-actions>\\r\\n        <div>\\r\\n          {{data.consumer.errorMsg}}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/login.component.html\n// module id = ../../../../../src/app/ui/login.component.html\n// module chunks = 1","import { Component, Input, Output, EventEmitter, Inject } from '@angular/core';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA} from '@angular/material';\r\n\r\n@Component({\r\n  selector: 'login-component',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent {\r\n  @Output() onLogin = new EventEmitter<any>();\r\n  @Input() errorMsg;\r\n\r\n  isMaint: boolean;\r\n  email: string;\r\n  password: string;\r\n  isPending: boolean;\r\n  isResettingPwd: boolean;\r\n  test:any;\r\n\r\n  constructor(public dialogRef: MatDialogRef<any>, @Inject(MAT_DIALOG_DATA) public data: any) {}\r\n\r\n  login(event:any) {\r\n    console.log(`Logging in...`);\r\n    const creds = {email:this.email, password:this.password};\r\n    this.onLogin.emit(creds);\r\n    this.data.consumer.login(creds);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/login.component.ts","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { environment } from '../../environments/environment';\r\nimport { MatButtonModule, MatCheckboxModule, MatIconModule, MatGridListModule, MatInputModule, MatListModule, MatToolbarModule } from '@angular/material';\r\nimport { HomeComponent, NotifyDlgComponent } from './home.component';\r\nimport { LoginComponent } from './login.component';\r\nimport { AuthModule } from '../user/user.module';\r\nimport { MapModule } from '../map/map.module';\r\nimport { FlexLayoutModule } from \"@angular/flex-layout\";\r\nimport { MatDialogModule } from '@angular/material';\r\nimport { RouterModule } from '@angular/router';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    MatButtonModule,\r\n    MatCheckboxModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatToolbarModule,\r\n    FlexLayoutModule,\r\n    MatDialogModule,\r\n    AuthModule,\r\n    MapModule,\r\n    RouterModule\r\n  ],\r\n  declarations: [\r\n    HomeComponent,\r\n    LoginComponent,\r\n    NotifyDlgComponent\r\n  ],\r\n  exports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    MapModule,\r\n    HomeComponent,\r\n    LoginComponent,\r\n    AuthModule\r\n  ],\r\n  providers: [\r\n  ],\r\n  entryComponents: [\r\n    LoginComponent,\r\n    NotifyDlgComponent\r\n  ]\r\n})\r\nexport class MainUIModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/main-ui.module.ts","module.exports = \"<div mat-dialog-content>\\r\\n  <mat-card>\\r\\n    <mat-card-title *ngIf=\\\"data.title\\\">\\r\\n      <h4>{{data.title}}</h4>\\r\\n    </mat-card-title>\\r\\n    <mat-card-subtitle *ngIf=\\\"data.subtitle\\\"><div>{{ data.subtitle }}</div></mat-card-subtitle>\\r\\n    <mat-card-actions>\\r\\n      <div>\\r\\n        <br/>\\r\\n        <button mat-raised-button color=\\\"accent\\\" (click)=\\\"data.consumer.confirmNotification()\\\">{{ data.confirmText }}</button>\\r\\n      </div>\\r\\n    </mat-card-actions>\\r\\n  </mat-card>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/ui/notify-dlg.component.html\n// module id = ../../../../../src/app/ui/notify-dlg.component.html\n// module chunks = 1","module.exports = \"<div mat-dialog-content>\\r\\n  <form name='createUserForm'>\\r\\n    <mat-card>\\r\\n      <mat-card-header>\\r\\n        <mat-card-title>\\r\\n          <h4>{{data.consumer.userSelectTitle}}</h4>\\r\\n        </mat-card-title>\\r\\n        <mat-card-subtitle>{{ data.consumer.userSelectDesc }}</mat-card-subtitle>\\r\\n      </mat-card-header>\\r\\n      <mat-card-content>\\r\\n        <mat-form-field>\\r\\n          <label>Name</label>\\r\\n          <input matInput type='text' name=\\\"text\\\" [(ngModel)]=\\\"data.consumer.newUser.name\\\" >\\r\\n        </mat-form-field>\\r\\n        <mat-form-field>\\r\\n          <label>Email</label>\\r\\n          <input matInput type='email' name=\\\"email\\\" [(ngModel)]=\\\"data.consumer.newUser.email\\\" >\\r\\n        </mat-form-field>\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n  </form>\\r\\n  <mat-dialog-actions>\\r\\n    <button mat-mini-fab (click)=\\\"data.consumer.createUser()\\\"><mat-icon>save</mat-icon></button>\\r\\n    <button mat-mini-fab (click)=\\\"data.consumer.cancel()\\\"><mat-icon>cancel</mat-icon></button>\\r\\n  </mat-dialog-actions>\\r\\n  <div>\\r\\n    {{data.consumer.errorMsg}}\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/user-admin-createuser.html\n// module id = ../../../../../src/app/user/user-admin-createuser.html\n// module chunks = 1","module.exports = \"<div mat-dialog-content>\\r\\n  <form name='selectUserForm'>\\r\\n    <mat-card>\\r\\n      <mat-card-header>\\r\\n        <mat-card-title>\\r\\n          <h4>{{data.consumer.userSelectTitle}}</h4>\\r\\n        </mat-card-title>\\r\\n        <mat-card-subtitle>{{ data.consumer.userSelectDesc }}</mat-card-subtitle>\\r\\n      </mat-card-header>\\r\\n      <mat-card-content>\\r\\n        <tag-input [(ngModel)]=\\\"data.consumer.selectedUsers\\\" name=\\\"selectUserDlg\\\"\\r\\n           [editable]=\\\"true\\\" [identifyBy]=\\\"'id'\\\" [displayBy]=\\\"'name'\\\"\\r\\n            [onlyFromAutocomplete]=\\\"true\\\" [placeholder]=\\\"data.consumer.placeHolderTxt\\\" [secondaryPlaceholder]=\\\"data.consumer.placeHolderTxt\\\">\\r\\n           <tag-input-dropdown [appendToBody]=\\\"false\\\" [autocompleteItems]='data.consumer.userList' [identifyBy]=\\\"'$key'\\\" [displayBy]=\\\"'name'\\\"></tag-input-dropdown>\\r\\n        </tag-input>\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n  </form>\\r\\n  <mat-dialog-actions>\\r\\n    <button mat-mini-fab (click)=\\\"data.consumer.sendResetPassword()\\\"><mat-icon>save</mat-icon></button>\\r\\n    <button mat-mini-fab (click)=\\\"data.consumer.cancel()\\\"><mat-icon>cancel</mat-icon></button>\\r\\n  </mat-dialog-actions>\\r\\n  <div>\\r\\n    {{data.consumer.errorMsg}}\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/user-admin-selectuser.html\n// module id = ../../../../../src/app/user/user-admin-selectuser.html\n// module chunks = 1","module.exports = \"<span *ngIf=\\\"isUpdater()\\\">\\r\\n  <button mat-icon-button [matMenuTriggerFor]=\\\"menu\\\" >\\r\\n    <mat-icon>more_vert</mat-icon>\\r\\n  </button>\\r\\n<mat-menu #menu=\\\"matMenu\\\" >\\r\\n  <button mat-menu-item (click)=\\\"resetPassword()\\\">\\r\\n    <mat-icon>person_outline</mat-icon>\\r\\n    <span>Reset Password</span>\\r\\n  </button>\\r\\n  <button mat-menu-item (click)=\\\"addUser()\\\">\\r\\n    <mat-icon>person_add</mat-icon>\\r\\n    <span>Add User</span>\\r\\n  </button>\\r\\n  <button mat-menu-item (click)=\\\"showVersionDlg()\\\">\\r\\n    <mat-icon>info_outline</mat-icon>\\r\\n    <span>Release Notes</span>\\r\\n  </button>\\r\\n  <button mat-menu-item (click)=\\\"logout()\\\">\\r\\n    <mat-icon>exit_to_app</mat-icon>\\r\\n    <span>Logout</span>\\r\\n  </button>\\r\\n</mat-menu>\\r\\n</span>\\r\\n<span *ngIf=\\\"!isUpdater()\\\" style=\\\"margin-left: 5px;\\\">\\r\\n  <button mat-icon-button [matMenuTriggerFor]=\\\"menu\\\" >\\r\\n    <mat-icon>more_vert</mat-icon>\\r\\n  </button>\\r\\n  <mat-menu #menu=\\\"matMenu\\\" >\\r\\n    <button mat-menu-item (click)=\\\"showVersionDlg()\\\">\\r\\n      <mat-icon>info_outline</mat-icon>\\r\\n      <span>Release Notes</span>\\r\\n    </button>\\r\\n    <button mat-menu-item (click)=\\\"logout()\\\">\\r\\n      <mat-icon>exit_to_app</mat-icon>\\r\\n      <span>Logout</span>\\r\\n    </button>\\r\\n  </mat-menu>\\r\\n</span>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/user-admin.component.html\n// module id = ../../../../../src/app/user/user-admin.component.html\n// module chunks = 1","import { Component, Inject } from '@angular/core';\r\nimport { AuthService } from './user.component';\r\nimport { BaseComponent } from '../base/base.component';\r\nimport * as _ from 'lodash';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport {MatListModule} from '@angular/material/list';\r\nimport { environment } from '../../environments/environment';\r\n\r\n@Component({\r\n  selector: 'user-admin',\r\n  templateUrl: './user-admin.component.html'\r\n})\r\nexport class UserAdminComponent extends BaseComponent {\r\n  user: any;\r\n  subs: any[] = [];\r\n  userSelectTitle: string;\r\n  userSelectDesc: string;\r\n  errorMsg: string;\r\n  userList: any[];\r\n  currentDlg: any;\r\n  selectedUsers: any;\r\n  placeHolderTxt: string;\r\n  newUser: any;\r\n\r\n  constructor(public fireAuth: AuthService, protected dialog: MatDialog) {\r\n    super();\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.user = this.fireAuth.currentUser;\r\n    this.subs.push(this.fireAuth.onCurrentUserInfo.subscribe(user => {\r\n      this.user = this.fireAuth.currentUser;\r\n    }));\r\n    if (!this.userList) {\r\n      this.subs.push(this.fireAuth.getAllUsersList().subscribe(userList => {\r\n        this.userList = userList;\r\n      }));\r\n    }\r\n  }\r\n\r\n  isUpdater() {\r\n    return this.user && (this.user.isAdmin() || this.user.isUpdater() );\r\n  }\r\n\r\n  resetPassword() {\r\n    this.userSelectTitle = \"User Password Reset\";\r\n    this.userSelectDesc = \"Type the names of users\";\r\n    this.placeHolderTxt = \"Publisher name\";\r\n    this.showDlg();\r\n  }\r\n\r\n  addUser() {\r\n    this.userSelectTitle = \"Create New User\";\r\n    this.userSelectDesc = \"Provide new user/publisher details\";\r\n    this.newUser = {name: '', email: '', role: 'publisher'};\r\n    this.showUserDlg();\r\n  }\r\n\r\n  showDlg() {\r\n    if (!this.currentDlg) {\r\n      this.currentDlg = this.dialog.open(SelectUserDlgComponent, {\r\n        data: {consumer: this},\r\n        disableClose: true\r\n      });\r\n    }\r\n  }\r\n\r\n  showUserDlg() {\r\n    if (!this.currentDlg) {\r\n      this.currentDlg = this.dialog.open(CreateUserDlgComponent, {\r\n        data: {consumer: this},\r\n        disableClose: true\r\n      });\r\n    }\r\n  }\r\n\r\n  showVersionDlg() {\r\n    if (!this.currentDlg) {\r\n      this.currentDlg = this.dialog.open(VersionDlgComponent, {\r\n        data: {consumer: this},\r\n        disableClose: true\r\n      });\r\n    }\r\n  }\r\n\r\n  getVersions() {\r\n    const versions = [];\r\n    _.each(environment.version.list, (versionNum) => {\r\n      versions.push({versionNum:versionNum, text: environment.version.details[versionNum]});\r\n    });\r\n    return versions;\r\n  }\r\n\r\n  closeDlg() {\r\n    this.dialog.closeAll();\r\n    this.currentDlg = null;\r\n    this.selectedUsers = null;\r\n  }\r\n\r\n  sendResetPassword() {\r\n    const numToProcess = this.selectedUsers ? this.selectedUsers.length : 0;\r\n    // let processCtr = 0;\r\n    _.forEach(this.selectedUsers, (user) => {\r\n      if (user.email) {\r\n        console.log(`Resetting: `);\r\n        console.log(user);\r\n        this.fireAuth.sendPasswordReset(user.email);\r\n        // processCtr++;\r\n      } else {\r\n        console.log(`No email:`);\r\n        console.log(user);\r\n      }\r\n    });\r\n    // if (processCtr >= numToProcess) {\r\n    //\r\n    // }\r\n    this.closeDlg();\r\n  }\r\n\r\n  createUser() {\r\n    this.fireAuth.createUser(this.newUser.name, this.newUser.email, this.newUser.role);\r\n    this.closeDlg();\r\n  }\r\n\r\n\r\n\r\n  cancel() {\r\n    this.closeDlg();\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'selectuser-dlg',\r\n  templateUrl: './user-admin-selectuser.html'\r\n})\r\nexport class SelectUserDlgComponent {\r\n\r\n  constructor(public dialogRef: MatDialogRef<any>, @Inject(MAT_DIALOG_DATA) public data: any) {\r\n\r\n  }\r\n\r\n}\r\n\r\n@Component({\r\n  selector: 'selectuser-dlg',\r\n  templateUrl: './user-admin-createuser.html'\r\n})\r\nexport class CreateUserDlgComponent {\r\n\r\n  constructor(public dialogRef: MatDialogRef<any>, @Inject(MAT_DIALOG_DATA) public data: any) {\r\n\r\n  }\r\n\r\n}\r\n\r\n@Component({\r\n  selector: 'version-dlg',\r\n  templateUrl: './version-info.html'\r\n})\r\nexport class VersionDlgComponent {\r\n\r\n  constructor(public dialogRef: MatDialogRef<any>, @Inject(MAT_DIALOG_DATA) public data: any) {\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/user-admin.component.ts","import { Injectable, Output, EventEmitter } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport * as _ from \"lodash\";\r\nimport moment from 'moment-es6';\r\n\r\nexport class MapsUser {\r\n  userInfoObj: any;\r\n  userObj: firebase.User;\r\n  roles: any;\r\n\r\n  isAdmin():boolean {\r\n    return this.roles && this.roles.admin == true;\r\n  }\r\n\r\n  isUpdater(): boolean {\r\n    return this.roles && this.roles.updater == true;\r\n  }\r\n\r\n  isFsgAssistant(fsgName: string = null): boolean {\r\n    return this.roles &&  _.isEmpty(fsgName) || _.isNull(fsgName) ? this.roles.fsgAssist == true\r\n                           : this.roles.fsgAssist == true && this.roles.fsg[fsgName] == true;\r\n  }\r\n\r\n  isPublisher(): boolean {\r\n    return this.roles && this.roles.publisher == true;\r\n  }\r\n\r\n  get hasUserInfo() {\r\n    return this.roles && this.userInfoObj;\r\n  }\r\n}\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n  roleList:string[] = ['admin', 'updater', 'fsgoverseer', 'publisher'];\r\n  currentUser: MapsUser;\r\n  @Output() onCurrentUserInfo = new EventEmitter<any>();\r\n  usersList: any;\r\n\r\n  constructor(public af: AngularFireAuth, protected db: AngularFireDatabase) {\r\n  }\r\n\r\n  getUser(): firebase.User {\r\n    return this.af.auth.currentUser;\r\n  }\r\n\r\n  getUserObs(): Observable<firebase.User> {\r\n    return this.af.authState;\r\n  }\r\n\r\n  isLoggedIn() {\r\n    return this.getUser() != null;\r\n  }\r\n\r\n  onAuthChange(method) {\r\n    this.af.auth.onAuthStateChanged(method);\r\n  }\r\n\r\n  login(username, password): firebase.Promise<firebase.User> {\r\n    return this.af.auth.signInWithEmailAndPassword(username, password);\r\n  }\r\n\r\n  logout() {\r\n    return this.af.auth.signOut();\r\n  }\r\n\r\n  getUserRole(user: MapsUser): Observable<any> {\r\n    return this.db.object(`/roles/${user.userObj.uid}`).flatMap((rolesObj: any) => {\r\n      user.roles = rolesObj;\r\n      return Observable.of(user);\r\n    });\r\n  }\r\n\r\n  getUserInfo(user: MapsUser): Observable<any> {\r\n    return this.db.object(`/users/${user.userObj.uid}`).flatMap((userInfoObj: any) => {\r\n      user.userInfoObj = userInfoObj;\r\n      return Observable.of(user);\r\n    });\r\n  }\r\n\r\n  getAllUserInfo() {\r\n    this.currentUser = new MapsUser();\r\n    this.currentUser.userObj = this.getUser();\r\n    this.getUserRole(this.currentUser)\r\n    .flatMap(user => {\r\n      // retrieve the user object...\r\n      return this.getUserInfo(this.currentUser);\r\n    })\r\n    .subscribe(user => {\r\n      // console.log(`Emitting...`);\r\n      // console.log(this.currentUser);\r\n      this.onCurrentUserInfo.emit(this.currentUser);\r\n    });\r\n  }\r\n\r\n  getAllUsersList(): Observable<any> {\r\n    if (this.usersList) {\r\n      return Observable.of(this.usersList);\r\n    } else {\r\n      return this.db.list(`/users/list`).flatMap(userIdList => {\r\n        if (this.usersList) {\r\n          this.usersList.length = 0;\r\n        } else {\r\n          this.usersList = [];\r\n        }\r\n        return Observable.from(userIdList);\r\n      })\r\n      .flatMap((userId:any) => {\r\n        return this.db.object(`/users/${userId.$value}`).flatMap(userObj => {\r\n          _.remove(this.usersList, (e) => { return e.$key == userObj.$key} );\r\n          this.usersList.push(userObj);\r\n          return Observable.of(userObj);\r\n        });\r\n      })\r\n      .debounceTime(300)\r\n      .flatMap(whatever => {\r\n        return Observable.of(this.usersList);\r\n      });\r\n    }\r\n  }\r\n\r\n  sendPasswordReset(email: string, cb:any=null) {\r\n    this.af.auth.sendPasswordResetEmail(email).then(()=> {\r\n      if (cb) cb();\r\n    });\r\n  }\r\n\r\n  createUser(name: string, email: string, role: string) {\r\n    this.db.object(`/users/requests/pending/createUser/${Date.now()}`).update({name: name, email: email, role: role});\r\n  }\r\n\r\n  saveLoc(uid, pos) {\r\n    this.db.object(`/log/${uid}/loc`).update({lat: pos.position.lat, lng: pos.position.lng, date: moment().utcOffset('+10:00').toISOString(true)});\r\n  }\r\n\r\n  saveOnlineStat(currentUser) {\r\n    this.db.object(`/log/${currentUser.userObj.uid}/lastSeen`).update({name: currentUser.userInfoObj.name, date: moment().utcOffset('+10:00').toISOString(true)});\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/user.component.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { AngularFireModule } from 'angularfire2';\r\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\r\nimport { AngularFireAuthModule } from 'angularfire2/auth';\r\nimport { environment } from '../../environments/environment';\r\nimport { AuthService } from './user.component';\r\nimport { UserInfoComponent } from './userinfo.component';\r\nimport {MatMenuModule, MatButtonModule, MatIconModule, MatCardModule, MatInputModule} from '@angular/material';\r\nimport { UserAdminComponent, SelectUserDlgComponent, CreateUserDlgComponent, VersionDlgComponent } from './user-admin.component';\r\nimport { TagInputModule } from 'ngx-chips';\r\n\r\n@NgModule({\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    AngularFireDatabaseModule,\r\n    AngularFireAuthModule,\r\n    TagInputModule,\r\n    MatMenuModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatInputModule\r\n  ],\r\n  exports: [ UserInfoComponent, UserAdminComponent, SelectUserDlgComponent, CreateUserDlgComponent, VersionDlgComponent],\r\n  declarations: [ UserInfoComponent, UserAdminComponent, SelectUserDlgComponent, CreateUserDlgComponent, VersionDlgComponent ],\r\n  bootstrap: [  ],\r\n  providers: [ AuthService ],\r\n  entryComponents: [ SelectUserDlgComponent, CreateUserDlgComponent, VersionDlgComponent ]\r\n})\r\nexport class AuthModule {\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/user.module.ts","module.exports = \"<span *ngIf=\\\"user && user.userObj\\\"><h3>{{user?.userInfoObj?.name}}</h3></span>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/userinfo.component.html\n// module id = ../../../../../src/app/user/userinfo.component.html\n// module chunks = 1","import { Component } from '@angular/core';\r\nimport { AuthService } from './user.component';\r\nimport { BaseComponent } from '../base/base.component';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n  selector: 'userinfo',\r\n  templateUrl: './userinfo.component.html'\r\n})\r\nexport class UserInfoComponent extends BaseComponent {\r\n  user: any;\r\n  subs: any[] = [];\r\n  constructor(protected fireAuth: AuthService) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.user = this.fireAuth.currentUser;\r\n    this.subs.push(this.fireAuth.onCurrentUserInfo.subscribe(user => {\r\n      this.user = this.fireAuth.currentUser;\r\n      console.log(`User info:`);\r\n      console.log(this.user);\r\n    }));\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/userinfo.component.ts","module.exports = \"<mat-dialog-content>\\r\\n    <mat-card>\\r\\n      <mat-card-header>\\r\\n        <mat-card-title>\\r\\n          <h3>Version Release Notes</h3>\\r\\n        </mat-card-title>\\r\\n      </mat-card-header>\\r\\n      <mat-card-content style=\\\"height:400px; overflow-y: auto\\\">\\r\\n        <mat-list>\\r\\n          <mat-list-item *ngFor=\\\"let version of data.consumer.getVersions()\\\">\\r\\n            <h4 matLine> {{ version.versionNum }}</h4>\\r\\n            <p matLine> {{ version.text }} </p>\\r\\n          </mat-list-item>\\r\\n        </mat-list>\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n</mat-dialog-content>\\r\\n<mat-dialog-actions>\\r\\n  <button mat-mini-fab (click)=\\\"data.consumer.cancel()\\\"><mat-icon>cancel</mat-icon></button>\\r\\n  <div>\\r\\n    {{data.consumer.errorMsg}}\\r\\n  </div>\\r\\n</mat-dialog-actions>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/app/user/version-info.html\n// module id = ../../../../../src/app/user/version-info.html\n// module chunks = 1","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: true,\r\n  addressFeedBackForm: 'https://docs.google.com/forms/d/e/1FAIpQLSdZYe2BmeJ_DLwW1lbvu9bcLWe7_wZ3Rs5fdaw-q4g9zfys3g/viewform',\r\n  agm: {\r\n    api: 'AIzaSyD_VnDujye_oVKyUnExhT3LqETfARNIoiw'\r\n  },\r\n  app: {\r\n    title: 'Toowong Ministry Maps',\r\n    mapBase: 'https://maps-toowong.jwapp.xyz/#'\r\n  },\r\n  firebase: {\r\n    apiKey: 'AIzaSyAc-LpdSNpZhfykfAsjYn3Ze9s0_wR58ts',\r\n   authDomain: 'toowong-maps-prod.firebaseapp.com',\r\n   databaseURL: 'https://toowong-maps-prod.firebaseio.com',\r\n   projectId: 'toowong-maps-prod',\r\n   storageBucket: 'toowong-maps-prod.appspot.com',\r\n   messagingSenderId: '1055117975996'\r\n  },\r\n  version: {\r\n    current: '2.90.1',\r\n    list: ['2.90.1', '2.90', '2.89.1', '2.89', '2.88', '2.87', '2.86', '2.85', '2.84', '2.83', '2.82', '2.8.1', '2.8', '2.7.1', '2.7'],\r\n    details: {\r\n      '2.90.1': 'Fixed add address dialog issue. Handled null street address on maps.',\r\n      '2.90': 'Added search and edit map for map updaters',\r\n      '2.89.1': 'Remove not-at-homes on campaign mode',\r\n      '2.89': 'Last used on chip now shows the day of the week, as well as the time.',\r\n      '2.88': 'Added more updater features',\r\n      '2.87': 'Fixed status issue',\r\n      '2.86': 'Improved in-app map links, search maps are no longer limited to being visited twice, and are now processed semi-automatically. Added address queues.',\r\n      '2.85': 'Supports language surveys when marking addresses as \"Done\".',\r\n      '2.84': 'Allowed setting of ownership on started maps. Added tag for personal territories. Added notes field for map updaters.',\r\n      '2.83': 'Added personal territory flag when assigning ownership. Added link to Google Maps from address list.',\r\n      '2.82': 'Address list dialog now allows editing of addresses. Improved progress report.',\r\n      '2.8.1': 'Improved progress report information.',\r\n      '2.8': 'Added territory coverage information to the home page. Added release notes to the menu, logout button now part of the menu.',\r\n      '2.7.1': 'Fixed map sharing feature.',\r\n      '2.7': 'Campaign mode added. For map updaters, completed maps are now grayed out and cannot be easily started.'\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/dilue/PhpstormProjects/toowong-maps/src/main.ts","var map = {\n\t\"./af\": \"../../../../moment-es6/node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"../../../../moment-es6/node_modules/moment/locale/af.js\",\n\t\"./ar\": \"../../../../moment-es6/node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"../../../../moment-es6/node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"../../../../moment-es6/node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"../../../../moment-es6/node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"../../../../moment-es6/node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"../../../../moment-es6/node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"../../../../moment-es6/node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"../../../../moment-es6/node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"../../../../moment-es6/node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"../../../../moment-es6/node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"../../../../moment-es6/node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"../../../../moment-es6/node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"../../../../moment-es6/node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"../../../../moment-es6/node_modules/moment/locale/ar.js\",\n\t\"./az\": \"../../../../moment-es6/node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"../../../../moment-es6/node_modules/moment/locale/az.js\",\n\t\"./be\": \"../../../../moment-es6/node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"../../../../moment-es6/node_modules/moment/locale/be.js\",\n\t\"./bg\": \"../../../../moment-es6/node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"../../../../moment-es6/node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"../../../../moment-es6/node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"../../../../moment-es6/node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"../../../../moment-es6/node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"../../../../moment-es6/node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"../../../../moment-es6/node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"../../../../moment-es6/node_modules/moment/locale/bo.js\",\n\t\"./br\": \"../../../../moment-es6/node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"../../../../moment-es6/node_modules/moment/locale/br.js\",\n\t\"./bs\": \"../../../../moment-es6/node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"../../../../moment-es6/node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"../../../../moment-es6/node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"../../../../moment-es6/node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"../../../../moment-es6/node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"../../../../moment-es6/node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"../../../../moment-es6/node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"../../../../moment-es6/node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"../../../../moment-es6/node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"../../../../moment-es6/node_modules/moment/locale/cy.js\",\n\t\"./da\": \"../../../../moment-es6/node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"../../../../moment-es6/node_modules/moment/locale/da.js\",\n\t\"./de\": \"../../../../moment-es6/node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"../../../../moment-es6/node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"../../../../moment-es6/node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"../../../../moment-es6/node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"../../../../moment-es6/node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"../../../../moment-es6/node_modules/moment/locale/de.js\",\n\t\"./dv\": \"../../../../moment-es6/node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"../../../../moment-es6/node_modules/moment/locale/dv.js\",\n\t\"./el\": \"../../../../moment-es6/node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"../../../../moment-es6/node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"../../../../moment-es6/node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"../../../../moment-es6/node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"../../../../moment-es6/node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"../../../../moment-es6/node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"../../../../moment-es6/node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"../../../../moment-es6/node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"../../../../moment-es6/node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"../../../../moment-es6/node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"../../../../moment-es6/node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"../../../../moment-es6/node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"../../../../moment-es6/node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"../../../../moment-es6/node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"../../../../moment-es6/node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"../../../../moment-es6/node_modules/moment/locale/eo.js\",\n\t\"./es\": \"../../../../moment-es6/node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"../../../../moment-es6/node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"../../../../moment-es6/node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"../../../../moment-es6/node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"../../../../moment-es6/node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"../../../../moment-es6/node_modules/moment/locale/es.js\",\n\t\"./et\": \"../../../../moment-es6/node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"../../../../moment-es6/node_modules/moment/locale/et.js\",\n\t\"./eu\": \"../../../../moment-es6/node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"../../../../moment-es6/node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"../../../../moment-es6/node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"../../../../moment-es6/node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"../../../../moment-es6/node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"../../../../moment-es6/node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"../../../../moment-es6/node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"../../../../moment-es6/node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"../../../../moment-es6/node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"../../../../moment-es6/node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"../../../../moment-es6/node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"../../../../moment-es6/node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"../../../../moment-es6/node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"../../../../moment-es6/node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"../../../../moment-es6/node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"../../../../moment-es6/node_modules/moment/locale/fy.js\",\n\t\"./gd\": \"../../../../moment-es6/node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"../../../../moment-es6/node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"../../../../moment-es6/node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"../../../../moment-es6/node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"../../../../moment-es6/node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"../../../../moment-es6/node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"../../../../moment-es6/node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"../../../../moment-es6/node_modules/moment/locale/gu.js\",\n\t\"./he\": \"../../../../moment-es6/node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"../../../../moment-es6/node_modules/moment/locale/he.js\",\n\t\"./hi\": \"../../../../moment-es6/node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"../../../../moment-es6/node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"../../../../moment-es6/node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"../../../../moment-es6/node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"../../../../moment-es6/node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"../../../../moment-es6/node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"../../../../moment-es6/node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"../../../../moment-es6/node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"../../../../moment-es6/node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"../../../../moment-es6/node_modules/moment/locale/id.js\",\n\t\"./is\": \"../../../../moment-es6/node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"../../../../moment-es6/node_modules/moment/locale/is.js\",\n\t\"./it\": \"../../../../moment-es6/node_modules/moment/locale/it.js\",\n\t\"./it.js\": \"../../../../moment-es6/node_modules/moment/locale/it.js\",\n\t\"./ja\": \"../../../../moment-es6/node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"../../../../moment-es6/node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"../../../../moment-es6/node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"../../../../moment-es6/node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"../../../../moment-es6/node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"../../../../moment-es6/node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"../../../../moment-es6/node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"../../../../moment-es6/node_modules/moment/locale/kk.js\",\n\t\"./km\": \"../../../../moment-es6/node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"../../../../moment-es6/node_modules/moment/locale/km.js\",\n\t\"./kn\": \"../../../../moment-es6/node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"../../../../moment-es6/node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"../../../../moment-es6/node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"../../../../moment-es6/node_modules/moment/locale/ko.js\",\n\t\"./ky\": \"../../../../moment-es6/node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"../../../../moment-es6/node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"../../../../moment-es6/node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"../../../../moment-es6/node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"../../../../moment-es6/node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"../../../../moment-es6/node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"../../../../moment-es6/node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"../../../../moment-es6/node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"../../../../moment-es6/node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"../../../../moment-es6/node_modules/moment/locale/lv.js\",\n\t\"./me\": \"../../../../moment-es6/node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"../../../../moment-es6/node_modules/moment/locale/me.js\",\n\t\"./mi\": \"../../../../moment-es6/node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"../../../../moment-es6/node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"../../../../moment-es6/node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"../../../../moment-es6/node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"../../../../moment-es6/node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"../../../../moment-es6/node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"../../../../moment-es6/node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"../../../../moment-es6/node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"../../../../moment-es6/node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"../../../../moment-es6/node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"../../../../moment-es6/node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"../../../../moment-es6/node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"../../../../moment-es6/node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"../../../../moment-es6/node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"../../../../moment-es6/node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"../../../../moment-es6/node_modules/moment/locale/mt.js\",\n\t\"./my\": \"../../../../moment-es6/node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"../../../../moment-es6/node_modules/moment/locale/my.js\",\n\t\"./nb\": \"../../../../moment-es6/node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"../../../../moment-es6/node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"../../../../moment-es6/node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"../../../../moment-es6/node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"../../../../moment-es6/node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"../../../../moment-es6/node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"../../../../moment-es6/node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"../../../../moment-es6/node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"../../../../moment-es6/node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"../../../../moment-es6/node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"../../../../moment-es6/node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"../../../../moment-es6/node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"../../../../moment-es6/node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"../../../../moment-es6/node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"../../../../moment-es6/node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"../../../../moment-es6/node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"../../../../moment-es6/node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"../../../../moment-es6/node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"../../../../moment-es6/node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"../../../../moment-es6/node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"../../../../moment-es6/node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"../../../../moment-es6/node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"../../../../moment-es6/node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"../../../../moment-es6/node_modules/moment/locale/sd.js\",\n\t\"./se\": \"../../../../moment-es6/node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"../../../../moment-es6/node_modules/moment/locale/se.js\",\n\t\"./si\": \"../../../../moment-es6/node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"../../../../moment-es6/node_modules/moment/locale/si.js\",\n\t\"./sk\": \"../../../../moment-es6/node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"../../../../moment-es6/node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"../../../../moment-es6/node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"../../../../moment-es6/node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"../../../../moment-es6/node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"../../../../moment-es6/node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"../../../../moment-es6/node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"../../../../moment-es6/node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"../../../../moment-es6/node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"../../../../moment-es6/node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"../../../../moment-es6/node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"../../../../moment-es6/node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"../../../../moment-es6/node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"../../../../moment-es6/node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"../../../../moment-es6/node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"../../../../moment-es6/node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"../../../../moment-es6/node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"../../../../moment-es6/node_modules/moment/locale/ta.js\",\n\t\"./te\": \"../../../../moment-es6/node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"../../../../moment-es6/node_modules/moment/locale/te.js\",\n\t\"./tet\": \"../../../../moment-es6/node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"../../../../moment-es6/node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"../../../../moment-es6/node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"../../../../moment-es6/node_modules/moment/locale/tg.js\",\n\t\"./th\": \"../../../../moment-es6/node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"../../../../moment-es6/node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"../../../../moment-es6/node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"../../../../moment-es6/node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"../../../../moment-es6/node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"../../../../moment-es6/node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"../../../../moment-es6/node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"../../../../moment-es6/node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"../../../../moment-es6/node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"../../../../moment-es6/node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"../../../../moment-es6/node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"../../../../moment-es6/node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"../../../../moment-es6/node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"../../../../moment-es6/node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"../../../../moment-es6/node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"../../../../moment-es6/node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"../../../../moment-es6/node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"../../../../moment-es6/node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"../../../../moment-es6/node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"../../../../moment-es6/node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"../../../../moment-es6/node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"../../../../moment-es6/node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"../../../../moment-es6/node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"../../../../moment-es6/node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"../../../../moment-es6/node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"../../../../moment-es6/node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"../../../../moment-es6/node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"../../../../moment-es6/node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"../../../../moment-es6/node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"../../../../moment-es6/node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"../../../../moment-es6/node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"../../../../moment-es6/node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"../../../../moment-es6/node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"../../../../moment-es6/node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"../../../../moment-es6/node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"../../../../moment-es6/node_modules/moment/locale/zh-tw.js\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"../../../../moment-es6/node_modules/moment/locale recursive ^\\\\.\\\\/.*$\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/dilue/PhpstormProjects/toowong-maps/~/moment-es6/~/moment/locale ^\\.\\/.*$\n// module id = ../../../../moment-es6/node_modules/moment/locale recursive ^\\.\\/.*$\n// module chunks = 1"],"sourceRoot":""}